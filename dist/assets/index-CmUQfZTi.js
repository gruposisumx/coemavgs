const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ydqJ-5LA.js","assets/react-vendor-CGJkDKdD.js"])))=>i.map(i=>d[i]);
import{r as je,a as So,g as Eu,c as Ne,R as Fe,b as To}from"./react-vendor-CGJkDKdD.js";import{L as Xe,u as Zr,N as Ou,B as Su,R as Tu,a as ft}from"./router-CEvPyYcg.js";import{X as sa,M as Au,H as Kr,a as Ao,P as jo,b as oa,B as ju,c as Nu,S as Pu,L as la,d as No,C as Cu,e as ua,f as Iu,g as Ru,T as Po,h as Lu,i as Du,F as La,I as Mu,j as $u,k as qu,l as Bu}from"./ui-B9p0ZTGC.js";import{u as Tt,t as Bt,C as Fu}from"./form-BJ1SRtjc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Co={exports:{}},Gr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=je,zu=Symbol.for("react.element"),Hu=Symbol.for("react.fragment"),Vu=Object.prototype.hasOwnProperty,Wu=Uu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zu={key:!0,ref:!0,__self:!0,__source:!0};function Io(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Vu.call(e,r)&&!Zu.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zu,type:t,key:a,ref:s,props:i,_owner:Wu.current}}Gr.Fragment=Hu;Gr.jsx=Io;Gr.jsxs=Io;Co.exports=Gr;var w=Co.exports,Ro,Da=So;Ro=Da.createRoot,Da.hydrateRoot;const Ku="modulepreload",Gu=function(t){return"/"+t},Ma={},bn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Gu(l),l in Ma)return;Ma[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Ku,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Yu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ca extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ju extends ca{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qu extends ca{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xu extends ca{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Li;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Li||(Li={}));var ec=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class tc{constructor(e,{headers:n={},customFetch:r,region:i=Li.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Yu(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return ec(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(v=>{throw new Ju(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Qu(u);if(!u.ok)throw new Xu(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield u.json():h==="application/octet-stream"?d=yield u.blob():h==="text/event-stream"?d=u:h==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(i){return{data:null,error:i}}})}}var Ye={},fa={},Yr={},hr={},Jr={},Qr={},nc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=nc();const rc=_n.fetch,Lo=_n.fetch.bind(_n),Do=_n.Headers,ic=_n.Request,ac=_n.Response,En=Object.freeze(Object.defineProperty({__proto__:null,Headers:Do,Request:ic,Response:ac,default:Lo,fetch:rc},Symbol.toStringTag,{value:"Module"})),sc=Eu(En);var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});let oc=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xr.default=oc;var Mo=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});const lc=Mo(sc),uc=Mo(Xr);let cc=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=lc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,u=null,f=null,h=a.status,d=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await a.text();try{c=JSON.parse(m),Array.isArray(c)&&a.status===404&&(u=[],c=null,h=200,d="OK")}catch{a.status===404&&m===""?(h=204,d="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,d="OK"),c&&this.shouldThrowOnError)throw new uc.default(c)}return{error:c,data:u,count:f,status:h,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Qr.default=cc;var fc=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});const dc=fc(Qr);let hc=class extends dc.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jr.default=hc;var pc=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hr,"__esModule",{value:!0});const mc=pc(Jr);let gc=class extends mc.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};hr.default=gc;var yc=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});const Dn=yc(hr);let vc=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Dn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Dn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Dn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Dn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yr.default=vc;var ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.version=void 0;ti.version="0.0.0-automated";Object.defineProperty(ei,"__esModule",{value:!0});ei.DEFAULT_HEADERS=void 0;const bc=ti;ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bc.version}`};var $o=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});const _c=$o(Yr),xc=$o(hr),wc=ei;let kc=class qo{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},wc.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new _c.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{o.searchParams.append(u,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new xc.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fa.default=kc;var On=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.PostgrestError=Ye.PostgrestBuilder=Ye.PostgrestTransformBuilder=Ye.PostgrestFilterBuilder=Ye.PostgrestQueryBuilder=Ye.PostgrestClient=void 0;const Bo=On(fa);Ye.PostgrestClient=Bo.default;const Fo=On(Yr);Ye.PostgrestQueryBuilder=Fo.default;const Uo=On(hr);Ye.PostgrestFilterBuilder=Uo.default;const zo=On(Jr);Ye.PostgrestTransformBuilder=zo.default;const Ho=On(Qr);Ye.PostgrestBuilder=Ho.default;const Vo=On(Xr);Ye.PostgrestError=Vo.default;var Ec=Ye.default={PostgrestClient:Bo.default,PostgrestQueryBuilder:Fo.default,PostgrestFilterBuilder:Uo.default,PostgrestTransformBuilder:zo.default,PostgrestBuilder:Ho.default,PostgrestError:Vo.default};const{PostgrestClient:Oc,PostgrestQueryBuilder:QE,PostgrestFilterBuilder:XE,PostgrestTransformBuilder:eO,PostgrestBuilder:tO,PostgrestError:nO}=Ec,Sc="2.11.2",Tc={"X-Client-Info":`realtime-js/${Sc}`},Ac="1.0.0",Wo=1e4,jc=1e3;var pn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pn||(pn={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var st;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(st||(st={}));var Di;(function(t){t.websocket="websocket"})(Di||(Di={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class Nc{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Zo{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const $a=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=Pc(s,t,e,i),a),{})},Pc=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?Ko(a,s):Mi(s)},Ko=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lc(e,n)}switch(t){case Pe.bool:return Cc(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return Ic(e);case Pe.json:case Pe.jsonb:return Rc(e);case Pe.timestamp:return Dc(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Mi(e);default:return Mi(e)}},Mi=t=>t,Cc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ic=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lc=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Ko(e,o))}return t},Dc=t=>typeof t=="string"?t.replace(" ","T"):t,Go=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class mi{constructor(e,n,r={},i=Wo){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qa;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qa||(qa={}));class Vn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vn.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Vn.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vn.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const h=u.map(b=>b.presence_ref),d=f.map(b=>b.presence_ref),v=u.filter(b=>d.indexOf(b.presence_ref)<0),m=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),m.length>0&&(l[c]=m)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);e[o].unshift(...h)}r(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ba;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ba||(Ba={}));var Fa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fa||(Fa={}));var Ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ot||(Ot={}));class da{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mi(this,st.join,this.params,this.timeout),this.rejoinTimer=new Zo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Vn(this),this.broadcastEndpointURL=Go(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Ot.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ot.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(Ot.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<d;m++){const b=h[m],{filter:{event:p,schema:g,table:_,filter:y}}=b,x=u&&u[m];if(x&&x.event===p&&x.schema===g&&x.table===_&&x.filter===y)v.push(Object.assign(Object.assign({},b),{id:x.id}));else{this.unsubscribe(),e==null||e(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ot.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new mi(this,st.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mi(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=st;if(r&&[o,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var v,m,b;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(m=d.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(d=>d.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(d=>{var v,m,b,p,g,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const y=d.id,x=(v=d.filter)===null||v===void 0?void 0:v.event;return y&&((m=n.ids)===null||m===void 0?void 0:m.includes(y))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const y=(g=(p=d==null?void 0:d.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return y==="*"||y===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:b,commit_timestamp:p,type:g,errors:_}=v;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:p,eventType:g,new:{},old:{},errors:_}),this._getPayloadRecords(v))}d.callback(h,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&da.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(st.close,{},e)}_onError(e){this._on(st.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$a(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$a(e.columns,e.old_record)),n}}const Mc=()=>{},$c=typeof WebSocket<"u",qc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bc{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Tc,this.params={},this.timeout=Wo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mc,this.conn=null,this.sendBuffer=[],this.serializer=new Nc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>bn(async()=>{const{default:l}=await Promise.resolve().then(()=>En);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${Di.websocket}`,this.httpEndpoint=Go(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if($c){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Fc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bn(async()=>{const{default:e}=await import("./browser-ydqJ-5LA.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ac}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pn.connecting:return Kt.Connecting;case pn.open:return Kt.Open;case pn.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(e,n={config:{}}){const r=new da(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(st.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(jc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(st.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([qc],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Fc{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ha extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Uc extends ha{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $i extends ha{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Yo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Hc=()=>zc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bn(()=>Promise.resolve().then(()=>En),void 0)).Response:Response}),qi=t=>{if(Array.isArray(t))return t.map(n=>qi(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=qi(r)}),e};var en=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vc=(t,e,n)=>en(void 0,void 0,void 0,function*(){const r=yield Hc();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Uc(gi(i),t.status||500))}).catch(i=>{e(new $i(gi(i),i))}):e(new $i(gi(t),t))}),Wc=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function pr(t,e,n,r,i,a){return en(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,Wc(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Vc(l,o,r))})})}function Pr(t,e,n,r){return en(this,void 0,void 0,function*(){return pr(t,"GET",e,n,r)})}function It(t,e,n,r,i){return en(this,void 0,void 0,function*(){return pr(t,"POST",e,r,i,n)})}function Zc(t,e,n,r,i){return en(this,void 0,void 0,function*(){return pr(t,"PUT",e,r,i,n)})}function Kc(t,e,n,r){return en(this,void 0,void 0,function*(){return pr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jo(t,e,n,r,i){return en(this,void 0,void 0,function*(){return pr(t,"DELETE",e,r,i,n)})}var Ke=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Gc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ua={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yc{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Yo(i)}uploadOrUpdate(e,n,r,i){return Ke(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Ua),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(ze(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ke(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ua.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield It(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new ha("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield It(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ke(this,void 0,void 0,function*(){try{const i=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}download(e,n){return Ke(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Pr(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ze(o))return{data:null,error:o};throw o}})}info(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Pr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qi(r),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}exists(e){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Kc(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ze(r)&&r instanceof $i){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Gc),n),{prefix:e||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Jc="2.7.1",Qc={"X-Client-Info":`storage-js/${Jc}`};var an=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Xc{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Qc),n),this.fetch=Yo(r)}listBuckets(){return an(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ze(e))return{data:null,error:e};throw e}})}getBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return an(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return an(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}deleteBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}}class ef extends Xc{constructor(e,n={},r){super(e,n,r)}from(e){return new Yc(this.url,this.headers,e,this.fetch)}}const tf="2.47.12";let Un="";typeof Deno<"u"?Un="deno":typeof document<"u"?Un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Un="react-native":Un="node";const nf={"X-Client-Info":`supabase-js-${Un}/${tf}`},rf={headers:nf},af={schema:"public"},sf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},of={};var lf=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const uf=t=>{let e;return t?e=t:typeof fetch>"u"?e=Lo:e=fetch,(...n)=>e(...n)},cf=()=>typeof Headers>"u"?Do:Headers,ff=(t,e,n)=>{const r=uf(n),i=cf();return(a,s)=>lf(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var df=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function hf(t){return t.replace(/\/$/,"")}function pf(t,e){const{db:n,auth:r,realtime:i,global:a}=t,{db:s,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),a),accessToken:()=>df(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Qo="2.67.3",mf="http://localhost:9999",gf="supabase.auth.token",yf={"X-Client-Info":`gotrue-js/${Qo}`},za=10,Bi="X-Supabase-Api-Version",Xo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function vf(t){return Math.round(Date.now()/1e3)+t}function bf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ht=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},Wn=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function _f(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const el=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>bn(async()=>{const{default:r}=await Promise.resolve().then(()=>En);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tl=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_r=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xr=async(t,e)=>{await t.removeItem(e)};function wf(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,a,s,o,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=s<<2|o>>4,i=(o&15)<<4|l>>2,a=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class ni{constructor(){this.promise=new ni.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ni.promiseConstructor=Promise;function Ha(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(wf(r))}async function kf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ef(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Of(t){return("0"+t.toString(16)).substr(-2)}function Sf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Of).join("")}async function Tf(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function Af(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Tf(t);return Af(n)}async function sn(t,e,n=!1){const r=Sf();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await tl(t,`${e}-code-verifier`,i);const a=await jf(r);return[a,r===a?"plain":"s256"]}const Nf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pf(t){const e=t.headers.get(Bi);if(!e||!e.match(Nf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class pa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cf extends pa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function If(t){return be(t)&&t.name==="AuthApiError"}class nl extends pa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tn extends pa{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Pt extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rf(t){return be(t)&&t.name==="AuthSessionMissingError"}class yi extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kr extends tn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lf(t){return be(t)&&t.name==="AuthImplicitGrantRedirectError"}class Va extends tn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fi extends tn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vi(t){return be(t)&&t.name==="AuthRetryableFetchError"}class Wa extends tn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Df=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mf=[502,503,504];async function Za(t){var e;if(!xf(t))throw new Fi(Vt(t),0);if(Mf.includes(t.status))throw new Fi(Vt(t),t.status);let n;try{n=await t.json()}catch(a){throw new nl(Vt(a),a)}let r;const i=Pf(t);if(i&&i.getTime()>=Xo["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wa(Vt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Wa(Vt(n),t.status,n.weak_password.reasons);throw new Cf(Vt(n),t.status||500,r)}const $f=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Bi]||(a[Bi]=Xo["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await qf(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qf(t,e,n,r,i,a){const s=$f(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new Fi(Vt(l),0)}if(o.ok||await Za(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Za(l)}}function Ct(t){var e;let n=null;zf(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vf(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ka(t){const e=Ct(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bf(t){return{data:t,error:null}}function Ff(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=Df(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Uf(t){return t}function zf(t){return t.access_token&&t.refresh_token&&t.expires_in}var Hf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Vf{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=el(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rt})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Hf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ff,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Uf});if(u.error)throw u.error;const f=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(be(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rt})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rt})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}}const Wf={getItem:t=>Wn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Wn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Wn()&&globalThis.localStorage.removeItem(t)}};function Ga(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Zf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const on={debug:!!(globalThis&&Wn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kf extends rl{}async function Gf(t,e,n){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),on.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{on.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw on.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Kf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(on.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Zf();const Yf={url:mf,storageKey:gf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Mn=30*1e3,Ya=3;async function Ja(t,e,n){return await n()}class Yn{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yn.nextInstanceID,Yn.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Yf),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Vf({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=el(i.fetch),this.lock=i.lock||Ja,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ht()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gf:this.lock=Ja,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Wn()?this.storage=Wf:(this.memoryStorage={},this.storage=Ga(this.memoryStorage)):(this.memoryStorage={},this.storage=Ga(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=_f(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ht()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Lf(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?{error:n}:{error:new nl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ct}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:u,password:f,options:h}=e;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await sn(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:Ct})}else if("phone"in e){const{phone:u,password:f,options:h}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ct})}else throw new wr("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ka})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ka})}else throw new wr("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await _r(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ct});if(await xr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new yi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ct}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await sn(this.storage,this.storageKey));const{error:f}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new wr("You must provide either an email or phone number.")}catch(o){if(be(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ct});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await sn(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Bf})}catch(a){if(be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pt;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new wr("You must provide either an email or phone number and a type")}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rt})})}catch(n){if(be(n))return Rf(n)&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Pt;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await sn(this.storage,this.storageKey));const{data:c,error:u}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Rt});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ha(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,i=!0,a=null;const s=Ha(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ht())throw new kr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Va("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Va("No code detected.");const{data:g,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new kr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const d=h-u;d*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:b}=await this._getUser(a);if(b)throw b;const p={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(If(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=bf(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sn(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:h}=a;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ht()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(be(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ef(async i=>(i>0&&await kf(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ct})),(i,a)=>{const s=200*Math.pow(2,i);return a&&vi(a)&&Date.now()+s-r<Mn})}catch(r){if(this._debug(n,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ht()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await _r(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+za;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${za}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),vi(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ni;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Pt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),be(a)){const s={session:null,error:a};return vi(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Mn}ms, refresh threshold is ${Ya} ticks`),i<=Ya&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await sn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Yn.nextInstanceID=0;const Jf=Yn;class Qf extends Jf{constructor(e){super(e)}}var Xf=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class ed{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=hf(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:af,realtime:of,auth:Object.assign(Object.assign({},sf),{storageKey:l}),global:rf},u=pf(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=ff(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Oc(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new tc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ef(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Xf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,u){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qf({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new Bc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const td=(t,e,n)=>new ed(t,e,n),nd="https://luxhpbqgvoyhjczxnruy.supabase.co",rd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1eGhwYnFndm95aGpjenhucnV5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYyODc0MTYsImV4cCI6MjA1MTg2MzQxNn0.sJRV2cxXQxK-aRZEL4fDslM-Du09V1S9BfsCXd9sxMU",Le=td(nd,rd,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});async function id(){try{const{data:{session:t},error:e}=await Le.auth.getSession();if(e)throw e;const{error:n}=await Le.from("resources").select("id").limit(1);if(n)throw n;return console.log("Supabase initialized successfully"),!0}catch(t){return console.error("Error initializing Supabase:",t),!1}}const il=je.createContext(null);function ad({children:t}){const[e,n]=je.useState(null),[r,i]=je.useState(!0);je.useEffect(()=>{Le.auth.getSession().then(({data:{session:u}})=>{n((u==null?void 0:u.user)??null),i(!1)});const{data:{subscription:c}}=Le.auth.onAuthStateChange((u,f)=>{n((f==null?void 0:f.user)??null)});return()=>c.unsubscribe()},[]);const l={user:e,loading:r,signInWithEmail:async(c,u)=>{const{error:f}=await Le.auth.signInWithPassword({email:c,password:u});if(f)throw f},signInWithGoogle:async()=>{const{error:c}=await Le.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:`${window.location.origin}/auth/callback`}});if(c)throw c},signOut:async()=>{const{error:c}=await Le.auth.signOut();if(c)throw c}};return w.jsx(il.Provider,{value:l,children:!r&&t})}function Ft(){const t=je.useContext(il);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function sd(){const[t,e]=Fe.useState(!1),{user:n,signOut:r}=Ft();return w.jsx("header",{className:"bg-gradient-to-r from-primary-500 to-secondary-600 text-white",children:w.jsxs("nav",{className:"container mx-auto px-4 py-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(Xe,{to:"/",className:"flex items-center space-x-2",children:w.jsx("img",{src:"/logo.png",alt:"COEMAV",className:"h-12"})}),w.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[w.jsx(Xe,{to:"/recursos",className:"hover:text-primary-100",children:"Recursos"}),w.jsx(Xe,{to:"/blog",className:"hover:text-primary-100",children:"Blog"}),w.jsx(Xe,{to:"/profesionales",className:"hover:text-primary-100",children:"Profesionales"}),n&&w.jsx(Xe,{to:"/staff",className:"hover:text-primary-100",children:"Staff"}),n?w.jsxs(w.Fragment,{children:[w.jsx(Xe,{to:"/perfil",className:"hover:text-primary-100",children:"Mi Perfil"}),w.jsx("button",{onClick:r,className:"bg-white text-primary-600 px-4 py-2 rounded-lg hover:bg-primary-50",children:"Cerrar Sesin"})]}):w.jsx(Xe,{to:"/login",className:"bg-white text-primary-600 px-4 py-2 rounded-lg hover:bg-primary-50",children:"Iniciar Sesin"})]}),w.jsx("button",{className:"md:hidden",onClick:()=>e(!t),children:t?w.jsx(sa,{}):w.jsx(Au,{})})]}),t&&w.jsx("div",{className:"md:hidden pt-4 pb-3",children:w.jsxs("div",{className:"flex flex-col space-y-3",children:[w.jsx(Xe,{to:"/recursos",className:"hover:text-primary-100",children:"Recursos"}),w.jsx(Xe,{to:"/blog",className:"hover:text-primary-100",children:"Blog"}),w.jsx(Xe,{to:"/profesionales",className:"hover:text-primary-100",children:"Profesionales"}),n&&w.jsx(Xe,{to:"/staff",className:"hover:text-primary-100",children:"Staff"}),n?w.jsxs(w.Fragment,{children:[w.jsx(Xe,{to:"/perfil",className:"hover:text-primary-100",children:"Mi Perfil"}),w.jsx("button",{onClick:r,className:"bg-white text-primary-600 px-4 py-2 rounded-lg hover:bg-primary-50 text-left",children:"Cerrar Sesin"})]}):w.jsx(Xe,{to:"/login",className:"bg-white text-primary-600 px-4 py-2 rounded-lg hover:bg-primary-50",children:"Iniciar Sesin"})]})})]})})}function od(){return w.jsx("footer",{className:"bg-purple-900 text-white",children:w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[w.jsx(Kr,{className:"mr-2"})," COEMAV"]}),w.jsx("p",{className:"text-purple-200",children:"Centro de Oportunidad de Empoderamiento para Mujeres Afectadas por la Violencia"})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contacto"}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-center",children:[w.jsx(Ao,{className:"mr-2 h-5 w-5"}),w.jsx("span",{children:"Av. Principal #123, Ciudad"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(jo,{className:"mr-2 h-5 w-5"}),w.jsx("span",{children:"+1 234 567 890"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(oa,{className:"mr-2 h-5 w-5"}),w.jsx("span",{children:"contacto@coemav.org"})]})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Enlaces tiles"}),w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx("a",{href:"/privacidad",className:"hover:text-purple-200",children:"Poltica de Privacidad"})}),w.jsx("li",{children:w.jsx("a",{href:"/terminos",className:"hover:text-purple-200",children:"Trminos de Uso"})}),w.jsx("li",{children:w.jsx("a",{href:"/reglas",className:"hover:text-purple-200",children:"Reglas de Convivencia"})})]})]})]}),w.jsx("div",{className:"border-t border-purple-800 mt-8 pt-8 text-center",children:w.jsxs("p",{className:"text-purple-200",children:[" ",new Date().getFullYear()," COEMAV. Todos los derechos reservados."]})})]})})}function ld(){return w.jsxs("div",{className:"bg-gradient-to-b from-purple-50 to-white",children:[w.jsx("section",{className:"relative py-20 px-4",children:w.jsxs("div",{className:"container mx-auto text-center",children:[w.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-purple-900 mb-6",children:"Juntas Somos Ms Fuertes"}),w.jsx("p",{className:"text-xl text-purple-700 mb-8 max-w-2xl mx-auto",children:"Un espacio seguro para sanar, crecer y empoderarte. Encuentra apoyo, recursos y una comunidad que te comprende."}),w.jsx("a",{href:"/recursos",className:"inline-block bg-purple-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-purple-700 transition-colors",children:"Descubre Nuestros Recursos"})]})}),w.jsx("section",{className:"py-16 px-4 bg-white",children:w.jsxs("div",{className:"container mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-center text-purple-900 mb-12",children:"Qu Ofrecemos?"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[w.jsx(Er,{icon:w.jsx(Kr,{className:"w-12 h-12 text-purple-600"}),title:"Apoyo Emocional",description:"Encuentra comprensin y apoyo en nuestra comunidad de mujeres que comparten experiencias similares."}),w.jsx(Er,{icon:w.jsx(ju,{className:"w-12 h-12 text-purple-600"}),title:"Recursos Profesionales",description:"Accede a herramientas y recursos desarrollados por expertos en salud mental."}),w.jsx(Er,{icon:w.jsx(Nu,{className:"w-12 h-12 text-purple-600"}),title:"Diario Personal",description:"Lleva un registro privado de tu proceso de sanacin y crecimiento personal."}),w.jsx(Er,{icon:w.jsx(Pu,{className:"w-12 h-12 text-purple-600"}),title:"Testimonios Inspiradores",description:"Conoce historias de superacin que te motivarn en tu propio camino."})]})]})}),w.jsx("section",{className:"py-16 px-4 bg-purple-50",children:w.jsxs("div",{className:"container mx-auto max-w-4xl",children:[w.jsx("h2",{className:"text-3xl font-bold text-center text-purple-900 mb-8",children:"Dato del Da"}),w.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[w.jsx("p",{className:"text-lg text-purple-800 leading-relaxed",children:'"La recuperacin emocional es un proceso gradual. Cada pequeo paso cuenta y es importante celebrar cada victoria, por pequea que parezca."'}),w.jsx("p",{className:"mt-4 text-purple-600 font-semibold",children:"- Dra. Mara Gonzlez, Psicloga Especialista"})]})]})})]})}function Er({icon:t,title:e,description:n}){return w.jsxs("div",{className:"text-center p-6 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors",children:[w.jsx("div",{className:"flex justify-center mb-4",children:t}),w.jsx("h3",{className:"text-xl font-semibold text-purple-900 mb-3",children:e}),w.jsx("p",{className:"text-purple-700",children:n})]})}var Oe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Oe||(Oe={}));var Ui;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ui||(Ui={}));const ae=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lt=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},Q=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ud=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof rt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rt.create=t=>new rt(t);const xn=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Oe.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Oe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Oe.assertNever(t)}return{message:n}};let al=xn;function cd(t){al=t}function Cr(){return al}const Ir=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},fd=[];function ne(t,e){const n=Cr(),r=Ir({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===xn?void 0:xn].filter(i=>!!i)});t.common.issues.push(r)}class Ve{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return fe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return Ve.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return fe;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const fe=Object.freeze({status:"aborted"}),fn=t=>({status:"dirty",value:t}),Ze=t=>({status:"valid",value:t}),zi=t=>t.status==="aborted",Hi=t=>t.status==="dirty",Jn=t=>t.status==="valid",Qn=t=>typeof Promise<"u"&&t instanceof Promise;function Rr(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function sl(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(oe||(oe={}));var zn,Hn;class bt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qa=(t,e)=>{if(Jn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rt(t.common.issues);return this._error=n,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}},description:i}}class _e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Lt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ve,ctx:{common:e.parent.common,data:e.data,parsedType:Lt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Qa(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lt(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Qn(i)?i:Promise.resolve(i));return Qa(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Q.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ut({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return vt.create(this,this._def)}nullable(){return qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lt.create(this,this._def)}promise(){return kn.create(this,this._def)}or(e){return nr.create([this,e],this._def)}and(e){return rr.create(this,e,this._def)}transform(e){return new ut({...ge(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new lr({...ge(this._def),innerType:this,defaultValue:n,typeName:ue.ZodDefault})}brand(){return new ma({typeName:ue.ZodBranded,type:this,...ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ur({...ge(this._def),innerType:this,catchValue:n,typeName:ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mr.create(this,e)}readonly(){return cr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dd=/^c[^\s-]{8,}$/i,hd=/^[0-9a-z]+$/,pd=/^[0-9A-HJKMNP-TV-Z]{26}$/,md=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gd=/^[a-z0-9_-]{21}$/i,yd=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vd=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bi;const _d=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xd=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wd=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ol="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kd=new RegExp(`^${ol}$`);function ll(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ed(t){return new RegExp(`^${ll(t)}$`)}function ul(t){let e=`${ol}T${ll(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Od(t,e){return!!((e==="v4"||!e)&&_d.test(t)||(e==="v6"||!e)&&xd.test(t))}class ot extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const a=this._getOrReturnCtx(e);return ne(a,{code:Q.invalid_type,expected:ae.string,received:a.parsedType}),fe}const r=new Ve;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?ne(i,{code:Q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&ne(i,{code:Q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")vd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")bi||(bi=new RegExp(bd,"u")),bi.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")md.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")gd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"nanoid",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")dd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")hd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")pd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:Q.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:Q.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:Q.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?ul(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?kd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Ed(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?yd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"duration",code:Q.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Od(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:Q.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?wd.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"base64",code:Q.invalid_string,message:a.message}),r.dirty()):Oe.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Q.invalid_string,...oe.errToObj(r)})}_addCheck(e){return new ot({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...oe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...oe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...oe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...oe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...oe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...oe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...oe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...oe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...oe.errToObj(n)})}nonempty(e){return this.min(1,oe.errToObj(e))}trim(){return new ot({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ot({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ot({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ot.create=t=>{var e;return new ot({checks:[],typeName:ue.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};function Sd(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class Dt extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const a=this._getOrReturnCtx(e);return ne(a,{code:Q.invalid_type,expected:ae.number,received:a.parsedType}),fe}let r;const i=new Ve;for(const a of this._def.checks)a.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Sd(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_finite,message:a.message}),i.dirty()):Oe.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,oe.toString(n))}setLimit(e,n,r,i){return new Dt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:oe.toString(i)}]})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:oe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Dt.create=t=>new Dt({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class Mt extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ae.bigint){const a=this._getOrReturnCtx(e);return ne(a,{code:Q.invalid_type,expected:ae.bigint,received:a.parsedType}),fe}let r;const i=new Ve;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:Q.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Oe.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,oe.toString(n))}setLimit(e,n,r,i){return new Mt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:oe.toString(i)}]})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:oe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mt.create=t=>{var e;return new Mt({checks:[],typeName:ue.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ge(t)})};class Xn extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.boolean,received:r.parsedType}),fe}return Ze(e.data)}}Xn.create=t=>new Xn({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class Jt extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const a=this._getOrReturnCtx(e);return ne(a,{code:Q.invalid_type,expected:ae.date,received:a.parsedType}),fe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ne(a,{code:Q.invalid_date}),fe}const r=new Ve;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Q.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Oe.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:oe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:oe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jt.create=t=>new Jt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...ge(t)});class Lr extends _e{_parse(e){if(this._getType(e)!==ae.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.symbol,received:r.parsedType}),fe}return Ze(e.data)}}Lr.create=t=>new Lr({typeName:ue.ZodSymbol,...ge(t)});class er extends _e{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.undefined,received:r.parsedType}),fe}return Ze(e.data)}}er.create=t=>new er({typeName:ue.ZodUndefined,...ge(t)});class tr extends _e{_parse(e){if(this._getType(e)!==ae.null){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.null,received:r.parsedType}),fe}return Ze(e.data)}}tr.create=t=>new tr({typeName:ue.ZodNull,...ge(t)});class wn extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return Ze(e.data)}}wn.create=t=>new wn({typeName:ue.ZodAny,...ge(t)});class Yt extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ze(e.data)}}Yt.create=t=>new Yt({typeName:ue.ZodUnknown,...ge(t)});class St extends _e{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:Q.invalid_type,expected:ae.never,received:n.parsedType}),fe}}St.create=t=>new St({typeName:ue.ZodNever,...ge(t)});class Dr extends _e{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.void,received:r.parsedType}),fe}return Ze(e.data)}}Dr.create=t=>new Dr({typeName:ue.ZodVoid,...ge(t)});class lt extends _e{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ae.array)return ne(n,{code:Q.invalid_type,expected:ae.array,received:n.parsedType}),fe;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(ne(n,{code:s?Q.too_big:Q.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ne(n,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ne(n,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new bt(n,s,n.path,o)))).then(s=>Ve.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new bt(n,s,n.path,o)));return Ve.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new lt({...this._def,minLength:{value:e,message:oe.toString(n)}})}max(e,n){return new lt({...this._def,maxLength:{value:e,message:oe.toString(n)}})}length(e,n){return new lt({...this._def,exactLength:{value:e,message:oe.toString(n)}})}nonempty(e){return this.min(1,e)}}lt.create=(t,e)=>new lt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...ge(e)});function cn(t){if(t instanceof Me){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=vt.create(cn(r))}return new Me({...t._def,shape:()=>e})}else return t instanceof lt?new lt({...t._def,type:cn(t.element)}):t instanceof vt?vt.create(cn(t.unwrap())):t instanceof qt?qt.create(cn(t.unwrap())):t instanceof _t?_t.create(t.items.map(e=>cn(e))):t}class Me extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Oe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ae.object){const c=this._getOrReturnCtx(e);return ne(c,{code:Q.invalid_type,expected:ae.object,received:c.parsedType}),fe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof St&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bt(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof St){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(ne(i,{code:Q.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bt(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ve.mergeObjectSync(r,c)):Ve.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return oe.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=oe.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const n={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Me({...this._def,shape:()=>n})}omit(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Me({...this._def,shape:()=>n})}deepPartial(){return cn(this)}partial(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Me({...this._def,shape:()=>n})}required(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof vt;)a=a._def.innerType;n[r]=a}}),new Me({...this._def,shape:()=>n})}keyof(){return cl(Oe.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:St.create(),typeName:ue.ZodObject,...ge(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:St.create(),typeName:ue.ZodObject,...ge(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:St.create(),typeName:ue.ZodObject,...ge(e)});class nr extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new rt(o.ctx.common.issues));return ne(n,{code:Q.invalid_union,unionErrors:s}),fe}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new rt(l));return ne(n,{code:Q.invalid_union,unionErrors:o}),fe}}get options(){return this._def.options}}nr.create=(t,e)=>new nr({options:t,typeName:ue.ZodUnion,...ge(e)});const Et=t=>t instanceof ar?Et(t.schema):t instanceof ut?Et(t.innerType()):t instanceof sr?[t.value]:t instanceof $t?t.options:t instanceof or?Oe.objectValues(t.enum):t instanceof lr?Et(t._def.innerType):t instanceof er?[void 0]:t instanceof tr?[null]:t instanceof vt?[void 0,...Et(t.unwrap())]:t instanceof qt?[null,...Et(t.unwrap())]:t instanceof ma||t instanceof cr?Et(t.unwrap()):t instanceof ur?Et(t._def.innerType):[];class ri extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return ne(n,{code:Q.invalid_type,expected:ae.object,received:n.parsedType}),fe;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const s=Et(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new ri({typeName:ue.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ge(r)})}}function Vi(t,e){const n=Lt(t),r=Lt(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&r===ae.object){const i=Oe.objectKeys(e),a=Oe.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=Vi(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===ae.array&&r===ae.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=Vi(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ae.date&&r===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rr extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(zi(a)||zi(s))return fe;const o=Vi(a.value,s.value);return o.valid?((Hi(a)||Hi(s))&&n.dirty(),{status:n.value,value:o.data}):(ne(r,{code:Q.invalid_intersection_types}),fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rr.create=(t,e,n)=>new rr({left:t,right:e,typeName:ue.ZodIntersection,...ge(n)});class _t extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.array)return ne(r,{code:Q.invalid_type,expected:ae.array,received:r.parsedType}),fe;if(r.data.length<this._def.items.length)return ne(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new bt(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>Ve.mergeArray(n,s)):Ve.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new _t({...this._def,rest:e})}}_t.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _t({items:t,typeName:ue.ZodTuple,rest:null,...ge(e)})};class ir extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.object)return ne(r,{code:Q.invalid_type,expected:ae.object,received:r.parsedType}),fe;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in r.data)i.push({key:a._parse(new bt(r,o,r.path,o)),value:s._parse(new bt(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Ve.mergeObjectAsync(n,i):Ve.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _e?new ir({keyType:e,valueType:n,typeName:ue.ZodRecord,...ge(r)}):new ir({keyType:ot.create(),valueType:e,typeName:ue.ZodRecord,...ge(n)})}}class Mr extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.map)return ne(r,{code:Q.invalid_type,expected:ae.map,received:r.parsedType}),fe;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new bt(r,o,r.path,[c,"key"])),value:a._parse(new bt(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return fe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return fe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}Mr.create=(t,e,n)=>new Mr({valueType:e,keyType:t,typeName:ue.ZodMap,...ge(n)});class Qt extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.set)return ne(r,{code:Q.invalid_type,expected:ae.set,received:r.parsedType}),fe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ne(r,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ne(r,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return fe;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new bt(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Qt({...this._def,minSize:{value:e,message:oe.toString(n)}})}max(e,n){return new Qt({...this._def,maxSize:{value:e,message:oe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qt.create=(t,e)=>new Qt({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...ge(e)});class mn extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return ne(n,{code:Q.invalid_type,expected:ae.function,received:n.parsedType}),fe;function r(o,l){return Ir({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cr(),xn].filter(c=>!!c),issueData:{code:Q.invalid_arguments,argumentsError:l}})}function i(o,l){return Ir({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Cr(),xn].filter(c=>!!c),issueData:{code:Q.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof kn){const o=this;return Ze(async function(...l){const c=new rt([]),u=await o._def.args.parseAsync(l,a).catch(d=>{throw c.addIssue(r(l,d)),c}),f=await Reflect.apply(s,this,u);return await o._def.returns._def.type.parseAsync(f,a).catch(d=>{throw c.addIssue(i(f,d)),c})})}else{const o=this;return Ze(function(...l){const c=o._def.args.safeParse(l,a);if(!c.success)throw new rt([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),f=o._def.returns.safeParse(u,a);if(!f.success)throw new rt([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mn({...this._def,args:_t.create(e).rest(Yt.create())})}returns(e){return new mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new mn({args:e||_t.create([]).rest(Yt.create()),returns:n||Yt.create(),typeName:ue.ZodFunction,...ge(r)})}}class ar extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ar.create=(t,e)=>new ar({getter:t,typeName:ue.ZodLazy,...ge(e)});class sr extends _e{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}sr.create=(t,e)=>new sr({value:t,typeName:ue.ZodLiteral,...ge(e)});function cl(t,e){return new $t({values:t,typeName:ue.ZodEnum,...ge(e)})}class $t extends _e{constructor(){super(...arguments),zn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:Oe.joinValues(r),received:n.parsedType,code:Q.invalid_type}),fe}if(Rr(this,zn)||sl(this,zn,new Set(this._def.values)),!Rr(this,zn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:Q.invalid_enum_value,options:r}),fe}return Ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $t.create(e,{...this._def,...n})}exclude(e,n=this._def){return $t.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}zn=new WeakMap;$t.create=cl;class or extends _e{constructor(){super(...arguments),Hn.set(this,void 0)}_parse(e){const n=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ae.string&&r.parsedType!==ae.number){const i=Oe.objectValues(n);return ne(r,{expected:Oe.joinValues(i),received:r.parsedType,code:Q.invalid_type}),fe}if(Rr(this,Hn)||sl(this,Hn,new Set(Oe.getValidEnumValues(this._def.values))),!Rr(this,Hn).has(e.data)){const i=Oe.objectValues(n);return ne(r,{received:r.data,code:Q.invalid_enum_value,options:i}),fe}return Ze(e.data)}get enum(){return this._def.values}}Hn=new WeakMap;or.create=(t,e)=>new or({values:t,typeName:ue.ZodNativeEnum,...ge(e)});class kn extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return ne(n,{code:Q.invalid_type,expected:ae.promise,received:n.parsedType}),fe;const r=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return Ze(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kn.create=(t,e)=>new kn({type:t,typeName:ue.ZodPromise,...ge(e)});class ut extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{ne(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return fe;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?fe:l.status==="dirty"||n.value==="dirty"?fn(l.value):l});{if(n.value==="aborted")return fe;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?fe:o.status==="dirty"||n.value==="dirty"?fn(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?fe:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?fe:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jn(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Jn(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):s);Oe.assertNever(i)}}ut.create=(t,e,n)=>new ut({schema:t,typeName:ue.ZodEffects,effect:e,...ge(n)});ut.createWithPreprocess=(t,e,n)=>new ut({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...ge(n)});class vt extends _e{_parse(e){return this._getType(e)===ae.undefined?Ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vt.create=(t,e)=>new vt({innerType:t,typeName:ue.ZodOptional,...ge(e)});class qt extends _e{_parse(e){return this._getType(e)===ae.null?Ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:ue.ZodNullable,...ge(e)});class lr extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}lr.create=(t,e)=>new lr({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class ur extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new rt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ur.create=(t,e)=>new ur({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class $r extends _e{_parse(e){if(this._getType(e)!==ae.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:Q.invalid_type,expected:ae.nan,received:r.parsedType}),fe}return{status:"valid",value:e.data}}}$r.create=t=>new $r({typeName:ue.ZodNaN,...ge(t)});const Td=Symbol("zod_brand");class ma extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mr extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?fe:a.status==="dirty"?(n.dirty(),fn(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?fe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new mr({in:e,out:n,typeName:ue.ZodPipeline})}}class cr extends _e{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Jn(i)&&(i.value=Object.freeze(i.value)),i);return Qn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}cr.create=(t,e)=>new cr({innerType:t,typeName:ue.ZodReadonly,...ge(e)});function fl(t,e={},n){return t?wn.create().superRefine((r,i)=>{var a,s;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(s=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&s!==void 0?s:!0,c=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...c,fatal:l})}}):wn.create()}const Ad={object:Me.lazycreate};var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const jd=(t,e={message:`Input not instance of ${t.name}`})=>fl(n=>n instanceof t,e),dl=ot.create,hl=Dt.create,Nd=$r.create,Pd=Mt.create,pl=Xn.create,Cd=Jt.create,Id=Lr.create,Rd=er.create,Ld=tr.create,Dd=wn.create,Md=Yt.create,$d=St.create,qd=Dr.create,Bd=lt.create,Fd=Me.create,Ud=Me.strictCreate,zd=nr.create,Hd=ri.create,Vd=rr.create,Wd=_t.create,Zd=ir.create,Kd=Mr.create,Gd=Qt.create,Yd=mn.create,Jd=ar.create,Qd=sr.create,Xd=$t.create,eh=or.create,th=kn.create,Xa=ut.create,nh=vt.create,rh=qt.create,ih=ut.createWithPreprocess,ah=mr.create,sh=()=>dl().optional(),oh=()=>hl().optional(),lh=()=>pl().optional(),uh={string:t=>ot.create({...t,coerce:!0}),number:t=>Dt.create({...t,coerce:!0}),boolean:t=>Xn.create({...t,coerce:!0}),bigint:t=>Mt.create({...t,coerce:!0}),date:t=>Jt.create({...t,coerce:!0})},ch=fe;var le=Object.freeze({__proto__:null,defaultErrorMap:xn,setErrorMap:cd,getErrorMap:Cr,makeIssue:Ir,EMPTY_PATH:fd,addIssueToContext:ne,ParseStatus:Ve,INVALID:fe,DIRTY:fn,OK:Ze,isAborted:zi,isDirty:Hi,isValid:Jn,isAsync:Qn,get util(){return Oe},get objectUtil(){return Ui},ZodParsedType:ae,getParsedType:Lt,ZodType:_e,datetimeRegex:ul,ZodString:ot,ZodNumber:Dt,ZodBigInt:Mt,ZodBoolean:Xn,ZodDate:Jt,ZodSymbol:Lr,ZodUndefined:er,ZodNull:tr,ZodAny:wn,ZodUnknown:Yt,ZodNever:St,ZodVoid:Dr,ZodArray:lt,ZodObject:Me,ZodUnion:nr,ZodDiscriminatedUnion:ri,ZodIntersection:rr,ZodTuple:_t,ZodRecord:ir,ZodMap:Mr,ZodSet:Qt,ZodFunction:mn,ZodLazy:ar,ZodLiteral:sr,ZodEnum:$t,ZodNativeEnum:or,ZodPromise:kn,ZodEffects:ut,ZodTransformer:ut,ZodOptional:vt,ZodNullable:qt,ZodDefault:lr,ZodCatch:ur,ZodNaN:$r,BRAND:Td,ZodBranded:ma,ZodPipeline:mr,ZodReadonly:cr,custom:fl,Schema:_e,ZodSchema:_e,late:Ad,get ZodFirstPartyTypeKind(){return ue},coerce:uh,any:Dd,array:Bd,bigint:Pd,boolean:pl,date:Cd,discriminatedUnion:Hd,effect:Xa,enum:Xd,function:Yd,instanceof:jd,intersection:Vd,lazy:Jd,literal:Qd,map:Kd,nan:Nd,nativeEnum:eh,never:$d,null:Ld,nullable:rh,number:hl,object:Fd,oboolean:lh,onumber:oh,optional:nh,ostring:sh,pipeline:ah,preprocess:ih,promise:th,record:Zd,set:Gd,strictObject:Ud,string:dl,symbol:Id,transformer:Xa,tuple:Wd,undefined:Rd,union:zd,unknown:Md,void:qd,NEVER:ch,ZodIssueCode:Q,quotelessJson:ud,ZodError:rt});const De=je.forwardRef(({label:t,error:e,className:n="",...r},i)=>w.jsxs("div",{className:"space-y-1",children:[t&&w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),w.jsx("input",{ref:i,className:`w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 ${n}`,...r}),e&&w.jsx("p",{className:"text-red-600 text-sm",children:e})]}));De.displayName="Input";const Ue=je.forwardRef(({children:t,isLoading:e,variant:n="primary",className:r="",...i},a)=>{const s="px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",o={primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-secondary-100 text-secondary-700 hover:bg-secondary-200",danger:"bg-accent-600 text-white hover:bg-accent-700"};return w.jsx("button",{ref:a,className:`${s} ${o[n]} ${r}`,disabled:e||i.disabled,...i,children:e?w.jsx(la,{className:"w-5 h-5 animate-spin mx-auto"}):t})});Ue.displayName="Button";function fh(){const{signInWithGoogle:t}=Ft(),[e,n]=Fe.useState(!1),[r,i]=Fe.useState(null),a=async()=>{try{n(!0),i(null),await t()}catch(s){i("Error al iniciar sesin con Google"),console.error("Google sign in error:",s)}finally{n(!1)}};return w.jsxs("div",{children:[w.jsxs("button",{onClick:a,disabled:e,className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[e?w.jsx(la,{className:"w-5 h-5 animate-spin"}):w.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),e?"Conectando...":"Continuar con Google"]}),r&&w.jsx("p",{className:"mt-2 text-sm text-red-600",children:r})]})}const dh=le.object({email:le.string().email("Email invlido"),password:le.string().min(6,"La contrasea debe tener al menos 6 caracteres")});function hh({onSubmit:t,isLoading:e,isRegistering:n,onToggleMode:r}){var o,l;const{register:i,handleSubmit:a,formState:{errors:s}}=Tt({resolver:Bt(dh)});return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("form",{onSubmit:a(t),className:"space-y-4",children:[w.jsx(De,{icon:w.jsx(oa,{className:"w-5 h-5 text-gray-400"}),label:"Email",type:"email",error:(o=s.email)==null?void 0:o.message,...i("email")}),w.jsx(De,{icon:w.jsx(No,{className:"w-5 h-5 text-gray-400"}),label:"Contrasea",type:"password",error:(l=s.password)==null?void 0:l.message,...i("password")}),w.jsx(Ue,{type:"submit",isLoading:e,className:"w-full",children:n?"Crear cuenta":"Iniciar sesin"})]}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-gray-300"})}),w.jsx("div",{className:"relative flex justify-center text-sm",children:w.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O contina con"})})]}),w.jsx(fh,{}),w.jsx("button",{type:"button",onClick:r,className:"w-full text-sm text-primary-600 hover:text-primary-500",children:n?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})]})}function ph(){const[t,e]=je.useState(!1),[n,r]=je.useState(null),[i,a]=je.useState(!1);return{isLoading:t,error:n,isRegistering:i,setIsRegistering:a,handleAuth:async o=>{e(!0),r(null);try{const{error:l}=i?await Le.auth.signUp({email:o.email,password:o.password}):await Le.auth.signInWithPassword({email:o.email,password:o.password});if(l)throw l}catch(l){console.error("Auth error:",l),r(l.message==="Invalid login credentials"?"Email o contrasea incorrectos":"Error en la autenticacin. Por favor intenta de nuevo.")}finally{e(!1)}}}}function mh(){const{user:t}=Ft(),e=Zr(),{isLoading:n,error:r,isRegistering:i,setIsRegistering:a,handleAuth:s}=ph();return Fe.useEffect(()=>{t&&e("/perfil")},[t,e]),w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[w.jsxs("div",{className:"text-center",children:[w.jsx(Kr,{className:"mx-auto h-12 w-12 text-primary-600"}),w.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:i?"Crea tu cuenta":"Bienvenida de nuevo"}),w.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i?"nete a nuestra comunidad de apoyo":"Inicia sesin para acceder a tu cuenta"})]}),r&&w.jsx("div",{className:"rounded-md bg-red-50 p-4",children:w.jsx("p",{className:"text-sm font-medium text-red-800",children:r})}),w.jsx(hh,{onSubmit:s,isLoading:n,isRegistering:i,onToggleMode:()=>a(!i)})]})})}function gh(){const t=Zr();return je.useEffect(()=>{Le.auth.getSession().then(({data:{session:e}})=>{t(e?"/perfil":"/login")})},[t]),w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Procesando autenticacin..."}),w.jsx("p",{className:"text-gray-600",children:"Por favor espera mientras completamos el proceso."})]})})}function yh({coverUrl:t,avatarUrl:e,onEditCover:n,onEditAvatar:r}){return w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"h-48 bg-gradient-to-r from-primary-100 to-secondary-100 relative",style:t?{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:w.jsxs(Ue,{variant:"secondary",className:"absolute bottom-4 right-4",onClick:n,children:[w.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Cambiar portada"]})}),w.jsx("div",{className:"absolute -bottom-16 left-8",children:w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:e||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3",alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-white"}),w.jsx("button",{onClick:r,className:"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-lg hover:bg-gray-50",children:w.jsx(ua,{className:"w-4 h-4 text-gray-600"})})]})})]})}function vh({name:t,email:e,phone:n,onEdit:r}){return w.jsx("div",{className:"p-6",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t}),w.jsxs("div",{className:"mt-2 space-y-1",children:[w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(oa,{className:"w-4 h-4 mr-2"}),e]}),n&&w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(jo,{className:"w-4 h-4 mr-2"}),n]})]})]}),w.jsx(Ue,{onClick:r,children:"Editar perfil"})]})})}const bh=le.object({name:le.string().min(2,"El nombre debe tener al menos 2 caracteres"),email:le.string().email("Email invlido"),phone:le.string().optional()});function _h({isOpen:t,onClose:e,onSubmit:n,initialData:r}){var o,l,c;const{register:i,handleSubmit:a,formState:{errors:s}}=Tt({resolver:Bt(bh),defaultValues:r});return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-xl font-semibold",children:"Editar perfil"}),w.jsx("button",{onClick:e,children:w.jsx(sa,{className:"w-6 h-6 text-gray-500"})})]}),w.jsxs("form",{onSubmit:a(n),className:"space-y-4",children:[w.jsx(De,{label:"Nombre",error:(o=s.name)==null?void 0:o.message,...i("name")}),w.jsx(De,{label:"Email",type:"email",error:(l=s.email)==null?void 0:l.message,...i("email")}),w.jsx(De,{label:"Telfono",type:"tel",error:(c=s.phone)==null?void 0:c.message,...i("phone")}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx(Ue,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),w.jsx(Ue,{type:"submit",children:"Guardar cambios"})]})]})]})}):null}function gr(t,e){const[n,r]=je.useState(null),[i,a]=je.useState(null),[s,o]=je.useState(!0),l=async()=>{try{o(!0);let c=Le.from(t).select((e==null?void 0:e.select)||"*");e!=null&&e.filter&&Object.entries(e.filter).forEach(([h,d])=>{c=c.eq(h,d)}),e!=null&&e.orderBy&&(c=c.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0})),e!=null&&e.limit&&(c=c.limit(e.limit));const{data:u,error:f}=await c;f?(a(f),r(null)):(r(u),a(null))}catch(c){console.error("Error fetching data:",c)}finally{o(!1)}};return je.useEffect(()=>{l()},[t,JSON.stringify(e)]),{data:n,error:i,loading:s,refetch:l}}function ct(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const ml=6048e5,xh=864e5;let wh={};function ii(){return wh}function fr(t,e){var o,l,c,u;const n=ii(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=ct(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function qr(t){return fr(t,{weekStartsOn:1})}function gl(t){const e=ct(t),n=e.getFullYear(),r=Xt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=qr(r),a=Xt(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=qr(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function es(t){const e=ct(t);return e.setHours(0,0,0,0),e}function ts(t){const e=ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kh(t,e){const n=es(t),r=es(e),i=+n-ts(n),a=+r-ts(r);return Math.round((i-a)/xh)}function Eh(t){const e=gl(t),n=Xt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),qr(n)}function Oh(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sh(t){if(!Oh(t)&&typeof t!="number")return!1;const e=ct(t);return!isNaN(Number(e))}function Th(t){const e=ct(t),n=Xt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ah={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jh=(t,e,n)=>{let r;const i=Ah[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Nh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ph={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ch={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ih={date:gn({formats:Nh,defaultWidth:"full"}),time:gn({formats:Ph,defaultWidth:"full"}),dateTime:gn({formats:Ch,defaultWidth:"full"})},Rh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lh=(t,e,n,r)=>Rh[t];function mt(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Dh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$h={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uh=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zh={ordinalNumber:Uh,era:mt({values:Dh,defaultWidth:"wide"}),quarter:mt({values:Mh,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mt({values:$h,defaultWidth:"wide"}),day:mt({values:qh,defaultWidth:"wide"}),dayPeriod:mt({values:Bh,defaultWidth:"wide",formattingValues:Fh,defaultFormattingWidth:"wide"})};function gt(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Vh(o,f=>f.test(s)):Hh(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function Hh(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Vh(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yl(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const Wh=/^(\d+)(th|st|nd|rd)?/i,Zh=/\d+/i,Kh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gh={any:[/^b/i,/^(a|c)/i]},Yh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jh={any:[/1/i,/2/i,/3/i,/4/i]},Qh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ep={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tp={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},np={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rp={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ip={ordinalNumber:yl({matchPattern:Wh,parsePattern:Zh,valueCallback:t=>parseInt(t,10)}),era:gt({matchPatterns:Kh,defaultMatchWidth:"wide",parsePatterns:Gh,defaultParseWidth:"any"}),quarter:gt({matchPatterns:Yh,defaultMatchWidth:"wide",parsePatterns:Jh,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gt({matchPatterns:Qh,defaultMatchWidth:"wide",parsePatterns:Xh,defaultParseWidth:"any"}),day:gt({matchPatterns:ep,defaultMatchWidth:"wide",parsePatterns:tp,defaultParseWidth:"any"}),dayPeriod:gt({matchPatterns:np,defaultMatchWidth:"any",parsePatterns:rp,defaultParseWidth:"any"})},ap={code:"en-US",formatDistance:jh,formatLong:Ih,formatRelative:Lh,localize:zh,match:ip,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sp(t){const e=ct(t);return kh(e,Th(e))+1}function op(t){const e=ct(t),n=+qr(e)-+Eh(e);return Math.round(n/ml)+1}function vl(t,e){var u,f,h,d;const n=ct(t),r=n.getFullYear(),i=ii(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(h=i.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,s=Xt(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=fr(s,e),l=Xt(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=fr(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function lp(t,e){var o,l,c,u;const n=ii(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=vl(t,e),a=Xt(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),fr(a,e)}function up(t,e){const n=ct(t),r=+fr(n,e)-+lp(n,e);return Math.round(r/ml)+1}function Ae(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ae(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ae(n+1,2)},d(t,e){return Ae(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ae(t.getHours()%12||12,e.length)},H(t,e){return Ae(t.getHours(),e.length)},m(t,e){return Ae(t.getMinutes(),e.length)},s(t,e){return Ae(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ae(i,e.length)}},ln={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ns={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return jt.y(t,e)},Y:function(t,e,n,r){const i=vl(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ae(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ae(a,e.length)},R:function(t,e){const n=gl(t);return Ae(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ae(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=up(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ae(i,e.length)},I:function(t,e,n){const r=op(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ae(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jt.d(t,e)},D:function(t,e,n){const r=sp(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ae(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ae(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ae(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ln.noon:r===0?i=ln.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ln.evening:r>=12?i=ln.afternoon:r>=4?i=ln.morning:i=ln.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jt.s(t,e)},S:function(t,e){return jt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return is(r);case"XXXX":case"XX":return Wt(r);case"XXXXX":case"XXX":default:return Wt(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return is(r);case"xxxx":case"xx":return Wt(r);case"xxxxx":case"xxx":default:return Wt(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rs(r,":");case"OOOO":default:return"GMT"+Wt(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rs(r,":");case"zzzz":default:return"GMT"+Wt(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ae(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ae(r,e.length)}};function rs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Ae(a,2)}function is(t,e){return t%60===0?(t>0?"-":"+")+Ae(Math.abs(t)/60,2):Wt(t,e)}function Wt(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ae(Math.trunc(r/60),2),a=Ae(r%60,2);return n+i+e+a}const as=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bl=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cp=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return as(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",as(r,e)).replace("{{time}}",bl(i,e))},fp={p:bl,P:cp},dp=/^D+$/,hp=/^Y+$/,pp=["D","DD","YY","YYYY"];function mp(t){return dp.test(t)}function gp(t){return hp.test(t)}function yp(t,e,n){const r=vp(t,e,n);if(console.warn(r),pp.includes(t))throw new RangeError(r)}function vp(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_p=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xp=/^'([^]*?)'?$/,wp=/''/g,kp=/[a-zA-Z]/;function _l(t,e,n){var u,f,h,d,v,m,b,p;const r=ii(),i=(n==null?void 0:n.locale)??r.locale??ap,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((p=(b=r.locale)==null?void 0:b.options)==null?void 0:p.weekStartsOn)??0,o=ct(t);if(!Sh(o))throw new RangeError("Invalid time value");let l=e.match(_p).map(g=>{const _=g[0];if(_==="p"||_==="P"){const y=fp[_];return y(g,i.formatLong)}return g}).join("").match(bp).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const _=g[0];if(_==="'")return{isToken:!1,value:Ep(g)};if(ns[_])return{isToken:!0,value:g};if(_.match(kp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const _=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gp(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mp(_))&&yp(_,e,String(t));const y=ns[_[0]];return y(o,_,i.localize,c)}).join("")}function Ep(t){const e=t.match(xp);return e?e[1].replace(wp,"'"):t}const Op={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Sp=(t,e,n)=>{let r;const i=Op[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},Tp={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Ap={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jp={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Np={date:gn({formats:Tp,defaultWidth:"full"}),time:gn({formats:Ap,defaultWidth:"full"}),dateTime:gn({formats:jp,defaultWidth:"full"})},Pp={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Cp={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Ip=(t,e,n,r)=>e.getHours()!==1?Cp[t]:Pp[t],Rp={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Lp={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Dp={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Mp={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},$p={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},qp={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Bp=(t,e)=>Number(t)+"",Fp={ordinalNumber:Bp,era:mt({values:Rp,defaultWidth:"wide"}),quarter:mt({values:Lp,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:mt({values:Dp,defaultWidth:"wide"}),day:mt({values:Mp,defaultWidth:"wide"}),dayPeriod:mt({values:$p,defaultWidth:"wide",formattingValues:qp,defaultFormattingWidth:"wide"})},Up=/^(\d+)()?/i,zp=/\d+/i,Hp={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Vp={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Wp={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Zp={any:[/1/i,/2/i,/3/i,/4/i]},Kp={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Gp={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Yp={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Jp={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Qp={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Xp={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},em={ordinalNumber:yl({matchPattern:Up,parsePattern:zp,valueCallback:function(t){return parseInt(t,10)}}),era:gt({matchPatterns:Hp,defaultMatchWidth:"wide",parsePatterns:Vp,defaultParseWidth:"any"}),quarter:gt({matchPatterns:Wp,defaultMatchWidth:"wide",parsePatterns:Zp,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gt({matchPatterns:Kp,defaultMatchWidth:"wide",parsePatterns:Gp,defaultParseWidth:"any"}),day:gt({matchPatterns:Yp,defaultMatchWidth:"wide",parsePatterns:Jp,defaultParseWidth:"any"}),dayPeriod:gt({matchPatterns:Qp,defaultMatchWidth:"any",parsePatterns:Xp,defaultParseWidth:"any"})},xl={code:"es",formatDistance:Sp,formatLong:Np,formatRelative:Ip,localize:Fp,match:em,options:{weekStartsOn:1,firstWeekContainsDate:1}};function tm(){const{data:t,loading:e}=gr("appointments");return e?w.jsx("div",{className:"animate-pulse",children:"Cargando citas..."}):w.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(n=>w.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("img",{src:n.professional.image_url,alt:n.professional.name,className:"w-12 h-12 rounded-full object-cover"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-medium",children:n.professional.name}),w.jsx("p",{className:"text-sm text-gray-500",children:n.professional.speciality}),w.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(Iu,{className:"w-4 h-4 mr-2"}),_l(new Date(n.date),"d 'de' MMMM, yyyy",{locale:xl})]}),w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(Ru,{className:"w-4 h-4 mr-2"}),n.time]}),w.jsxs("div",{className:"flex items-center text-gray-600",children:[w.jsx(Ao,{className:"w-4 h-4 mr-2"}),n.location]})]})]}),w.jsxs("div",{className:"flex flex-col items-end gap-2",children:[w.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${n.status==="confirmed"?"bg-green-100 text-green-800":n.status==="pending"?"bg-yellow-100 text-yellow-800":n.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[n.status==="confirmed"&&"Confirmada",n.status==="pending"&&"Pendiente",n.status==="completed"&&"Completada",n.status==="cancelled"&&"Cancelada"]}),n.status==="pending"&&w.jsx(Ue,{variant:"secondary",size:"sm",children:"Cancelar cita"})]})]})},n.id))})}function nm(){const{data:t,loading:e,refetch:n}=gr("blog_posts"),r=async i=>{if(confirm("Ests segura de que deseas eliminar esta publicacin?"))try{const{error:a}=await supabase.from("blog_posts").delete().eq("id",i);if(a)throw a;n()}catch(a){console.error("Error deleting post:",a)}};return e?w.jsx("div",{className:"animate-pulse",children:"Cargando publicaciones..."}):w.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(i=>w.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium",children:i.title}),w.jsx("p",{className:"text-sm text-gray-500 mt-1",children:_l(new Date(i.created_at),"d 'de' MMMM, yyyy",{locale:xl})}),w.jsx("p",{className:"mt-2 text-gray-600 line-clamp-2",children:i.content}),w.jsxs("p",{className:"text-sm text-purple-600 mt-2",children:[" ",i.likes_count," me gusta"]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Ue,{variant:"secondary",size:"sm",children:w.jsx(ua,{className:"w-4 h-4"})}),w.jsx(Ue,{variant:"danger",size:"sm",onClick:()=>r(i.id),children:w.jsx(Po,{className:"w-4 h-4"})})]})]})},i.id))})}const ga=Fe.createContext(null);function wl({defaultValue:t,children:e}){const[n,r]=Fe.useState(t);return w.jsx(ga.Provider,{value:{value:n,onChange:r},children:w.jsx("div",{className:"space-y-4",children:e})})}function kl({children:t}){return w.jsx("div",{className:"flex space-x-2 border-b border-gray-200",children:t})}function dn({value:t,children:e}){const n=Fe.useContext(ga);if(!n)throw new Error("TabsTrigger must be used within Tabs");const r=n.value===t;return w.jsx("button",{className:`px-4 py-2 font-medium ${r?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-purple-600"}`,onClick:()=>n.onChange(t),children:e})}function hn({value:t,children:e}){const n=Fe.useContext(ga);if(!n)throw new Error("TabsContent must be used within Tabs");return n.value!==t?null:w.jsx("div",{className:"pt-4",children:e})}function rm(){var l,c,u;const{user:t}=Ft(),[e,n]=je.useState(!1),[r,i]=je.useState({name:((l=t==null?void 0:t.user_metadata)==null?void 0:l.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",avatarUrl:(c=t==null?void 0:t.user_metadata)==null?void 0:c.avatar_url,coverUrl:(u=t==null?void 0:t.user_metadata)==null?void 0:u.cover_url});if(!t)return w.jsx(Ou,{to:"/login",replace:!0});const a=async f=>{try{const{error:h}=await Le.auth.updateUser({data:{name:f.name,phone:f.phone}});if(h)throw h;i(d=>({...d,...f})),n(!1)}catch(h){console.error("Error updating profile:",h)}},s=async(f,h)=>{try{const d=h.name.split(".").pop(),v=`${t.id}/${f}.${d}`,{error:m}=await Le.storage.from("profiles").upload(v,h,{upsert:!0});if(m)throw m;const{data:{publicUrl:b}}=Le.storage.from("profiles").getPublicUrl(v);await Le.auth.updateUser({data:{[`${f}_url`]:b}}),i(p=>({...p,[`${f}Url`]:b}))}catch(d){console.error(`Error updating ${f}:`,d)}},o=f=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=d=>{var m;const v=(m=d.target.files)==null?void 0:m[0];v&&s(f,v)},h.click()};return w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[w.jsx(yh,{coverUrl:r.coverUrl,avatarUrl:r.avatarUrl,onEditCover:()=>o("cover"),onEditAvatar:()=>o("avatar")}),w.jsx("div",{className:"mt-16",children:w.jsx(vh,{name:r.name,email:r.email,phone:r.phone,onEdit:()=>n(!0)})})]}),w.jsx("div",{className:"mt-8",children:w.jsxs(wl,{defaultValue:"appointments",children:[w.jsxs(kl,{children:[w.jsx(dn,{value:"appointments",children:"Mis Citas"}),w.jsx(dn,{value:"posts",children:"Mis Publicaciones"})]}),w.jsx(hn,{value:"appointments",className:"mt-6",children:w.jsx(tm,{})}),w.jsx(hn,{value:"posts",className:"mt-6",children:w.jsx(nm,{})})]})}),w.jsx(_h,{isOpen:e,onClose:()=>n(!1),onSubmit:a,initialData:r})]})}function im({post:t}){const{user:e}=Ft(),[n,r]=Fe.useState(t.likes_count),[i,a]=Fe.useState(!1),s=async()=>{if(e)try{const{error:o}=await Le.from("blog_posts").update({likes_count:n+1}).eq("id",t.id);if(o)throw o;r(l=>l+1),a(!0)}catch(o){console.error("Error liking post:",o)}};return w.jsxs("article",{className:"bg-white rounded-lg shadow-lg p-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-4",children:t.title}),w.jsx("p",{className:"text-gray-700 mb-4",children:t.content}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("button",{onClick:s,disabled:!e||i,className:"flex items-center gap-2 text-purple-600 hover:text-purple-700 disabled:opacity-50",children:[w.jsx(Kr,{className:"w-5 h-5"}),w.jsx("span",{children:n})]}),w.jsxs("button",{className:"flex items-center gap-2 text-purple-600 hover:text-purple-700",children:[w.jsx(Lu,{className:"w-5 h-5"}),w.jsx("span",{children:"Comentar"})]})]})]})}function am(){this.__data__=[],this.size=0}var sm=am;function om(t,e){return t===e||t!==t&&e!==e}var El=om,lm=El;function um(t,e){for(var n=t.length;n--;)if(lm(t[n][0],e))return n;return-1}var ai=um,cm=ai,fm=Array.prototype,dm=fm.splice;function hm(t){var e=this.__data__,n=cm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dm.call(e,n,1),--this.size,!0}var pm=hm,mm=ai;function gm(t){var e=this.__data__,n=mm(e,t);return n<0?void 0:e[n][1]}var ym=gm,vm=ai;function bm(t){return vm(this.__data__,t)>-1}var _m=bm,xm=ai;function wm(t,e){var n=this.__data__,r=xm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var km=wm,Em=sm,Om=pm,Sm=ym,Tm=_m,Am=km;function Sn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sn.prototype.clear=Em;Sn.prototype.delete=Om;Sn.prototype.get=Sm;Sn.prototype.has=Tm;Sn.prototype.set=Am;var si=Sn,jm=si;function Nm(){this.__data__=new jm,this.size=0}var Pm=Nm;function Cm(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Im=Cm;function Rm(t){return this.__data__.get(t)}var Lm=Rm;function Dm(t){return this.__data__.has(t)}var Mm=Dm,$m=typeof Ne=="object"&&Ne&&Ne.Object===Object&&Ne,Ol=$m,qm=Ol,Bm=typeof self=="object"&&self&&self.Object===Object&&self,Fm=qm||Bm||Function("return this")(),At=Fm,Um=At,zm=Um.Symbol,ya=zm,ss=ya,Sl=Object.prototype,Hm=Sl.hasOwnProperty,Vm=Sl.toString,$n=ss?ss.toStringTag:void 0;function Wm(t){var e=Hm.call(t,$n),n=t[$n];try{t[$n]=void 0;var r=!0}catch{}var i=Vm.call(t);return r&&(e?t[$n]=n:delete t[$n]),i}var Zm=Wm,Km=Object.prototype,Gm=Km.toString;function Ym(t){return Gm.call(t)}var Jm=Ym,os=ya,Qm=Zm,Xm=Jm,eg="[object Null]",tg="[object Undefined]",ls=os?os.toStringTag:void 0;function ng(t){return t==null?t===void 0?tg:eg:ls&&ls in Object(t)?Qm(t):Xm(t)}var oi=ng;function rg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=rg,ig=oi,ag=Tl,sg="[object AsyncFunction]",og="[object Function]",lg="[object GeneratorFunction]",ug="[object Proxy]";function cg(t){if(!ag(t))return!1;var e=ig(t);return e==og||e==lg||e==sg||e==ug}var Al=cg,fg=At,dg=fg["__core-js_shared__"],hg=dg,_i=hg,us=function(){var t=/[^.]+$/.exec(_i&&_i.keys&&_i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pg(t){return!!us&&us in t}var mg=pg,gg=Function.prototype,yg=gg.toString;function vg(t){if(t!=null){try{return yg.call(t)}catch{}try{return t+""}catch{}}return""}var jl=vg,bg=Al,_g=mg,xg=Tl,wg=jl,kg=/[\\^$.*+?()[\]{}|]/g,Eg=/^\[object .+?Constructor\]$/,Og=Function.prototype,Sg=Object.prototype,Tg=Og.toString,Ag=Sg.hasOwnProperty,jg=RegExp("^"+Tg.call(Ag).replace(kg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ng(t){if(!xg(t)||_g(t))return!1;var e=bg(t)?jg:Eg;return e.test(wg(t))}var Pg=Ng;function Cg(t,e){return t==null?void 0:t[e]}var Ig=Cg,Rg=Pg,Lg=Ig;function Dg(t,e){var n=Lg(t,e);return Rg(n)?n:void 0}var Tn=Dg,Mg=Tn,$g=At,qg=Mg($g,"Map"),va=qg,Bg=Tn,Fg=Bg(Object,"create"),li=Fg,cs=li;function Ug(){this.__data__=cs?cs(null):{},this.size=0}var zg=Ug;function Hg(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Vg=Hg,Wg=li,Zg="__lodash_hash_undefined__",Kg=Object.prototype,Gg=Kg.hasOwnProperty;function Yg(t){var e=this.__data__;if(Wg){var n=e[t];return n===Zg?void 0:n}return Gg.call(e,t)?e[t]:void 0}var Jg=Yg,Qg=li,Xg=Object.prototype,ey=Xg.hasOwnProperty;function ty(t){var e=this.__data__;return Qg?e[t]!==void 0:ey.call(e,t)}var ny=ty,ry=li,iy="__lodash_hash_undefined__";function ay(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ry&&e===void 0?iy:e,this}var sy=ay,oy=zg,ly=Vg,uy=Jg,cy=ny,fy=sy;function An(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}An.prototype.clear=oy;An.prototype.delete=ly;An.prototype.get=uy;An.prototype.has=cy;An.prototype.set=fy;var dy=An,fs=dy,hy=si,py=va;function my(){this.size=0,this.__data__={hash:new fs,map:new(py||hy),string:new fs}}var gy=my;function yy(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vy=yy,by=vy;function _y(t,e){var n=t.__data__;return by(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ui=_y,xy=ui;function wy(t){var e=xy(this,t).delete(t);return this.size-=e?1:0,e}var ky=wy,Ey=ui;function Oy(t){return Ey(this,t).get(t)}var Sy=Oy,Ty=ui;function Ay(t){return Ty(this,t).has(t)}var jy=Ay,Ny=ui;function Py(t,e){var n=Ny(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Cy=Py,Iy=gy,Ry=ky,Ly=Sy,Dy=jy,My=Cy;function jn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jn.prototype.clear=Iy;jn.prototype.delete=Ry;jn.prototype.get=Ly;jn.prototype.has=Dy;jn.prototype.set=My;var Nl=jn,$y=si,qy=va,By=Nl,Fy=200;function Uy(t,e){var n=this.__data__;if(n instanceof $y){var r=n.__data__;if(!qy||r.length<Fy-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new By(r)}return n.set(t,e),this.size=n.size,this}var zy=Uy,Hy=si,Vy=Pm,Wy=Im,Zy=Lm,Ky=Mm,Gy=zy;function Nn(t){var e=this.__data__=new Hy(t);this.size=e.size}Nn.prototype.clear=Vy;Nn.prototype.delete=Wy;Nn.prototype.get=Zy;Nn.prototype.has=Ky;Nn.prototype.set=Gy;var Yy=Nn,Jy="__lodash_hash_undefined__";function Qy(t){return this.__data__.set(t,Jy),this}var Xy=Qy;function ev(t){return this.__data__.has(t)}var tv=ev,nv=Nl,rv=Xy,iv=tv;function Br(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new nv;++e<n;)this.add(t[e])}Br.prototype.add=Br.prototype.push=rv;Br.prototype.has=iv;var av=Br;function sv(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ov=sv;function lv(t,e){return t.has(e)}var uv=lv,cv=av,fv=ov,dv=uv,hv=1,pv=2;function mv(t,e,n,r,i,a){var s=n&hv,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&pv?new cv:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],m=e[f];if(r)var b=s?r(m,v,f,e,t,a):r(v,m,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(d){if(!fv(e,function(p,g){if(!dv(d,g)&&(v===p||i(v,p,n,r,a)))return d.push(g)})){h=!1;break}}else if(!(v===m||i(v,m,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var Pl=mv,gv=At,yv=gv.Uint8Array,vv=yv;function bv(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _v=bv;function xv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wv=xv,ds=ya,hs=vv,kv=El,Ev=Pl,Ov=_v,Sv=wv,Tv=1,Av=2,jv="[object Boolean]",Nv="[object Date]",Pv="[object Error]",Cv="[object Map]",Iv="[object Number]",Rv="[object RegExp]",Lv="[object Set]",Dv="[object String]",Mv="[object Symbol]",$v="[object ArrayBuffer]",qv="[object DataView]",ps=ds?ds.prototype:void 0,xi=ps?ps.valueOf:void 0;function Bv(t,e,n,r,i,a,s){switch(n){case qv:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $v:return!(t.byteLength!=e.byteLength||!a(new hs(t),new hs(e)));case jv:case Nv:case Iv:return kv(+t,+e);case Pv:return t.name==e.name&&t.message==e.message;case Rv:case Dv:return t==e+"";case Cv:var o=Ov;case Lv:var l=r&Tv;if(o||(o=Sv),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Av,s.set(t,e);var u=Ev(o(t),o(e),r,i,a,s);return s.delete(t),u;case Mv:if(xi)return xi.call(t)==xi.call(e)}return!1}var Fv=Bv;function Uv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zv=Uv,Hv=Array.isArray,ba=Hv,Vv=zv,Wv=ba;function Zv(t,e,n){var r=e(t);return Wv(t)?r:Vv(r,n(t))}var Kv=Zv;function Gv(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Yv=Gv;function Jv(){return[]}var Qv=Jv,Xv=Yv,eb=Qv,tb=Object.prototype,nb=tb.propertyIsEnumerable,ms=Object.getOwnPropertySymbols,rb=ms?function(t){return t==null?[]:(t=Object(t),Xv(ms(t),function(e){return nb.call(t,e)}))}:eb,ib=rb;function ab(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sb=ab;function ob(t){return t!=null&&typeof t=="object"}var ci=ob,lb=oi,ub=ci,cb="[object Arguments]";function fb(t){return ub(t)&&lb(t)==cb}var db=fb,gs=db,hb=ci,Cl=Object.prototype,pb=Cl.hasOwnProperty,mb=Cl.propertyIsEnumerable,gb=gs(function(){return arguments}())?gs:function(t){return hb(t)&&pb.call(t,"callee")&&!mb.call(t,"callee")},yb=gb,Fr={exports:{}};function vb(){return!1}var bb=vb;Fr.exports;(function(t,e){var n=At,r=bb,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Fr,Fr.exports);var Il=Fr.exports,_b=9007199254740991,xb=/^(?:0|[1-9]\d*)$/;function wb(t,e){var n=typeof t;return e=e??_b,!!e&&(n=="number"||n!="symbol"&&xb.test(t))&&t>-1&&t%1==0&&t<e}var kb=wb,Eb=9007199254740991;function Ob(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Eb}var Rl=Ob,Sb=oi,Tb=Rl,Ab=ci,jb="[object Arguments]",Nb="[object Array]",Pb="[object Boolean]",Cb="[object Date]",Ib="[object Error]",Rb="[object Function]",Lb="[object Map]",Db="[object Number]",Mb="[object Object]",$b="[object RegExp]",qb="[object Set]",Bb="[object String]",Fb="[object WeakMap]",Ub="[object ArrayBuffer]",zb="[object DataView]",Hb="[object Float32Array]",Vb="[object Float64Array]",Wb="[object Int8Array]",Zb="[object Int16Array]",Kb="[object Int32Array]",Gb="[object Uint8Array]",Yb="[object Uint8ClampedArray]",Jb="[object Uint16Array]",Qb="[object Uint32Array]",Re={};Re[Hb]=Re[Vb]=Re[Wb]=Re[Zb]=Re[Kb]=Re[Gb]=Re[Yb]=Re[Jb]=Re[Qb]=!0;Re[jb]=Re[Nb]=Re[Ub]=Re[Pb]=Re[zb]=Re[Cb]=Re[Ib]=Re[Rb]=Re[Lb]=Re[Db]=Re[Mb]=Re[$b]=Re[qb]=Re[Bb]=Re[Fb]=!1;function Xb(t){return Ab(t)&&Tb(t.length)&&!!Re[Sb(t)]}var e0=Xb;function t0(t){return function(e){return t(e)}}var n0=t0,Ur={exports:{}};Ur.exports;(function(t,e){var n=Ol,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Ur,Ur.exports);var r0=Ur.exports,i0=e0,a0=n0,ys=r0,vs=ys&&ys.isTypedArray,s0=vs?a0(vs):i0,Ll=s0,o0=sb,l0=yb,u0=ba,c0=Il,f0=kb,d0=Ll,h0=Object.prototype,p0=h0.hasOwnProperty;function m0(t,e){var n=u0(t),r=!n&&l0(t),i=!n&&!r&&c0(t),a=!n&&!r&&!i&&d0(t),s=n||r||i||a,o=s?o0(t.length,String):[],l=o.length;for(var c in t)(e||p0.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||f0(c,l)))&&o.push(c);return o}var g0=m0,y0=Object.prototype;function v0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||y0;return t===n}var b0=v0;function _0(t,e){return function(n){return t(e(n))}}var x0=_0,w0=x0,k0=w0(Object.keys,Object),E0=k0,O0=b0,S0=E0,T0=Object.prototype,A0=T0.hasOwnProperty;function j0(t){if(!O0(t))return S0(t);var e=[];for(var n in Object(t))A0.call(t,n)&&n!="constructor"&&e.push(n);return e}var N0=j0,P0=Al,C0=Rl;function I0(t){return t!=null&&C0(t.length)&&!P0(t)}var R0=I0,L0=g0,D0=N0,M0=R0;function $0(t){return M0(t)?L0(t):D0(t)}var q0=$0,B0=Kv,F0=ib,U0=q0;function z0(t){return B0(t,U0,F0)}var H0=z0,bs=H0,V0=1,W0=Object.prototype,Z0=W0.hasOwnProperty;function K0(t,e,n,r,i,a){var s=n&V0,o=bs(t),l=o.length,c=bs(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:Z0.call(e,h)))return!1}var d=a.get(t),v=a.get(e);if(d&&v)return d==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<l;){h=o[f];var p=t[h],g=e[h];if(r)var _=s?r(g,p,h,e,t,a):r(p,g,h,t,e,a);if(!(_===void 0?p===g||i(p,g,n,r,a):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof x=="function"&&x instanceof x)&&(m=!1)}return a.delete(t),a.delete(e),m}var G0=K0,Y0=Tn,J0=At,Q0=Y0(J0,"DataView"),X0=Q0,e_=Tn,t_=At,n_=e_(t_,"Promise"),r_=n_,i_=Tn,a_=At,s_=i_(a_,"Set"),o_=s_,l_=Tn,u_=At,c_=l_(u_,"WeakMap"),f_=c_,Wi=X0,Zi=va,Ki=r_,Gi=o_,Yi=f_,Dl=oi,Pn=jl,_s="[object Map]",d_="[object Object]",xs="[object Promise]",ws="[object Set]",ks="[object WeakMap]",Es="[object DataView]",h_=Pn(Wi),p_=Pn(Zi),m_=Pn(Ki),g_=Pn(Gi),y_=Pn(Yi),Zt=Dl;(Wi&&Zt(new Wi(new ArrayBuffer(1)))!=Es||Zi&&Zt(new Zi)!=_s||Ki&&Zt(Ki.resolve())!=xs||Gi&&Zt(new Gi)!=ws||Yi&&Zt(new Yi)!=ks)&&(Zt=function(t){var e=Dl(t),n=e==d_?t.constructor:void 0,r=n?Pn(n):"";if(r)switch(r){case h_:return Es;case p_:return _s;case m_:return xs;case g_:return ws;case y_:return ks}return e});var v_=Zt,wi=Yy,b_=Pl,__=Fv,x_=G0,Os=v_,Ss=ba,Ts=Il,w_=Ll,k_=1,As="[object Arguments]",js="[object Array]",Or="[object Object]",E_=Object.prototype,Ns=E_.hasOwnProperty;function O_(t,e,n,r,i,a){var s=Ss(t),o=Ss(e),l=s?js:Os(t),c=o?js:Os(e);l=l==As?Or:l,c=c==As?Or:c;var u=l==Or,f=c==Or,h=l==c;if(h&&Ts(t)){if(!Ts(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new wi),s||w_(t)?b_(t,e,n,r,i,a):__(t,e,l,n,r,i,a);if(!(n&k_)){var d=u&&Ns.call(t,"__wrapped__"),v=f&&Ns.call(e,"__wrapped__");if(d||v){var m=d?t.value():t,b=v?e.value():e;return a||(a=new wi),i(m,b,n,r,a)}}return h?(a||(a=new wi),x_(t,e,n,r,i,a)):!1}var S_=O_,T_=S_,Ps=ci;function Ml(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ps(t)&&!Ps(e)?t!==t&&e!==e:T_(t,e,n,r,Ml,i)}var A_=Ml,j_=A_;function N_(t,e){return j_(t,e)}var P_=N_,$l={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ne,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),s=i(18),o=i(19),l=i(45),c=i(46),u=i(47),f=i(48),h=i(49),d=i(12),v=i(32),m=i(33),b=i(31),p=i(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:a.default,Format:s.default,Leaf:o.default,Embed:f.default,Scroll:l.default,Block:u.default,Inline:c.default,Text:h.default,Attributor:{Attribute:d.default,Class:v.default,Style:m.default,Store:b.default}};r.default=g},function(n,r,i){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var _ in g)g.hasOwnProperty(_)&&(p[_]=g[_])};return function(p,g){b(p,g);function _(){this.constructor=p}p.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(b){a(p,b);function p(g){var _=this;return g="[Parchment] "+g,_=b.call(this,g)||this,_.message=g,_.name=_.constructor.name,_}return p}(Error);r.ParchmentError=s;var o={},l={},c={},u={};r.DATA_KEY="__blot";var f;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(b,p){var g=v(b);if(g==null)throw new s("Unable to create "+b+" blot");var _=g,y=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:_.create(p);return new _(y,p)}r.create=h;function d(b,p){return p===void 0&&(p=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:p?d(b.parentNode,p):null}r.find=d;function v(b,p){p===void 0&&(p=f.ANY);var g;if(typeof b=="string")g=u[b]||o[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)g=u.text;else if(typeof b=="number")b&f.LEVEL&f.BLOCK?g=u.block:b&f.LEVEL&f.INLINE&&(g=u.inline);else if(b instanceof HTMLElement){var _=(b.getAttribute("class")||"").split(/\s+/);for(var y in _)if(g=l[_[y]],g)break;g=g||c[b.tagName]}return g==null?null:p&f.LEVEL&g.scope&&p&f.TYPE&g.scope?g:null}r.query=v;function m(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];if(b.length>1)return b.map(function(y){return m(y)});var g=b[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(u[g.blotName||g.attrName]=g,typeof g.keyName=="string")o[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(y){return y.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var _=Array.isArray(g.tagName)?g.tagName:[g.tagName];_.forEach(function(y){(c[y]==null||g.className==null)&&(c[y]=g)})}return g}r.register=m},function(n,r,i){var a=i(51),s=i(11),o=i(3),l=i(20),c="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var d={};return f.length===0?this:(d.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var d={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d)},u.prototype.push=function(f){var h=this.ops.length,d=this.ops[h-1];if(f=o(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[h-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(h-=1,d=this.ops[h-1],typeof d!="object"))return this.ops.unshift(f),this;if(s(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[h-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[h-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],d=[];return this.forEach(function(v){var m=f(v)?h:d;m.push(v)}),[h,d]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var d=[],v=l.iterator(this.ops),m=0;m<h&&v.hasNext();){var b;m<f?b=v.next(f-m):(b=v.next(h-m),d.push(b)),m+=l.length(b)}return new u(d)},u.prototype.compose=function(f){var h=l.iterator(this.ops),d=l.iterator(f.ops),v=[],m=d.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var b=m.retain;h.peekType()==="insert"&&h.peekLength()<=b;)b-=h.peekLength(),v.push(h.next());m.retain-b>0&&d.next(m.retain-b)}for(var p=new u(v);h.hasNext()||d.hasNext();)if(d.peekType()==="insert")p.push(d.next());else if(h.peekType()==="delete")p.push(h.next());else{var g=Math.min(h.peekLength(),d.peekLength()),_=h.next(g),y=d.next(g);if(typeof y.retain=="number"){var x={};typeof _.retain=="number"?x.retain=g:x.insert=_.insert;var T=l.attributes.compose(_.attributes,y.attributes,typeof _.retain=="number");if(T&&(x.attributes=T),p.push(x),!d.hasNext()&&s(p.ops[p.ops.length-1],x)){var j=new u(h.rest());return p.concat(j).chop()}}else typeof y.delete=="number"&&typeof _.retain=="number"&&p.push(y)}return p.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var d=[this,f].map(function(g){return g.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:c;var y=g===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),v=new u,m=a(d[0],d[1],h),b=l.iterator(this.ops),p=l.iterator(f.ops);return m.forEach(function(g){for(var _=g[1].length;_>0;){var y=0;switch(g[0]){case a.INSERT:y=Math.min(p.peekLength(),_),v.push(p.next(y));break;case a.DELETE:y=Math.min(_,b.peekLength()),b.next(y),v.delete(y);break;case a.EQUAL:y=Math.min(b.peekLength(),p.peekLength(),_);var x=b.next(y),T=p.next(y);s(x.insert,T.insert)?v.retain(y,l.attributes.diff(x.attributes,T.attributes)):v.push(T).delete(y);break}_-=y}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var d=l.iterator(this.ops),v=new u,m=0;d.hasNext();){if(d.peekType()!=="insert")return;var b=d.peek(),p=l.length(b)-d.peekLength(),g=typeof b.insert=="string"?b.insert.indexOf(h,p)-p:-1;if(g<0)v.push(d.next());else if(g>0)v.push(d.next(g));else{if(f(v,d.next(1).attributes||{},m)===!1)return;m+=1,v=new u}}v.length()>0&&f(v,{},m)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var d=l.iterator(this.ops),v=l.iterator(f.ops),m=new u;d.hasNext()||v.hasNext();)if(d.peekType()==="insert"&&(h||v.peekType()!=="insert"))m.retain(l.length(d.next()));else if(v.peekType()==="insert")m.push(v.next());else{var b=Math.min(d.peekLength(),v.peekLength()),p=d.next(b),g=v.next(b);if(p.delete)continue;g.delete?m.push(g):m.retain(b,l.attributes.transform(p.attributes,g.attributes,h))}return m.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var d=l.iterator(this.ops),v=0;d.hasNext()&&v<=f;){var m=d.peekLength(),b=d.peekType();if(d.next(),b==="delete"){f-=Math.min(m,f-v);continue}else b==="insert"&&(v<f||!h)&&(f+=m);v+=m}return f},n.exports=u},function(n,r){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):a.call(d)==="[object Array]"},c=function(d){if(!d||a.call(d)!=="[object Object]")return!1;var v=i.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!v&&!m)return!1;var b;for(b in d);return typeof b>"u"||i.call(d,b)},u=function(d,v){s&&v.name==="__proto__"?s(d,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):d[v.name]=v.newValue},f=function(d,v){if(v==="__proto__")if(i.call(d,v)){if(o)return o(d,v).value}else return;return d[v]};n.exports=function h(){var d,v,m,b,p,g,_=arguments[0],y=1,x=arguments.length,T=!1;for(typeof _=="boolean"&&(T=_,_=arguments[1]||{},y=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});y<x;++y)if(d=arguments[y],d!=null)for(v in d)m=f(_,v),b=f(d,v),_!==b&&(T&&b&&(c(b)||(p=l(b)))?(p?(p=!1,g=m&&l(m)?m:[]):g=m&&c(m)?m:{},u(_,{name:v,newValue:h(T,g,b)})):typeof b<"u"&&u(_,{name:v,newValue:b}));return _}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function k(S,P){for(var R=0;R<P.length;R++){var D=P[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,P,R){return P&&k(S.prototype,P),R&&k(S,R),S}}(),s=function k(S,P,R){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,P);if(D===void 0){var B=Object.getPrototypeOf(S);return B===null?void 0:k(B,P,R)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(R)}},o=i(3),l=_(o),c=i(2),u=_(c),f=i(0),h=_(f),d=i(16),v=_(d),m=i(6),b=_(m),p=i(7),g=_(p);function _(k){return k&&k.__esModule?k:{default:k}}function y(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function x(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function T(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var j=1,N=function(k){T(S,k);function S(){return y(this,S),x(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"attach",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,D){var B=h.default.query(R,h.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,D)}},{key:"formatAt",value:function(R,D,B,F){this.format(B,F)}},{key:"insertAt",value:function(R,D,B){if(typeof D=="string"&&D.endsWith(`
`)){var F=h.default.create(I.blotName);this.parent.insertBefore(F,R===0?this:this.next),F.insertAt(0,D.slice(0,-1))}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,R,D,B)}}]),S}(h.default.Embed);N.scope=h.default.Scope.BLOCK_BLOT;var I=function(k){T(S,k);function S(P){y(this,S);var R=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return R.cache={},R}return a(S,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(R,D){return D.length()===0?R:R.insert(D.value(),A(D))},new u.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(R,D){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,R,D),this.cache={}}},{key:"formatAt",value:function(R,D,B,F){D<=0||(h.default.query(B,h.default.Scope.BLOCK)?R+D===this.length()&&this.format(B,F):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,R,Math.min(D,this.length()-R-1),B,F),this.cache={})}},{key:"insertAt",value:function(R,D,B){if(B!=null)return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,R,D,B);if(D.length!==0){var F=D.split(`
`),Y=F.shift();Y.length>0&&(R<this.length()-1||this.children.tail==null?s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var q=this;F.reduce(function(E,C){return q=q.split(E,!0),q.insertAt(0,C),C.length},R+Y.length)}}},{key:"insertBefore",value:function(R,D){var B=this.children.head;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,R,D),B instanceof v.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(R,D){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"moveChildren",this).call(this,R,D),this.cache={}}},{key:"optimize",value:function(R){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(R===0||R>=this.length()-j)){var B=this.clone();return R===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var F=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"split",this).call(this,R,D);return this.cache={},F}}}]),S}(h.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[b.default,h.default.Embed,g.default];function A(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(S=(0,l.default)(S,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?S:A(k.parent,S)}r.bubbleFormats=A,r.BlockEmbed=N,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(E,C){var M=[],O=!0,z=!1,U=void 0;try{for(var L=E[Symbol.iterator](),$;!(O=($=L.next()).done)&&(M.push($.value),!(C&&M.length===C));O=!0);}catch(H){z=!0,U=H}finally{try{!O&&L.return&&L.return()}finally{if(z)throw U}}return M}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return q(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function q(E,C){for(var M=0;M<C.length;M++){var O=C[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,C,M){return C&&q(E.prototype,C),M&&q(E,M),E}}();i(50);var l=i(2),c=A(l),u=i(14),f=A(u),h=i(8),d=A(h),v=i(9),m=A(v),b=i(0),p=A(b),g=i(15),_=A(g),y=i(3),x=A(y),T=i(10),j=A(T),N=i(34),I=A(N);function A(q){return q&&q.__esModule?q:{default:q}}function k(q,E,C){return E in q?Object.defineProperty(q,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):q[E]=C,q}function S(q,E){if(!(q instanceof E))throw new TypeError("Cannot call a class as a function")}var P=(0,j.default)("quill"),R=function(){o(q,null,[{key:"debug",value:function(C){C===!0&&(C="log"),j.default.level(C)}},{key:"find",value:function(C){return C.__quill||p.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&P.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,M){var O=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var U=C.attrName||C.blotName;typeof U=="string"?this.register("formats/"+U,C,M):Object.keys(C).forEach(function(L){O.register(L,C[L],M)})}else this.imports[C]!=null&&!z&&P.warn("Overwriting "+C+" with",M),this.imports[C]=M,(C.startsWith("blots/")||C.startsWith("formats/"))&&M.blotName!=="abstract"?p.default.register(M):C.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function q(E){var C=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S(this,q),this.options=D(E,M),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",E);this.options.debug&&q.debug(this.options.debug);var O=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(U){U===d.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(U,L){var $=C.selection.lastRange,H=$&&$.length===0?$.index:void 0;B.call(C,function(){return C.editor.update(null,L,H)},U)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+O+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(q,[{key:"addContainer",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var O=C;C=document.createElement("div"),C.classList.add(O)}return this.container.insertBefore(C,M),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,M,O){var z=this,U=F(C,M,O),L=s(U,4);return C=L[0],M=L[1],O=L[3],B.call(this,function(){return z.editor.deleteText(C,M)},O,C,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,M){var O=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return B.call(this,function(){var U=O.getSelection(!0),L=new c.default;if(U==null)return L;if(p.default.query(C,p.default.Scope.BLOCK))L=O.editor.formatLine(U.index,U.length,k({},C,M));else{if(U.length===0)return O.selection.format(C,M),L;L=O.editor.formatText(U.index,U.length,k({},C,M))}return O.setSelection(U,d.default.sources.SILENT),L},z)}},{key:"formatLine",value:function(C,M,O,z,U){var L=this,$=void 0,H=F(C,M,O,z,U),V=s(H,4);return C=V[0],M=V[1],$=V[2],U=V[3],B.call(this,function(){return L.editor.formatLine(C,M,$)},U,C,0)}},{key:"formatText",value:function(C,M,O,z,U){var L=this,$=void 0,H=F(C,M,O,z,U),V=s(H,4);return C=V[0],M=V[1],$=V[2],U=V[3],B.call(this,function(){return L.editor.formatText(C,M,$)},U,C,0)}},{key:"getBounds",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=void 0;typeof C=="number"?O=this.selection.getBounds(C,M):O=this.selection.getBounds(C.index,C.length);var z=this.container.getBoundingClientRect();return{bottom:O.bottom-z.top,height:O.height,left:O.left-z.left,right:O.right-z.left,top:O.top-z.top,width:O.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,O=F(C,M),z=s(O,2);return C=z[0],M=z[1],this.editor.getContents(C,M)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,M):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,M)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,O=F(C,M),z=s(O,2);return C=z[0],M=z[1],this.editor.getText(C,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,M,O){var z=this,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return B.call(this,function(){return z.editor.insertEmbed(C,M,O)},U,C)}},{key:"insertText",value:function(C,M,O,z,U){var L=this,$=void 0,H=F(C,0,O,z,U),V=s(H,4);return C=V[0],$=V[2],U=V[3],B.call(this,function(){return L.editor.insertText(C,M,$)},U,C,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,M,O){this.clipboard.dangerouslyPasteHTML(C,M,O)}},{key:"removeFormat",value:function(C,M,O){var z=this,U=F(C,M,O),L=s(U,4);return C=L[0],M=L[1],O=L[3],B.call(this,function(){return z.editor.removeFormat(C,M)},O,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var M=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return B.call(this,function(){C=new c.default(C);var z=M.getLength(),U=M.editor.deleteText(0,z),L=M.editor.applyDelta(C),$=L.ops[L.ops.length-1];$!=null&&typeof $.insert=="string"&&$.insert[$.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),L.delete(1));var H=U.compose(L);return H},O)}},{key:"setSelection",value:function(C,M,O){if(C==null)this.selection.setRange(null,M||q.sources.API);else{var z=F(C,M,O),U=s(z,4);C=U[0],M=U[1],O=U[3],this.selection.setRange(new g.Range(C,M),O),O!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,O=new c.default().insert(C);return this.setContents(O,M)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,M=this.scroll.update(C);return this.selection.update(C),M}},{key:"updateContents",value:function(C){var M=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return B.call(this,function(){return C=new c.default(C),M.editor.applyDelta(C,O)},O,!0)}}]),q}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=d.default.events,R.sources=d.default.sources,R.version="1.3.7",R.imports={delta:c.default,parchment:p.default,"core/module":m.default,"core/theme":I.default};function D(q,E){if(E=(0,x.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},E),!E.theme||E.theme===R.DEFAULTS.theme)E.theme=I.default;else if(E.theme=R.import("themes/"+E.theme),E.theme==null)throw new Error("Invalid theme "+E.theme+". Did you register it?");var C=(0,x.default)(!0,{},E.theme.DEFAULTS);[C,E].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(U){z.modules[U]===!0&&(z.modules[U]={})})});var M=Object.keys(C.modules).concat(Object.keys(E.modules)),O=M.reduce(function(z,U){var L=R.import("modules/"+U);return L==null?P.error("Cannot load "+U+" module. Are you sure you registered it?"):z[U]=L.DEFAULTS||{},z},{});return E.modules!=null&&E.modules.toolbar&&E.modules.toolbar.constructor!==Object&&(E.modules.toolbar={container:E.modules.toolbar}),E=(0,x.default)(!0,{},R.DEFAULTS,{modules:O},C,E),["bounds","container","scrollingContainer"].forEach(function(z){typeof E[z]=="string"&&(E[z]=document.querySelector(E[z]))}),E.modules=Object.keys(E.modules).reduce(function(z,U){return E.modules[U]&&(z[U]=E.modules[U]),z},{}),E}function B(q,E,C,M){if(this.options.strict&&!this.isEnabled()&&E===d.default.sources.USER)return new c.default;var O=C==null?null:this.getSelection(),z=this.editor.delta,U=q();if(O!=null&&(C===!0&&(C=O.index),M==null?O=Y(O,U,E):M!==0&&(O=Y(O,C,M,E)),this.setSelection(O,d.default.sources.SILENT)),U.length()>0){var L,$=[d.default.events.TEXT_CHANGE,U,z,E];if((L=this.emitter).emit.apply(L,[d.default.events.EDITOR_CHANGE].concat($)),E!==d.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,$)}}return U}function F(q,E,C,M,O){var z={};return typeof q.index=="number"&&typeof q.length=="number"?typeof E!="number"?(O=M,M=C,C=E,E=q.length,q=q.index):(E=q.length,q=q.index):typeof E!="number"&&(O=M,M=C,C=E,E=0),(typeof C>"u"?"undefined":a(C))==="object"?(z=C,O=M):typeof C=="string"&&(M!=null?z[C]=M:O=C),O=O||d.default.sources.API,[q,E,z,O]}function Y(q,E,C,M){if(q==null)return null;var O=void 0,z=void 0;if(E instanceof c.default){var U=[q.index,q.index+q.length].map(function(V){return E.transformPosition(V,M!==d.default.sources.USER)}),L=s(U,2);O=L[0],z=L[1]}else{var $=[q.index,q.index+q.length].map(function(V){return V<E||V===E&&M===d.default.sources.USER?V:C>=0?V+C:Math.max(E,V+C)}),H=s($,2);O=H[0],z=H[1]}return new g.Range(O,z-O)}r.expandConfig=D,r.overload=F,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&b(p.prototype,g),_&&b(p,_),p}}(),s=function b(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:b(x,g,_)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(_)}},o=i(7),l=f(o),c=i(0),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function d(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function v(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var m=function(b){v(p,b);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"formatAt",value:function(_,y,x,T){if(p.compare(this.statics.blotName,x)<0&&u.default.query(x,u.default.Scope.BLOT)){var j=this.isolate(_,y);T&&j.wrap(x,T)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,_,y,x,T)}},{key:"optimize",value:function(_){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,_),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(_,y){var x=p.order.indexOf(_),T=p.order.indexOf(y);return x>=0||T>=0?x-T:_===y?0:_<y?-1:1}}]),p}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function u(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){u(d,h);function d(){return l(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(_,y){for(var x=0;x<y.length;x++){var T=y[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,y,x){return y&&g(_.prototype,y),x&&g(_,x),_}}(),s=function g(_,y,x){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,y);if(T===void 0){var j=Object.getPrototypeOf(_);return j===null?void 0:g(j,y,x)}else{if("value"in T)return T.value;var N=T.get;return N===void 0?void 0:N.call(x)}},o=i(54),l=f(o),c=i(10),u=f(c);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function d(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function v(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var m=(0,u.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(g){document.addEventListener(g,function(){for(var _=arguments.length,y=Array(_),x=0;x<_;x++)y[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var j;(j=T.__quill.emitter).handleDOM.apply(j,y)}})})});var p=function(g){v(_,g);function _(){h(this,_);var y=d(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return y.listeners={},y.on("error",m.error),y}return a(_,[{key:"emit",value:function(){m.log.apply(m,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var T=arguments.length,j=Array(T>1?T-1:0),N=1;N<T;N++)j[N-1]=arguments[N];(this.listeners[x.type]||[]).forEach(function(I){var A=I.node,k=I.handler;(x.target===A||A.contains(x.target))&&k.apply(void 0,[x].concat(j))})}},{key:"listenDOM",value:function(x,T,j){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:T,handler:j})}}]),_}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function a(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,o),this.quill=l,this.options=c};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function o(c){if(a.indexOf(c)<=a.indexOf(s)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];(u=console)[c].apply(u,h)}}function l(c){return a.reduce(function(u,f){return u[f]=o.bind(console,f,c),u},{})}o.level=l.level=function(c){s=c},r.default=l},function(n,r,i){var a=Array.prototype.slice,s=i(52),o=i(53),l=n.exports=function(h,d,v){return v||(v={}),h===d?!0:h instanceof Date&&d instanceof Date?h.getTime()===d.getTime():!h||!d||typeof h!="object"&&typeof d!="object"?v.strict?h===d:h==d:f(h,d,v)};function c(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,d,v){var m,b;if(c(h)||c(d)||h.prototype!==d.prototype)return!1;if(o(h))return o(d)?(h=a.call(h),d=a.call(d),l(h,d,v)):!1;if(u(h)){if(!u(d)||h.length!==d.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==d[m])return!1;return!0}try{var p=s(h),g=s(d)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),m=p.length-1;m>=0;m--)if(p[m]!=g[m])return!1;for(m=p.length-1;m>=0;m--)if(b=p[m],!l(h[b],d[b],v))return!1;return typeof h==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=function(){function o(l,c,u){u===void 0&&(u={}),this.attrName=l,this.keyName=c;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},o.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},o.prototype.canAdd=function(l,c){var u=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},o.prototype.remove=function(l){l.removeAttribute(this.keyName)},o.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},o}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function N(I,A){var k=[],S=!0,P=!1,R=void 0;try{for(var D=I[Symbol.iterator](),B;!(S=(B=D.next()).done)&&(k.push(B.value),!(A&&k.length===A));S=!0);}catch(F){P=!0,R=F}finally{try{!S&&D.return&&D.return()}finally{if(P)throw R}}return k}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(I,A){for(var k=0;k<A.length;k++){var S=A[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,A,k){return A&&N(I.prototype,A),k&&N(I,k),I}}(),o=function N(I,A,k){I===null&&(I=Function.prototype);var S=Object.getOwnPropertyDescriptor(I,A);if(S===void 0){var P=Object.getPrototypeOf(I);return P===null?void 0:N(P,A,k)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(k)}},l=i(2),c=g(l),u=i(0),f=g(u),h=i(4),d=g(h),v=i(6),m=g(v),b=i(7),p=g(b);function g(N){return N&&N.__esModule?N:{default:N}}function _(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function y(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function x(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var T=function(N){x(I,N);function I(){return _(this,I),y(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(m.default);T.blotName="code",T.tagName="CODE";var j=function(N){x(I,N);function I(){return _(this,I),y(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"delta",value:function(){var k=this,S=this.domNode.textContent;return S.endsWith(`
`)&&(S=S.slice(0,-1)),S.split(`
`).reduce(function(P,R){return P.insert(R).insert(`
`,k.formats())},new c.default)}},{key:"format",value:function(k,S){if(!(k===this.statics.blotName&&S)){var P=this.descendant(p.default,this.length()-1),R=a(P,1),D=R[0];D!=null&&D.deleteAt(D.length()-1,1),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,k,S)}}},{key:"formatAt",value:function(k,S,P,R){if(S!==0&&!(f.default.query(P,f.default.Scope.BLOCK)==null||P===this.statics.blotName&&R===this.statics.formats(this.domNode))){var D=this.newlineIndex(k);if(!(D<0||D>=k+S)){var B=this.newlineIndex(k,!0)+1,F=D-B+1,Y=this.isolate(B,F),q=Y.next;Y.format(P,R),q instanceof I&&q.formatAt(0,k-B+S-F,P,R)}}}},{key:"insertAt",value:function(k,S,P){if(P==null){var R=this.descendant(p.default,k),D=a(R,2),B=D[0],F=D[1];B.insertAt(F,S)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var P=this.domNode.textContent.slice(k).indexOf(`
`);return P>-1?k+P:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,k);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===S.statics.formats(S.domNode)&&(S.optimize(k),S.moveChildren(this),S.remove())}},{key:"replace",value:function(k){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(S){var P=f.default.find(S);P==null?S.parentNode.removeChild(S):P instanceof f.default.Embed?P.remove():P.unwrap()})}}],[{key:"create",value:function(k){var S=o(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,k);return S.setAttribute("spellcheck",!1),S}},{key:"formats",value:function(){return!0}}]),I}(d.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",r.Code=T,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(E,C){var M=[],O=!0,z=!1,U=void 0;try{for(var L=E[Symbol.iterator](),$;!(O=($=L.next()).done)&&(M.push($.value),!(C&&M.length===C));O=!0);}catch(H){z=!0,U=H}finally{try{!O&&L.return&&L.return()}finally{if(z)throw U}}return M}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return q(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function q(E,C){for(var M=0;M<C.length;M++){var O=C[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,C,M){return C&&q(E.prototype,C),M&&q(E,M),E}}(),l=i(2),c=S(l),u=i(20),f=S(u),h=i(0),d=S(h),v=i(13),m=S(v),b=i(24),p=S(b),g=i(4),_=S(g),y=i(16),x=S(y),T=i(21),j=S(T),N=i(11),I=S(N),A=i(3),k=S(A);function S(q){return q&&q.__esModule?q:{default:q}}function P(q,E,C){return E in q?Object.defineProperty(q,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):q[E]=C,q}function R(q,E){if(!(q instanceof E))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,B=function(){function q(E){R(this,q),this.scroll=E,this.delta=this.getDelta()}return o(q,[{key:"applyDelta",value:function(C){var M=this,O=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),C=Y(C),C.reduce(function(U,L){var $=L.retain||L.delete||L.insert.length||1,H=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var V=L.insert;V.endsWith(`
`)&&O&&(O=!1,V=V.slice(0,-1)),U>=z&&!V.endsWith(`
`)&&(O=!0),M.scroll.insertAt(U,V);var G=M.scroll.line(U),re=s(G,2),de=re[0],pe=re[1],we=(0,k.default)({},(0,g.bubbleFormats)(de));if(de instanceof _.default){var Se=de.descendant(d.default.Leaf,pe),He=s(Se,1),$e=He[0];we=(0,k.default)(we,(0,g.bubbleFormats)($e))}H=f.default.attributes.diff(we,H)||{}}else if(a(L.insert)==="object"){var Z=Object.keys(L.insert)[0];if(Z==null)return U;M.scroll.insertAt(U,Z,L.insert[Z])}z+=$}return Object.keys(H).forEach(function(K){M.scroll.formatAt(U,$,K,H[K])}),U+$},0),C.reduce(function(U,L){return typeof L.delete=="number"?(M.scroll.deleteAt(U,L.delete),U):U+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,M){return this.scroll.deleteAt(C,M),this.update(new c.default().retain(C).delete(M))}},{key:"formatLine",value:function(C,M){var O=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(U){if(!(O.scroll.whitelist!=null&&!O.scroll.whitelist[U])){var L=O.scroll.lines(C,Math.max(M,1)),$=M;L.forEach(function(H){var V=H.length();if(!(H instanceof m.default))H.format(U,z[U]);else{var G=C-H.offset(O.scroll),re=H.newlineIndex(G+$)-G+1;H.formatAt(G,re,U,z[U])}$-=V})}}),this.scroll.optimize(),this.update(new c.default().retain(C).retain(M,(0,j.default)(z)))}},{key:"formatText",value:function(C,M){var O=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(U){O.scroll.formatAt(C,M,U,z[U])}),this.update(new c.default().retain(C).retain(M,(0,j.default)(z)))}},{key:"getContents",value:function(C,M){return this.delta.slice(C,C+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,M){return C.concat(M.delta())},new c.default)}},{key:"getFormat",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=[],z=[];M===0?this.scroll.path(C).forEach(function(L){var $=s(L,1),H=$[0];H instanceof _.default?O.push(H):H instanceof d.default.Leaf&&z.push(H)}):(O=this.scroll.lines(C,M),z=this.scroll.descendants(d.default.Leaf,C,M));var U=[O,z].map(function(L){if(L.length===0)return{};for(var $=(0,g.bubbleFormats)(L.shift());Object.keys($).length>0;){var H=L.shift();if(H==null)return $;$=F((0,g.bubbleFormats)(H),$)}return $});return k.default.apply(k.default,U)}},{key:"getText",value:function(C,M){return this.getContents(C,M).filter(function(O){return typeof O.insert=="string"}).map(function(O){return O.insert}).join("")}},{key:"insertEmbed",value:function(C,M,O){return this.scroll.insertAt(C,M,O),this.update(new c.default().retain(C).insert(P({},M,O)))}},{key:"insertText",value:function(C,M){var O=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,M),Object.keys(z).forEach(function(U){O.scroll.formatAt(C,M.length,U,z[U])}),this.update(new c.default().retain(C).insert(M,(0,j.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==_.default.blotName||C.children.length>1?!1:C.children.head instanceof x.default}},{key:"removeFormat",value:function(C,M){var O=this.getText(C,M),z=this.scroll.line(C+M),U=s(z,2),L=U[0],$=U[1],H=0,V=new c.default;L!=null&&(L instanceof m.default?H=L.newlineIndex($)-$+1:H=L.length()-$,V=L.delta().slice($,$+H-1).insert(`
`));var G=this.getContents(C,M+H),re=G.diff(new c.default().insert(O).concat(V)),de=new c.default().retain(C).concat(re);return this.applyDelta(de)}},{key:"update",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(D)&&d.default.find(M[0].target)){var U=d.default.find(M[0].target),L=(0,g.bubbleFormats)(U),$=U.offset(this.scroll),H=M[0].oldValue.replace(p.default.CONTENTS,""),V=new c.default().insert(H),G=new c.default().insert(U.value()),re=new c.default().retain($).concat(V.diff(G,O));C=re.reduce(function(de,pe){return pe.insert?de.insert(pe.insert,L):de.push(pe)},new c.default),this.delta=z.compose(C)}else this.delta=this.getDelta(),(!C||!(0,I.default)(z.compose(C),this.delta))&&(C=z.diff(this.delta,O));return C}}]),q}();function F(q,E){return Object.keys(E).reduce(function(C,M){return q[M]==null||(E[M]===q[M]?C[M]=E[M]:Array.isArray(E[M])?E[M].indexOf(q[M])<0&&(C[M]=E[M].concat([q[M]])):C[M]=[E[M],q[M]]),C},{})}function Y(q){return q.reduce(function(E,C){if(C.insert===1){var M=(0,j.default)(C.attributes);return delete M.image,E.insert({image:C.attributes.image},M)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,j.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var O=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return E.insert(O,C.attributes)}return E.push(C)},new c.default)}r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function N(I,A){var k=[],S=!0,P=!1,R=void 0;try{for(var D=I[Symbol.iterator](),B;!(S=(B=D.next()).done)&&(k.push(B.value),!(A&&k.length===A));S=!0);}catch(F){P=!0,R=F}finally{try{!S&&D.return&&D.return()}finally{if(P)throw R}}return k}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(I,A){for(var k=0;k<A.length;k++){var S=A[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,A,k){return A&&N(I.prototype,A),k&&N(I,k),I}}(),o=i(0),l=p(o),c=i(21),u=p(c),f=i(11),h=p(f),d=i(8),v=p(d),m=i(10),b=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function g(N){if(Array.isArray(N)){for(var I=0,A=Array(N.length);I<N.length;I++)A[I]=N[I];return A}else return Array.from(N)}function _(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}var y=(0,b.default)("quill:selection"),x=function N(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,N),this.index=I,this.length=A},T=function(){function N(I,A){var k=this;_(this,N),this.emitter=A,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(S,P){S===v.default.events.TEXT_CHANGE&&P.length()>0&&k.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var S=k.getNativeRange();S!=null&&S.start.node!==k.cursor.textNode&&k.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(S.start.node,S.start.offset,S.end.node,S.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(S,P){if(P.range){var R=P.range,D=R.startNode,B=R.startOffset,F=R.endNode,Y=R.endOffset;k.setNativeRange(D,B,F,Y)}}),this.update(v.default.sources.SILENT)}return s(N,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var k=A.cursor.restore();if(!k)return;setTimeout(function(){A.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var S=this.getNativeRange();if(!(S==null||!S.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(S.start.node!==this.cursor.textNode){var P=l.default.find(S.start.node,!1);if(P==null)return;if(P instanceof l.default.Leaf){var R=P.split(S.start.offset);P.parent.insertBefore(this.cursor,R)}else P.insertBefore(this.cursor,S.start.node);this.cursor.attach()}this.cursor.format(A,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=this.scroll.length();A=Math.min(A,S-1),k=Math.min(A+k,S-1)-A;var P=void 0,R=this.scroll.leaf(A),D=a(R,2),B=D[0],F=D[1];if(B==null)return null;var Y=B.position(F,!0),q=a(Y,2);P=q[0],F=q[1];var E=document.createRange();if(k>0){E.setStart(P,F);var C=this.scroll.leaf(A+k),M=a(C,2);if(B=M[0],F=M[1],B==null)return null;var O=B.position(F,!0),z=a(O,2);return P=z[0],F=z[1],E.setEnd(P,F),E.getBoundingClientRect()}else{var U="left",L=void 0;return P instanceof Text?(F<P.data.length?(E.setStart(P,F),E.setEnd(P,F+1)):(E.setStart(P,F-1),E.setEnd(P,F),U="right"),L=E.getBoundingClientRect()):(L=B.domNode.getBoundingClientRect(),F>0&&(U="right")),{bottom:L.top+L.height,height:L.height,left:L[U],right:L[U],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var k=A.getRangeAt(0);if(k==null)return null;var S=this.normalizeNative(k);return y.info("getNativeRange",S),S}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var k=this.normalizedToRange(A);return[k,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var k=this,S=[[A.start.node,A.start.offset]];A.native.collapsed||S.push([A.end.node,A.end.offset]);var P=S.map(function(B){var F=a(B,2),Y=F[0],q=F[1],E=l.default.find(Y,!0),C=E.offset(k.scroll);return q===0?C:E instanceof l.default.Container?C+E.length():C+E.index(Y,q)}),R=Math.min(Math.max.apply(Math,g(P)),this.scroll.length()-1),D=Math.min.apply(Math,[R].concat(g(P)));return new x(D,R-D)}},{key:"normalizeNative",value:function(A){if(!j(this.root,A.startContainer)||!A.collapsed&&!j(this.root,A.endContainer))return null;var k={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[k.start,k.end].forEach(function(S){for(var P=S.node,R=S.offset;!(P instanceof Text)&&P.childNodes.length>0;)if(P.childNodes.length>R)P=P.childNodes[R],R=0;else if(P.childNodes.length===R)P=P.lastChild,R=P instanceof Text?P.data.length:P.childNodes.length+1;else break;S.node=P,S.offset=R}),k}},{key:"rangeToNative",value:function(A){var k=this,S=A.collapsed?[A.index]:[A.index,A.index+A.length],P=[],R=this.scroll.length();return S.forEach(function(D,B){D=Math.min(R-1,D);var F=void 0,Y=k.scroll.leaf(D),q=a(Y,2),E=q[0],C=q[1],M=E.position(C,B!==0),O=a(M,2);F=O[0],C=O[1],P.push(F,C)}),P.length<2&&(P=P.concat(P)),P}},{key:"scrollIntoView",value:function(A){var k=this.lastRange;if(k!=null){var S=this.getBounds(k.index,k.length);if(S!=null){var P=this.scroll.length()-1,R=this.scroll.line(Math.min(k.index,P)),D=a(R,1),B=D[0],F=B;if(k.length>0){var Y=this.scroll.line(Math.min(k.index+k.length,P)),q=a(Y,1);F=q[0]}if(!(B==null||F==null)){var E=A.getBoundingClientRect();S.top<E.top?A.scrollTop-=E.top-S.top:S.bottom>E.bottom&&(A.scrollTop+=S.bottom-E.bottom)}}}}},{key:"setNativeRange",value:function(A,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",A,k,S,P),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||S.parentNode==null))){var D=document.getSelection();if(D!=null)if(A!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||R||A!==B.startContainer||k!==B.startOffset||S!==B.endContainer||P!==B.endOffset){A.tagName=="BR"&&(k=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),S.tagName=="BR"&&(P=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode);var F=document.createRange();F.setStart(A,k),F.setEnd(S,P),D.removeAllRanges(),D.addRange(F)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof k=="string"&&(S=k,k=!1),y.info("setRange",A),A!=null){var P=this.rangeToNative(A);this.setNativeRange.apply(this,g(P).concat([k]))}else this.setNativeRange(null);this.update(S)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,k=this.lastRange,S=this.getRange(),P=a(S,2),R=P[0],D=P[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(k,this.lastRange)){var B;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(k),A];if((B=this.emitter).emit.apply(B,[v.default.events.EDITOR_CHANGE].concat(F)),A!==v.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,F)}}}}]),N}();function j(N,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),N.contains(I)}r.Range=x,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(m,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,b,p){return b&&v(m.prototype,b),p&&v(m,p),m}}(),s=function v(m,b,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,b);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,b,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},o=i(0),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"insertInto",value:function(p,g){p.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var v in d)d.hasOwnProperty(v)&&(h[v]=d[v])};return function(h,d){f(h,d);function v(){this.constructor=h}h.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),o=i(30),l=i(1),c=function(f){a(h,f);function h(d){var v=f.call(this,d)||this;return v.build(),v}return h.prototype.appendChild=function(d){this.insertBefore(d)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},h.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var m=u(v);d.insertBefore(m,d.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},h.prototype.deleteAt=function(d,v){if(d===0&&v===this.length())return this.remove();this.children.forEachAt(d,v,function(m,b,p){m.deleteAt(b,p)})},h.prototype.descendant=function(d,v){var m=this.children.find(v),b=m[0],p=m[1];return d.blotName==null&&d(b)||d.blotName!=null&&b instanceof d?[b,p]:b instanceof h?b.descendant(d,p):[null,-1]},h.prototype.descendants=function(d,v,m){v===void 0&&(v=0),m===void 0&&(m=Number.MAX_VALUE);var b=[],p=m;return this.children.forEachAt(v,m,function(g,_,y){(d.blotName==null&&d(g)||d.blotName!=null&&g instanceof d)&&b.push(g),g instanceof h&&(b=b.concat(g.descendants(d,_,p))),p-=y}),b},h.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(d,v,m,b){this.children.forEachAt(d,v,function(p,g,_){p.formatAt(g,_,m,b)})},h.prototype.insertAt=function(d,v,m){var b=this.children.find(d),p=b[0],g=b[1];if(p)p.insertAt(g,v,m);else{var _=m==null?l.create("text",v):l.create(v,m);this.appendChild(_)}},h.prototype.insertBefore=function(d,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return d instanceof m}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(d,v){return d+v.length()},0)},h.prototype.moveChildren=function(d,v){this.children.forEach(function(m){d.insertBefore(m,v)})},h.prototype.optimize=function(d){if(f.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(d)}else this.remove()},h.prototype.path=function(d,v){v===void 0&&(v=!1);var m=this.children.find(d,v),b=m[0],p=m[1],g=[[this,d]];return b instanceof h?g.concat(b.path(p,v)):(b!=null&&g.push([b,p]),g)},h.prototype.removeChild=function(d){this.children.remove(d)},h.prototype.replace=function(d){d instanceof h&&d.moveChildren(this),f.prototype.replace.call(this,d)},h.prototype.split=function(d,v){if(v===void 0&&(v=!1),!v){if(d===0)return this;if(d===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(d,this.length(),function(b,p,g){b=b.split(p,v),m.appendChild(b)}),m},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(d,v){var m=this,b=[],p=[];d.forEach(function(g){g.target===m.domNode&&g.type==="childList"&&(b.push.apply(b,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(g);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===m.domNode)&&_.detach()}}),b.filter(function(g){return g.parentNode==m.domNode}).sort(function(g,_){return g===_?0:g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var _=null;g.nextSibling!=null&&(_=l.find(g.nextSibling));var y=u(g);(y.next!=_||y.next==null)&&(y.parent!=null&&y.parent.removeChild(m),m.insertBefore(y,_||void 0))})},h}(o.default);function u(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=c},function(n,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var v in d)d.hasOwnProperty(v)&&(h[v]=d[v])};return function(h,d){f(h,d);function v(){this.constructor=h}h.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(31),l=i(17),c=i(1),u=function(f){a(h,f);function h(d){var v=f.call(this,d)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},h.prototype.format=function(d,v){var m=c.query(d);m instanceof s.default?this.attributes.attribute(m,v):v&&m!=null&&(d!==this.statics.blotName||this.formats()[d]!==v)&&this.replaceWith(d,v)},h.prototype.formats=function(){var d=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(d[this.statics.blotName]=v),d},h.prototype.replaceWith=function(d,v){var m=f.prototype.replaceWith.call(this,d,v);return this.attributes.copy(m),m},h.prototype.update=function(d,v){var m=this;f.prototype.update.call(this,d,v),d.some(function(b){return b.target===m.domNode&&b.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(d,v){var m=f.prototype.wrap.call(this,d,v);return m instanceof h&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},h}(l.default);r.default=u},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),o=i(1),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(d+=1),[this.parent.domNode,d]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var a=i(11),s=i(3),o={attributes:{compose:function(c,u,f){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var h=s(!0,{},u);f||(h=Object.keys(h).reduce(function(v,m){return h[m]!=null&&(v[m]=h[m]),v},{}));for(var d in c)c[d]!==void 0&&u[d]===void 0&&(h[d]=c[d]);return Object.keys(h).length>0?h:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var f=Object.keys(c).concat(Object.keys(u)).reduce(function(h,d){return a(c[d],u[d])||(h[d]=u[d]===void 0?null:u[d]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(c,u,f){if(typeof c!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(d,v){return c[v]===void 0&&(d[v]=u[v]),d},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(c>=h-f?(c=h-f,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var d={};return u.attributes&&(d.attributes=u.attributes),typeof u.retain=="number"?d.retain=c:typeof u.insert=="string"?d.insert=u.insert.substr(f,c):d.insert=u.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=c,this.index=u,[f].concat(h)}else return[]},n.exports=o},function(n,r){var i=function(){function a(m,b){return b!=null&&m instanceof b}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(m,b,p,g,_){typeof b=="object"&&(p=b.depth,g=b.prototype,_=b.includeNonEnumerable,b=b.circular);var y=[],x=[],T=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof p>"u"&&(p=1/0);function j(N,I){if(N===null)return null;if(I===0)return N;var A,k;if(typeof N!="object")return N;if(a(N,s))A=new s;else if(a(N,o))A=new o;else if(a(N,l))A=new l(function(E,C){N.then(function(M){E(j(M,I-1))},function(M){C(j(M,I-1))})});else if(c.__isArray(N))A=[];else if(c.__isRegExp(N))A=new RegExp(N.source,v(N)),N.lastIndex&&(A.lastIndex=N.lastIndex);else if(c.__isDate(N))A=new Date(N.getTime());else{if(T&&Buffer.isBuffer(N))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(N.length):A=new Buffer(N.length),N.copy(A),A;a(N,Error)?A=Object.create(N):typeof g>"u"?(k=Object.getPrototypeOf(N),A=Object.create(k)):(A=Object.create(g),k=g)}if(b){var S=y.indexOf(N);if(S!=-1)return x[S];y.push(N),x.push(A)}a(N,s)&&N.forEach(function(E,C){var M=j(C,I-1),O=j(E,I-1);A.set(M,O)}),a(N,o)&&N.forEach(function(E){var C=j(E,I-1);A.add(C)});for(var P in N){var R;k&&(R=Object.getOwnPropertyDescriptor(k,P)),!(R&&R.set==null)&&(A[P]=j(N[P],I-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(N),P=0;P<D.length;P++){var B=D[P],F=Object.getOwnPropertyDescriptor(N,B);F&&!F.enumerable&&!_||(A[B]=j(N[B],I-1),F.enumerable||Object.defineProperty(A,B,{enumerable:!1}))}if(_)for(var Y=Object.getOwnPropertyNames(N),P=0;P<Y.length;P++){var q=Y[P],F=Object.getOwnPropertyDescriptor(N,q);F&&F.enumerable||(A[q]=j(N[q],I-1),Object.defineProperty(A,q,{enumerable:!1}))}return A}return j(m,p)}c.clonePrototype=function(b){if(b===null)return null;var p=function(){};return p.prototype=b,new p};function u(m){return Object.prototype.toString.call(m)}c.__objToStr=u;function f(m){return typeof m=="object"&&u(m)==="[object Date]"}c.__isDate=f;function h(m){return typeof m=="object"&&u(m)==="[object Array]"}c.__isArray=h;function d(m){return typeof m=="object"&&u(m)==="[object RegExp]"}c.__isRegExp=d;function v(m){var b="";return m.global&&(b+="g"),m.ignoreCase&&(b+="i"),m.multiline&&(b+="m"),b}return c.__getRegExpFlags=v,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function A(k,S){var P=[],R=!0,D=!1,B=void 0;try{for(var F=k[Symbol.iterator](),Y;!(R=(Y=F.next()).done)&&(P.push(Y.value),!(S&&P.length===S));R=!0);}catch(q){D=!0,B=q}finally{try{!R&&F.return&&F.return()}finally{if(D)throw B}}return P}return function(k,S){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return A(k,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(k,S){for(var P=0;P<S.length;P++){var R=S[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,S,P){return S&&A(k.prototype,S),P&&A(k,P),k}}(),o=function A(k,S,P){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,S);if(R===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:A(D,S,P)}else{if("value"in R)return R.value;var B=R.get;return B===void 0?void 0:B.call(P)}},l=i(0),c=y(l),u=i(8),f=y(u),h=i(4),d=y(h),v=i(16),m=y(v),b=i(13),p=y(b),g=i(25),_=y(g);function y(A){return A&&A.__esModule?A:{default:A}}function x(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")}function T(A,k){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:A}function j(A,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);A.prototype=Object.create(k&&k.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(A,k):A.__proto__=k)}function N(A){return A instanceof d.default||A instanceof h.BlockEmbed}var I=function(A){j(k,A);function k(S,P){x(this,k);var R=T(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,S));return R.emitter=P.emitter,Array.isArray(P.whitelist)&&(R.whitelist=P.whitelist.reduce(function(D,B){return D[B]=!0,D},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return s(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,R){var D=this.line(P),B=a(D,2),F=B[0],Y=B[1],q=this.line(P+R),E=a(q,1),C=E[0];if(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,P,R),C!=null&&F!==C&&Y>0){if(F instanceof h.BlockEmbed||C instanceof h.BlockEmbed){this.optimize();return}if(F instanceof p.default){var M=F.newlineIndex(F.length(),!0);if(M>-1&&(F=F.split(M+1),F===C)){this.optimize();return}}else if(C instanceof p.default){var O=C.newlineIndex(0);O>-1&&C.split(O+1)}var z=C.children.head instanceof m.default?null:C.children.head;F.moveChildren(C,z),F.remove()}this.optimize()}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,R,D,B){this.whitelist!=null&&!this.whitelist[D]||(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,P,R,D,B),this.optimize())}},{key:"insertAt",value:function(P,R,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[R])){if(P>=this.length())if(D==null||c.default.query(R,c.default.Scope.BLOCK)==null){var B=c.default.create(this.statics.defaultChild);this.appendChild(B),D==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),B.insertAt(0,R,D)}else{var F=c.default.create(R,D);this.appendChild(F)}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,P,R,D);this.optimize()}}},{key:"insertBefore",value:function(P,R){if(P.statics.scope===c.default.Scope.INLINE_BLOT){var D=c.default.create(this.statics.defaultChild);D.appendChild(P),P=D}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,P,R)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(N,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function B(F,Y,q){var E=[],C=q;return F.children.forEachAt(Y,q,function(M,O,z){N(M)?E.push(M):M instanceof c.default.Container&&(E=E.concat(B(M,O,C))),C-=z}),E};return D(this,P,R)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,P,R),P.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,P,R))}},{key:"path",value:function(P){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var R=f.default.sources.USER;typeof P=="string"&&(R=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,R,P),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,R,P)}}}]),k}(c.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[d.default,h.BlockEmbed,_.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},s=function(){function L($,H){var V=[],G=!0,re=!1,de=void 0;try{for(var pe=$[Symbol.iterator](),we;!(G=(we=pe.next()).done)&&(V.push(we.value),!(H&&V.length===H));G=!0);}catch(Se){re=!0,de=Se}finally{try{!G&&pe.return&&pe.return()}finally{if(re)throw de}}return V}return function($,H){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return L($,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function L($,H){for(var V=0;V<H.length;V++){var G=H[V];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty($,G.key,G)}}return function($,H,V){return H&&L($.prototype,H),V&&L($,V),$}}(),l=i(21),c=A(l),u=i(11),f=A(u),h=i(3),d=A(h),v=i(2),m=A(v),b=i(20),p=A(b),g=i(0),_=A(g),y=i(5),x=A(y),T=i(10),j=A(T),N=i(9),I=A(N);function A(L){return L&&L.__esModule?L:{default:L}}function k(L,$,H){return $ in L?Object.defineProperty(L,$,{value:H,enumerable:!0,configurable:!0,writable:!0}):L[$]=H,L}function S(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")}function P(L,$){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:L}function R(L,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);L.prototype=Object.create($&&$.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(L,$):L.__proto__=$)}var D=(0,j.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(L){R($,L),o($,null,[{key:"match",value:function(V,G){return G=U(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!G[re]!==V[re]&&G[re]!==null})?!1:G.key===(V.which||V.keyCode)}}]);function $(H,V){S(this,$);var G=P(this,($.__proto__||Object.getPrototypeOf($)).call(this,H,V));return G.bindings={},Object.keys(G.options.bindings).forEach(function(re){re==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||G.options.bindings[re]&&G.addBinding(G.options.bindings[re])}),G.addBinding({key:$.keys.ENTER,shiftKey:null},M),G.addBinding({key:$.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:$.keys.BACKSPACE},{collapsed:!0},q),G.addBinding({key:$.keys.DELETE},{collapsed:!0},E)):(G.addBinding({key:$.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),G.addBinding({key:$.keys.DELETE},{collapsed:!0,suffix:/^.?$/},E)),G.addBinding({key:$.keys.BACKSPACE},{collapsed:!1},C),G.addBinding({key:$.keys.DELETE},{collapsed:!1},C),G.addBinding({key:$.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),G.listen(),G}return o($,[{key:"addBinding",value:function(V){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=U(V);if(de==null||de.key==null)return D.warn("Attempted to add invalid keyboard binding",de);typeof G=="function"&&(G={handler:G}),typeof re=="function"&&(re={handler:re}),de=(0,d.default)(de,G,re),this.bindings[de.key]=this.bindings[de.key]||[],this.bindings[de.key].push(de)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var re=G.which||G.keyCode,de=(V.bindings[re]||[]).filter(function(ce){return $.match(G,ce)});if(de.length!==0){var pe=V.quill.getSelection();if(!(pe==null||!V.quill.hasFocus())){var we=V.quill.getLine(pe.index),Se=s(we,2),He=Se[0],$e=Se[1],Z=V.quill.getLeaf(pe.index),K=s(Z,2),te=K[0],ie=K[1],J=pe.length===0?[te,ie]:V.quill.getLeaf(pe.index+pe.length),ye=s(J,2),ve=ye[0],xe=ye[1],W=te instanceof _.default.Text?te.value().slice(0,ie):"",ee=ve instanceof _.default.Text?ve.value().slice(xe):"",se={collapsed:pe.length===0,empty:pe.length===0&&He.length()<=1,format:V.quill.getFormat(pe),offset:$e,prefix:W,suffix:ee},ke=de.some(function(ce){if(ce.collapsed!=null&&ce.collapsed!==se.collapsed||ce.empty!=null&&ce.empty!==se.empty||ce.offset!=null&&ce.offset!==se.offset)return!1;if(Array.isArray(ce.format)){if(ce.format.every(function(qe){return se.format[qe]==null}))return!1}else if(a(ce.format)==="object"&&!Object.keys(ce.format).every(function(qe){return ce.format[qe]===!0?se.format[qe]!=null:ce.format[qe]===!1?se.format[qe]==null:(0,f.default)(ce.format[qe],se.format[qe])}))return!1;return ce.prefix!=null&&!ce.prefix.test(se.prefix)||ce.suffix!=null&&!ce.suffix.test(se.suffix)?!1:ce.handler.call(V,pe,se)!==!0});ke&&G.preventDefault()}}}})}}]),$}(I.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function($,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function($,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function($,H){H.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function($){this.quill.deleteText($.index-1,1,x.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function($){this.quill.history.cutoff();var H=new m.default().retain($.index).delete($.length).insert("	");this.quill.updateContents(H,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,x.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function($,H){this.quill.format("list",!1,x.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function($){var H=this.quill.getLine($.index),V=s(H,2),G=V[0],re=V[1],de=(0,d.default)({},G.formats(),{list:"checked"}),pe=new m.default().retain($.index).insert(`
`,de).retain(G.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,x.default.sources.USER),this.quill.setSelection($.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function($,H){var V=this.quill.getLine($.index),G=s(V,2),re=G[0],de=G[1],pe=new m.default().retain($.index).insert(`
`,H.format).retain(re.length()-de-1).retain(1,{header:null});this.quill.updateContents(pe,x.default.sources.USER),this.quill.setSelection($.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function($,H){var V=H.prefix.length,G=this.quill.getLine($.index),re=s(G,2),de=re[0],pe=re[1];if(pe>V)return!0;var we=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":we="unchecked";break;case"[x]":we="checked";break;case"-":case"*":we="bullet";break;default:we="ordered"}this.quill.insertText($.index," ",x.default.sources.USER),this.quill.history.cutoff();var Se=new m.default().retain($.index-pe).delete(V+1).retain(de.length()-2-pe).retain(1,{list:we});this.quill.updateContents(Se,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-V,x.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function($){var H=this.quill.getLine($.index),V=s(H,2),G=V[0],re=V[1],de=new m.default().retain($.index+G.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(de,x.default.sources.USER)}},"embed left":Y(F.keys.LEFT,!1),"embed left shift":Y(F.keys.LEFT,!0),"embed right":Y(F.keys.RIGHT,!1),"embed right shift":Y(F.keys.RIGHT,!0)}};function Y(L,$){var H,V=L===F.keys.LEFT?"prefix":"suffix";return H={key:L,shiftKey:$,altKey:null},k(H,V,/^$/),k(H,"handler",function(re){var de=re.index;L===F.keys.RIGHT&&(de+=re.length+1);var pe=this.quill.getLeaf(de),we=s(pe,1),Se=we[0];return Se instanceof _.default.Embed?(L===F.keys.LEFT?$?this.quill.setSelection(re.index-1,re.length+1,x.default.sources.USER):this.quill.setSelection(re.index-1,x.default.sources.USER):$?this.quill.setSelection(re.index,re.length+1,x.default.sources.USER):this.quill.setSelection(re.index+re.length+1,x.default.sources.USER),!1):!0}),H}function q(L,$){if(!(L.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(L.index),V=s(H,1),G=V[0],re={};if($.offset===0){var de=this.quill.getLine(L.index-1),pe=s(de,1),we=pe[0];if(we!=null&&we.length()>1){var Se=G.formats(),He=this.quill.getFormat(L.index-1,1);re=p.default.attributes.diff(Se,He)||{}}}var $e=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;this.quill.deleteText(L.index-$e,$e,x.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(L.index-$e,$e,re,x.default.sources.USER),this.quill.focus()}}function E(L,$){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(!(L.index>=this.quill.getLength()-H)){var V={},G=0,re=this.quill.getLine(L.index),de=s(re,1),pe=de[0];if($.offset>=pe.length()-1){var we=this.quill.getLine(L.index+1),Se=s(we,1),He=Se[0];if(He){var $e=pe.formats(),Z=this.quill.getFormat(L.index,1);V=p.default.attributes.diff($e,Z)||{},G=He.length()}}this.quill.deleteText(L.index,H,x.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(L.index+G-1,H,V,x.default.sources.USER)}}function C(L){var $=this.quill.getLines(L),H={};if($.length>1){var V=$[0].formats(),G=$[$.length-1].formats();H=p.default.attributes.diff(G,V)||{}}this.quill.deleteText(L,x.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(L.index,1,H,x.default.sources.USER),this.quill.setSelection(L.index,x.default.sources.SILENT),this.quill.focus()}function M(L,$){var H=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var V=Object.keys($.format).reduce(function(G,re){return _.default.query(re,_.default.Scope.BLOCK)&&!Array.isArray($.format[re])&&(G[re]=$.format[re]),G},{});this.quill.insertText(L.index,`
`,V,x.default.sources.USER),this.quill.setSelection(L.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys($.format).forEach(function(G){V[G]==null&&(Array.isArray($.format[G])||G!=="link"&&H.quill.format(G,$.format[G],x.default.sources.USER))})}function O(L){return{key:F.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(H){var V=_.default.query("code-block"),G=H.index,re=H.length,de=this.quill.scroll.descendant(V,G),pe=s(de,2),we=pe[0],Se=pe[1];if(we!=null){var He=this.quill.getIndex(we),$e=we.newlineIndex(Se,!0)+1,Z=we.newlineIndex(He+Se+re),K=we.domNode.textContent.slice($e,Z).split(`
`);Se=0,K.forEach(function(te,ie){L?(we.insertAt($e+Se,V.TAB),Se+=V.TAB.length,ie===0?G+=V.TAB.length:re+=V.TAB.length):te.startsWith(V.TAB)&&(we.deleteAt($e+Se,V.TAB.length),Se-=V.TAB.length,ie===0?G-=V.TAB.length:re-=V.TAB.length),Se+=te.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(G,re,x.default.sources.SILENT)}}}}function z(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(H,V){this.quill.format(L,!V.format[L],x.default.sources.USER)}}}function U(L){if(typeof L=="string"||typeof L=="number")return U({key:L});if((typeof L>"u"?"undefined":a(L))==="object"&&(L=(0,c.default)(L,!1)),typeof L.key=="string")if(F.keys[L.key.toUpperCase()]!=null)L.key=F.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[B]=L.shortKey,delete L.shortKey),L}r.default=F,r.SHORTKEY=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(g,_){var y=[],x=!0,T=!1,j=void 0;try{for(var N=g[Symbol.iterator](),I;!(x=(I=N.next()).done)&&(y.push(I.value),!(_&&y.length===_));x=!0);}catch(A){T=!0,j=A}finally{try{!x&&N.return&&N.return()}finally{if(T)throw j}}return y}return function(g,_){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,_);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:p(T,_,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},o=function(){function p(g,_){for(var y=0;y<_.length;y++){var x=_[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),l=i(0),c=h(l),u=i(7),f=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function v(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function m(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var b=function(p){m(g,p),o(g,null,[{key:"value",value:function(){}}]);function g(_,y){d(this,g);var x=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return x.selection=y,x.textNode=document.createTextNode(g.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return o(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,x){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,y,x);for(var T=this,j=0;T!=null&&T.statics.scope!==c.default.Scope.BLOCK_BLOT;)j+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=g.CONTENTS.length,T.optimize(),T.formatAt(j,g.CONTENTS.length,y,x),this._length=0)}},{key:"index",value:function(y,x){return y===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,y,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,x=this.selection.getNativeRange(),T=void 0,j=void 0,N=void 0;if(x!=null&&x.start.node===y&&x.end.node===y){var I=[y,x.start.offset,x.end.offset];T=I[0],j=I[1],N=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var A=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(T=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=g.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var k=[j,N].map(function(P){return Math.max(0,Math.min(T.data.length,P-1))}),S=a(k,2);return j=S[0],N=S[1],{startNode:T,startOffset:j,endNode:T,endOffset:N}}}}},{key:"update",value:function(y,x){var T=this;if(y.some(function(N){return N.type==="characterData"&&N.target===T.textNode})){var j=this.restore();j&&(x.range=j)}}},{key:"value",value:function(){return""}}]),g}(c.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=c(a),o=i(4),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);d.allowedChildren=[l.default,o.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function b(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&b(p.prototype,g),_&&b(p,_),p}}(),s=function b(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:b(x,g,_)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(_)}},o=i(0),l=c(o);function c(b){return b&&b.__esModule?b:{default:b}}function u(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function f(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function h(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var d=function(b){h(p,b);function p(){return u(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"value",value:function(_){var y=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):y}}]),p}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=v,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function m(b,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,p,g){return p&&m(b.prototype,p),g&&m(b,g),b}}(),s=function m(b,p,g){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,p);if(_===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:m(y,p,g)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(g)}},o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function f(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function h(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var d=function(m){h(b,m);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(g,_){if(g!==this.statics.blotName||!_)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,g,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(g){var _=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,g);return g=this.sanitize(g),_.setAttribute("href",g),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return v(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),b}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(m,b){var p=document.createElement("a");p.href=m;var g=p.href.slice(0,p.href.indexOf(":"));return b.indexOf(g)>-1}r.default=d,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s=function(){function b(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&b(p.prototype,g),_&&b(p,_),p}}(),o=i(23),l=f(o),c=i(107),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}var d=0;function v(b,p){b.setAttribute(p,b.getAttribute(p)!=="true")}var m=function(){function b(p){var g=this;h(this,b),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var _=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),g.hasAttribute("value")&&y.setAttribute("data-value",g.getAttribute("value")),g.textContent&&y.setAttribute("data-label",g.textContent),y.addEventListener("click",function(){_.selectItem(y,!0)}),y.addEventListener("keydown",function(x){switch(x.keyCode){case l.default.keys.ENTER:_.selectItem(y,!0),x.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),x.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=u.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(y){var x=g.buildItem(y);_.appendChild(x),y.selected===!0&&g.selectItem(x)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(_){g.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(g!==y&&(y!=null&&y.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var y=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),b}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=D(a),o=i(5),l=D(o),c=i(4),u=D(c),f=i(16),h=D(f),d=i(25),v=D(d),m=i(24),b=D(m),p=i(35),g=D(p),_=i(6),y=D(_),x=i(22),T=D(x),j=i(7),N=D(j),I=i(55),A=D(I),k=i(42),S=D(k),P=i(23),R=D(P);function D(B){return B&&B.__esModule?B:{default:B}}l.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":b.default,"blots/embed":g.default,"blots/inline":y.default,"blots/scroll":T.default,"blots/text":N.default,"modules/clipboard":A.default,"modules/history":S.default,"modules/keyboard":R.default}),s.default.register(u.default,h.default,b.default,y.default,T.default,N.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=function(){function o(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},o.prototype.deleteAt=function(l,c){var u=this.isolate(l,c);u.remove()},o.prototype.formatAt=function(l,c,u,f){var h=this.isolate(l,c);if(a.query(u,a.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(a.query(u,a.Scope.ATTRIBUTE)!=null){var d=a.create(this.statics.scope);h.wrap(d),d.format(u,f)}},o.prototype.insertAt=function(l,c,u){var f=u==null?a.create("text",c):a.create(c,u),h=this.split(l);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},o.prototype.isolate=function(l,c){var u=this.split(l);return u.split(c),u},o.prototype.length=function(){return 1},o.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},o.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},o.prototype.replaceWith=function(l,c){var u=typeof l=="string"?a.create(l,c):l;return u.replace(this),u},o.prototype.split=function(l,c){return l===0?this:this.next},o.prototype.update=function(l,c){},o.prototype.wrap=function(l,c){var u=typeof l=="string"?a.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),s=i(32),o=i(33),l=i(1),c=function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=a.default.keys(this.domNode),d=s.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(d).concat(v).forEach(function(m){var b=l.query(m,l.Scope.ATTRIBUTE);b instanceof a.default&&(f.attributes[b.attrName]=b)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(d){var v=h.attributes[d].value(h.domNode);f.format(d,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(d){h.attributes[d].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,d){return h[d]=f.attributes[d].value(f.domNode),h},{})},u}();r.default=c},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function o(c,u){var f=c.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(d){f.classList.remove(d)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",d=h.slice(this.keyName.length+1);return this.canAdd(f,d)?d:""},u}(s.default);r.default=l},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function o(c){var u=c.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var d=h.split(":");return d[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){s(this,l),this.quill=c,this.options=u,this.modules={}}return a(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(g,_){for(var y=0;y<_.length;y++){var x=_[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,_);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:p(T,_,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},o=i(0),l=f(o),c=i(7),u=f(c);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function v(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m="\uFEFF",b=function(p){v(g,p);function g(_){h(this,g);var y=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(x){y.contentNode.appendChild(x)}),y.leftGuard=document.createTextNode(m),y.rightGuard=document.createTextNode(m),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return a(g,[{key:"index",value:function(y,x){return y===this.leftGuard?0:y===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,y,x)}},{key:"restore",value:function(y){var x=void 0,T=void 0,j=y.data.split(m).join("");if(y===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,j),x={startNode:this.prev.domNode,startOffset:N+j.length}}else T=document.createTextNode(j),this.parent.insertBefore(l.default.create(T),this),x={startNode:T,startOffset:j.length};else y===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,j),x={startNode:this.next.domNode,startOffset:j.length}):(T=document.createTextNode(j),this.parent.insertBefore(l.default.create(T),this.next),x={startNode:T,startOffset:j.length}));return y.data=m,x}},{key:"update",value:function(y,x){var T=this;y.forEach(function(j){if(j.type==="characterData"&&(j.target===T.leftGuard||j.target===T.rightGuard)){var N=T.restore(j.target);N&&(x.range=N)}})}}]),g}(l.default.Embed);r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=i(0),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=i(0),s=l(a),o=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var c=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=i(0),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},c=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function p(g,_){for(var y=0;y<_.length;y++){var x=_[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,_,y){return _&&p(g.prototype,_),y&&p(g,y),g}}(),s=function p(g,_,y){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,_);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:p(T,_,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},o=i(0),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function f(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function h(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",d),m=function(p){h(g,p);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(y){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),b=new m("font","font-family",d);r.FontStyle=b,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=i(0),s=o(a);function o(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function _(y,x){for(var T=0;T<x.length;T++){var j=x[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,T){return x&&_(y.prototype,x),T&&_(y,T),y}}(),s=i(0),o=h(s),l=i(5),c=h(l),u=i(9),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function d(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function v(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var b=function(_){m(y,_);function y(x,T){d(this,y);var j=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,T));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(c.default.events.EDITOR_CHANGE,function(N,I,A,k){N!==c.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||k===c.default.sources.USER?j.record(I,A):j.transform(I))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return a(y,[{key:"change",value:function(T,j){if(this.stack[T].length!==0){var N=this.stack[T].pop();this.stack[j].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[T],c.default.sources.USER),this.ignoreChange=!1;var I=g(N[T]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,j){if(T.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(j),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var A=this.stack.undo.pop();N=N.compose(A.undo),T=A.redo.compose(T)}else this.lastRecorded=I;this.stack.undo.push({redo:T,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(j){j.undo=T.transform(j.undo,!0),j.redo=T.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=T.transform(j.undo,!0),j.redo=T.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(_){var y=_.ops[_.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(x){return o.default.query(x,o.default.Scope.BLOCK)!=null}):!1}function g(_){var y=_.reduce(function(T,j){return T+=j.delete||0,T},0),x=_.length()-y;return p(_)&&(x-=1),x}r.default=b,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function M(O,z){for(var U=0;U<z.length;U++){var L=z[U];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,z,U){return z&&M(O.prototype,z),U&&M(O,U),O}}(),s=function M(O,z,U){O===null&&(O=Function.prototype);var L=Object.getOwnPropertyDescriptor(O,z);if(L===void 0){var $=Object.getPrototypeOf(O);return $===null?void 0:M($,z,U)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(U)}},o=i(3),l=I(o),c=i(2),u=I(c),f=i(8),h=I(f),d=i(23),v=I(d),m=i(34),b=I(m),p=i(59),g=I(p),_=i(60),y=I(_),x=i(28),T=I(x),j=i(61),N=I(j);function I(M){return M&&M.__esModule?M:{default:M}}function A(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function k(M,O){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:M}function S(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(M,O):M.__proto__=O)}var P=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],B=["1","2","3",!1],F=["small",!1,"large","huge"],Y=function(M){S(O,M);function O(z,U){A(this,O);var L=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,z,U)),$=function H(V){if(!document.body.contains(z.root))return document.body.removeEventListener("click",H);L.tooltip!=null&&!L.tooltip.root.contains(V.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(G){G.container.contains(V.target)||G.close()})};return z.emitter.listenDOM("click",document.body,$),L}return a(O,[{key:"addModule",value:function(U){var L=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"addModule",this).call(this,U);return U==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(U,L){U.forEach(function($){var H=$.getAttribute("class")||"";H.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),L[V]!=null))if(V==="direction")$.innerHTML=L[V][""]+L[V].rtl;else if(typeof L[V]=="string")$.innerHTML=L[V];else{var G=$.value||"";G!=null&&L[V][G]&&($.innerHTML=L[V][G])}})})}},{key:"buildPickers",value:function(U,L){var $=this;this.pickers=U.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&C(V,P),new y.default(V,L.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var G=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&C(V,R,G==="background"?"#ffffff":"#000000"),new g.default(V,L[G])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?C(V,D):V.classList.contains("ql-header")?C(V,B):V.classList.contains("ql-size")&&C(V,F)),new T.default(V)});var H=function(){$.pickers.forEach(function(G){G.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,H)}}]),O}(b.default);Y.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var O=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var U=new FileReader;U.onload=function(L){var $=O.quill.getSelection(!0);O.quill.updateContents(new u.default().retain($.index).delete($.length).insert({image:L.target.result}),h.default.sources.USER),O.quill.setSelection($.index+1,h.default.sources.SILENT),z.value=""},U.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(M){S(O,M);function O(z,U){A(this,O);var L=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,z,U));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return a(O,[{key:"listen",value:function(){var U=this;this.textbox.addEventListener("keydown",function(L){v.default.match(L,"enter")?(U.save(),L.preventDefault()):v.default.match(L,"escape")&&(U.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:U!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+U)||""),this.root.setAttribute("data-mode",U)}},{key:"restoreFocus",value:function(){var U=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=U}},{key:"save",value:function(){var U=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",U,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",U,h.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":U=E(U);case"formula":{if(!U)break;var $=this.quill.getSelection(!0);if($!=null){var H=$.index+$.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),U,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",h.default.sources.USER),this.quill.setSelection(H+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),O}(N.default);function E(M){var O=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return O?(O[1]||"https")+"://www.youtube.com/embed/"+O[2]+"?showinfo=0":(O=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(O[1]||"https")+"://player.vimeo.com/video/"+O[2]+"/":M}function C(M,O){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;O.forEach(function(U){var L=document.createElement("option");U===z?L.setAttribute("selected","selected"):L.setAttribute("value",U),M.appendChild(L)})}r.BaseTooltip=q,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var l,c=this.iterator();l=c();)if(l===o)return!0;return!1},s.prototype.insertBefore=function(o,l){o&&(o.next=l,l!=null?(o.prev=l.prev,l.prev!=null&&(l.prev.next=o),l.prev=o,l===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var l=0,c=this.head;c!=null;){if(c===o)return l;l+=c.length(),c=c.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var l=o;return o!=null&&(o=o.next),l}},s.prototype.find=function(o,l){l===void 0&&(l=!1);for(var c,u=this.iterator();c=u();){var f=c.length();if(o<f||l&&o===f&&(c.next==null||c.next.length()!==0))return[c,o];o-=f}return[null,0]},s.prototype.forEach=function(o){for(var l,c=this.iterator();l=c();)o(l)},s.prototype.forEachAt=function(o,l,c){if(!(l<=0))for(var u=this.find(o),f=u[0],h=u[1],d,v=o-h,m=this.iterator(f);(d=m())&&v<o+l;){var b=d.length();o>v?c(d,o-v,Math.min(l,v+b-o)):c(d,0,Math.min(b,o+l-v)),v+=b}},s.prototype.map=function(o){return this.reduce(function(l,c){return l.push(o(c)),l},[])},s.prototype.reduce=function(o,l){for(var c,u=this.iterator();c=u();)l=o(l,c);return l},s}();r.default=a},function(n,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var v in d)d.hasOwnProperty(v)&&(h[v]=d[v])};return function(h,d){f(h,d);function v(){this.constructor=h}h.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=function(f){a(h,f);function h(d){var v=f.call(this,d)||this;return v.scroll=v,v.observer=new MutationObserver(function(m){v.update(m)}),v.observer.observe(v.domNode,l),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(d,v){this.update(),d===0&&v===this.length()?this.children.forEach(function(m){m.remove()}):f.prototype.deleteAt.call(this,d,v)},h.prototype.formatAt=function(d,v,m,b){this.update(),f.prototype.formatAt.call(this,d,v,m,b)},h.prototype.insertAt=function(d,v,m){this.update(),f.prototype.insertAt.call(this,d,v,m)},h.prototype.optimize=function(d,v){var m=this;d===void 0&&(d=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)d.push(b.pop());for(var p=function(x,T){T===void 0&&(T=!0),!(x==null||x===m)&&x.domNode.parentNode!=null&&(x.domNode[o.DATA_KEY].mutations==null&&(x.domNode[o.DATA_KEY].mutations=[]),T&&p(x.parent))},g=function(x){x.domNode[o.DATA_KEY]==null||x.domNode[o.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(g),x.optimize(v))},_=d,y=0;_.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(x){var T=o.find(x.target,!0);T!=null&&(T.domNode===x.target&&(x.type==="childList"?(p(o.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(j){var N=o.find(j,!1);p(N,!1),N instanceof s.default&&N.children.forEach(function(I){p(I,!1)})})):x.type==="attributes"&&p(T.prev)),p(T))}),this.children.forEach(g),_=[].slice.call(this.observer.takeRecords()),b=_.slice();b.length>0;)d.push(b.pop())}},h.prototype.update=function(d,v){var m=this;v===void 0&&(v={}),d=d||this.observer.takeRecords(),d.map(function(b){var p=o.find(b.target,!0);return p==null?null:p.domNode[o.DATA_KEY].mutations==null?(p.domNode[o.DATA_KEY].mutations=[b],p):(p.domNode[o.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===m||b.domNode[o.DATA_KEY]==null||b.update(b.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(d,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=u},function(n,r,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),o=i(1);function l(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var c=function(u){a(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,d){var v=this;h===this.statics.blotName&&!d?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(f.blotName,!0)),v.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,h,d)},f.prototype.formatAt=function(h,d,v,m){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var b=this.isolate(h,d);b.format(v,m)}else u.prototype.formatAt.call(this,h,d,v,m)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(d,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=c},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),o=i(1),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return c.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):c.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,d,v){o.query(d,o.Scope.BLOCK)!=null?this.format(d,v):c.prototype.formatAt.call(this,f,h,d,v)},u.prototype.insertAt=function(f,h,d){if(d==null||o.query(h,o.Scope.INLINE)!=null)c.prototype.insertAt.call(this,f,h,d);else{var v=this.split(f),m=o.create(h,d);v.parent.insertBefore(m,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);r.default=l},function(n,r,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])};return function(c,u){l(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),o=function(l){a(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,f){l.prototype.formatAt.call(this,0,this.length(),u,f)},c.prototype.formatAt=function(u,f,h,d){u===0&&f===this.length()?this.format(h,d):l.prototype.formatAt.call(this,u,f,h,d)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(s.default);r.default=o},function(n,r,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),o=i(1),l=function(c){a(u,c);function u(f){var h=c.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,d){d==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):c.prototype.insertAt.call(this,f,h,d)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){c.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var d=o.create(this.domNode.splitText(f));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},u.prototype.update=function(f,h){var d=this;f.some(function(v){return v.type==="characterData"&&v.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,l){return arguments.length>1&&!this.contains(o)==!l?l:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,l){return l=l||0,this.substr(l,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=o.length;var u=c.indexOf(o,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,f=arguments[1],h,d=0;d<u;d++)if(h=c[d],l.call(f,h,d,c))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,a=1,s=0;function o(y,x,T){if(y==x)return y?[[s,y]]:[];(T<0||y.length<T)&&(T=null);var j=f(y,x),N=y.substring(0,j);y=y.substring(j),x=x.substring(j),j=h(y,x);var I=y.substring(y.length-j);y=y.substring(0,y.length-j),x=x.substring(0,x.length-j);var A=l(y,x);return N&&A.unshift([s,N]),I&&A.push([s,I]),v(A),T!=null&&(A=p(A,T)),A=g(A),A}function l(y,x){var T;if(!y)return[[a,x]];if(!x)return[[i,y]];var j=y.length>x.length?y:x,N=y.length>x.length?x:y,I=j.indexOf(N);if(I!=-1)return T=[[a,j.substring(0,I)],[s,N],[a,j.substring(I+N.length)]],y.length>x.length&&(T[0][0]=T[2][0]=i),T;if(N.length==1)return[[i,y],[a,x]];var A=d(y,x);if(A){var k=A[0],S=A[1],P=A[2],R=A[3],D=A[4],B=o(k,P),F=o(S,R);return B.concat([[s,D]],F)}return c(y,x)}function c(y,x){for(var T=y.length,j=x.length,N=Math.ceil((T+j)/2),I=N,A=2*N,k=new Array(A),S=new Array(A),P=0;P<A;P++)k[P]=-1,S[P]=-1;k[I+1]=0,S[I+1]=0;for(var R=T-j,D=R%2!=0,B=0,F=0,Y=0,q=0,E=0;E<N;E++){for(var C=-E+B;C<=E-F;C+=2){var M=I+C,O;C==-E||C!=E&&k[M-1]<k[M+1]?O=k[M+1]:O=k[M-1]+1;for(var z=O-C;O<T&&z<j&&y.charAt(O)==x.charAt(z);)O++,z++;if(k[M]=O,O>T)F+=2;else if(z>j)B+=2;else if(D){var U=I+R-C;if(U>=0&&U<A&&S[U]!=-1){var L=T-S[U];if(O>=L)return u(y,x,O,z)}}}for(var $=-E+Y;$<=E-q;$+=2){var U=I+$,L;$==-E||$!=E&&S[U-1]<S[U+1]?L=S[U+1]:L=S[U-1]+1;for(var H=L-$;L<T&&H<j&&y.charAt(T-L-1)==x.charAt(j-H-1);)L++,H++;if(S[U]=L,L>T)q+=2;else if(H>j)Y+=2;else if(!D){var M=I+R-$;if(M>=0&&M<A&&k[M]!=-1){var O=k[M],z=I+O-M;if(L=T-L,O>=L)return u(y,x,O,z)}}}}return[[i,y],[a,x]]}function u(y,x,T,j){var N=y.substring(0,T),I=x.substring(0,j),A=y.substring(T),k=x.substring(j),S=o(N,I),P=o(A,k);return S.concat(P)}function f(y,x){if(!y||!x||y.charAt(0)!=x.charAt(0))return 0;for(var T=0,j=Math.min(y.length,x.length),N=j,I=0;T<N;)y.substring(I,N)==x.substring(I,N)?(T=N,I=T):j=N,N=Math.floor((j-T)/2+T);return N}function h(y,x){if(!y||!x||y.charAt(y.length-1)!=x.charAt(x.length-1))return 0;for(var T=0,j=Math.min(y.length,x.length),N=j,I=0;T<N;)y.substring(y.length-N,y.length-I)==x.substring(x.length-N,x.length-I)?(T=N,I=T):j=N,N=Math.floor((j-T)/2+T);return N}function d(y,x){var T=y.length>x.length?y:x,j=y.length>x.length?x:y;if(T.length<4||j.length*2<T.length)return null;function N(F,Y,q){for(var E=F.substring(q,q+Math.floor(F.length/4)),C=-1,M="",O,z,U,L;(C=Y.indexOf(E,C+1))!=-1;){var $=f(F.substring(q),Y.substring(C)),H=h(F.substring(0,q),Y.substring(0,C));M.length<H+$&&(M=Y.substring(C-H,C)+Y.substring(C,C+$),O=F.substring(0,q-H),z=F.substring(q+$),U=Y.substring(0,C-H),L=Y.substring(C+$))}return M.length*2>=F.length?[O,z,U,L,M]:null}var I=N(T,j,Math.ceil(T.length/4)),A=N(T,j,Math.ceil(T.length/2)),k;if(!I&&!A)return null;A?I?k=I[4].length>A[4].length?I:A:k=A:k=I;var S,P,R,D;y.length>x.length?(S=k[0],P=k[1],R=k[2],D=k[3]):(R=k[0],D=k[1],S=k[2],P=k[3]);var B=k[4];return[S,P,R,D,B]}function v(y){y.push([s,""]);for(var x=0,T=0,j=0,N="",I="",A;x<y.length;)switch(y[x][0]){case a:j++,I+=y[x][1],x++;break;case i:T++,N+=y[x][1],x++;break;case s:T+j>1?(T!==0&&j!==0&&(A=f(I,N),A!==0&&(x-T-j>0&&y[x-T-j-1][0]==s?y[x-T-j-1][1]+=I.substring(0,A):(y.splice(0,0,[s,I.substring(0,A)]),x++),I=I.substring(A),N=N.substring(A)),A=h(I,N),A!==0&&(y[x][1]=I.substring(I.length-A)+y[x][1],I=I.substring(0,I.length-A),N=N.substring(0,N.length-A))),T===0?y.splice(x-j,T+j,[a,I]):j===0?y.splice(x-T,T+j,[i,N]):y.splice(x-T-j,T+j,[i,N],[a,I]),x=x-T-j+(T?1:0)+(j?1:0)+1):x!==0&&y[x-1][0]==s?(y[x-1][1]+=y[x][1],y.splice(x,1)):x++,j=0,T=0,N="",I="";break}y[y.length-1][1]===""&&y.pop();var k=!1;for(x=1;x<y.length-1;)y[x-1][0]==s&&y[x+1][0]==s&&(y[x][1].substring(y[x][1].length-y[x-1][1].length)==y[x-1][1]?(y[x][1]=y[x-1][1]+y[x][1].substring(0,y[x][1].length-y[x-1][1].length),y[x+1][1]=y[x-1][1]+y[x+1][1],y.splice(x-1,1),k=!0):y[x][1].substring(0,y[x+1][1].length)==y[x+1][1]&&(y[x-1][1]+=y[x+1][1],y[x][1]=y[x][1].substring(y[x+1][1].length)+y[x+1][1],y.splice(x+1,1),k=!0)),x++;k&&v(y)}var m=o;m.INSERT=a,m.DELETE=i,m.EQUAL=s,n.exports=m;function b(y,x){if(x===0)return[s,y];for(var T=0,j=0;j<y.length;j++){var N=y[j];if(N[0]===i||N[0]===s){var I=T+N[1].length;if(x===I)return[j+1,y];if(x<I){y=y.slice();var A=x-T,k=[N[0],N[1].slice(0,A)],S=[N[0],N[1].slice(A)];return y.splice(j,1,k,S),[j+1,y]}else T=I}}throw new Error("cursor_pos is out of bounds!")}function p(y,x){var T=b(y,x),j=T[1],N=T[0],I=j[N],A=j[N+1];if(I==null)return y;if(I[0]!==s)return y;if(A!=null&&I[1]+A[1]===A[1]+I[1])return j.splice(N,2,A,I),_(j,N,2);if(A!=null&&A[1].indexOf(I[1])===0){j.splice(N,2,[A[0],I[1]],[0,I[1]]);var k=A[1].slice(I[1].length);return k.length>0&&j.splice(N+2,0,[A[0],k]),_(j,N,3)}else return y}function g(y){for(var x=!1,T=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},j=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},N=2;N<y.length;N+=1)y[N-2][0]===s&&j(y[N-2][1])&&y[N-1][0]===i&&T(y[N-1][1])&&y[N][0]===a&&T(y[N][1])&&(x=!0,y[N-1][1]=y[N-2][1].slice(-1)+y[N-1][1],y[N][1]=y[N-2][1].slice(-1)+y[N][1],y[N-2][1]=y[N-2][1].slice(0,-1));if(!x)return y;for(var I=[],N=0;N<y.length;N+=1)y[N][1].length>0&&I.push(y[N]);return I}function _(y,x,T){for(var j=x+T-1;j>=0&&j>=x-1;j--)if(j+1<y.length){var N=y[j],I=y[j+1];N[0]===I[1]&&y.splice(j,2,[N[0],N[1]+I[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(a){var s=[];for(var o in a)s.push(o);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?a:s,r.supported=a;function a(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)i.call(f,h)&&u.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u,f){var h=a?a+u:u,d=this._events[h];if(f)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var v=0,m=d.length,b=new Array(m);v<m;v++)b[v]=d[v].fn;return b},l.prototype.emit=function(u,f,h,d,v,m){var b=a?a+u:u;if(!this._events[b])return!1;var p=this._events[b],g=arguments.length,_,y;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,h),!0;case 4:return p.fn.call(p.context,f,h,d),!0;case 5:return p.fn.call(p.context,f,h,d,v),!0;case 6:return p.fn.call(p.context,f,h,d,v,m),!0}for(y=1,_=new Array(g-1);y<g;y++)_[y-1]=arguments[y];p.fn.apply(p.context,_)}else{var x=p.length,T;for(y=0;y<x;y++)switch(p[y].once&&this.removeListener(u,p[y].fn,void 0,!0),g){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,f);break;case 3:p[y].fn.call(p[y].context,f,h);break;case 4:p[y].fn.call(p[y].context,f,h,d);break;default:if(!_)for(T=1,_=new Array(g-1);T<g;T++)_[T-1]=arguments[T];p[y].fn.apply(p[y].context,_)}}return!0},l.prototype.on=function(u,f,h){var d=new o(f,h||this),v=a?a+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],d]:this._events[v].push(d):(this._events[v]=d,this._eventsCount++),this},l.prototype.once=function(u,f,h){var d=new o(f,h||this,!0),v=a?a+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],d]:this._events[v].push(d):(this._events[v]=d,this._eventsCount++),this},l.prototype.removeListener=function(u,f,h,d){var v=a?a+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[v],this;var m=this._events[v];if(m.fn)m.fn===f&&(!d||m.once)&&(!h||m.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[v]);else{for(var b=0,p=[],g=m.length;b<g;b++)(m[b].fn!==f||d&&!m[b].once||h&&m[b].context!==h)&&p.push(m[b]);p.length?this._events[v]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[v]}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=a?a+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(K,te){var ie=[],J=!0,ye=!1,ve=void 0;try{for(var xe=K[Symbol.iterator](),W;!(J=(W=xe.next()).done)&&(ie.push(W.value),!(te&&ie.length===te));J=!0);}catch(ee){ye=!0,ve=ee}finally{try{!J&&xe.return&&xe.return()}finally{if(ye)throw ve}}return ie}return function(K,te){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return Z(K,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function Z(K,te){for(var ie=0;ie<te.length;ie++){var J=te[ie];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(K,J.key,J)}}return function(K,te,ie){return te&&Z(K.prototype,te),ie&&Z(K,ie),K}}(),l=i(3),c=S(l),u=i(2),f=S(u),h=i(0),d=S(h),v=i(5),m=S(v),b=i(10),p=S(b),g=i(9),_=S(g),y=i(36),x=i(37),T=i(13),j=S(T),N=i(26),I=i(38),A=i(39),k=i(40);function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function P(Z,K,te){return K in Z?Object.defineProperty(Z,K,{value:te,enumerable:!0,configurable:!0,writable:!0}):Z[K]=te,Z}function R(Z,K){if(!(Z instanceof K))throw new TypeError("Cannot call a class as a function")}function D(Z,K){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:Z}function B(Z,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);Z.prototype=Object.create(K&&K.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,K):Z.__proto__=K)}var F=(0,p.default)("quill:clipboard"),Y="__ql-matcher",q=[[Node.TEXT_NODE,$e],[Node.TEXT_NODE,we],["br",re],[Node.ELEMENT_NODE,we],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,He],["li",pe],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",de]],E=[y.AlignAttribute,I.DirectionAttribute].reduce(function(Z,K){return Z[K.keyName]=K,Z},{}),C=[y.AlignStyle,x.BackgroundStyle,N.ColorStyle,I.DirectionStyle,A.FontStyle,k.SizeStyle].reduce(function(Z,K){return Z[K.keyName]=K,Z},{}),M=function(Z){B(K,Z);function K(te,ie){R(this,K);var J=D(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ie));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],q.concat(J.options.matchers).forEach(function(ye){var ve=s(ye,2),xe=ve[0],W=ve[1];!ie.matchVisual&&W===Se||J.addMatcher(xe,W)}),J}return o(K,[{key:"addMatcher",value:function(ie,J){this.matchers.push([ie,J])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[j.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ye,P({},j.default.blotName,J[j.default.blotName]))}var ve=this.prepareMatching(),xe=s(ve,2),W=xe[0],ee=xe[1],se=$(this.container,W,ee);return U(se,`
`)&&se.ops[se.ops.length-1].attributes==null&&(se=se.compose(new f.default().retain(se.length()-1).delete(1))),F.log("convert",this.container.innerHTML,se),this.container.innerHTML="",se}},{key:"dangerouslyPasteHTML",value:function(ie,J){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),J),this.quill.setSelection(0,m.default.sources.SILENT);else{var ve=this.convert(J);this.quill.updateContents(new f.default().retain(ie).concat(ve),ye),this.quill.setSelection(ie+ve.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var J=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),ve=new f.default().retain(ye.index),xe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ve=ve.concat(J.convert()).delete(ye.length),J.quill.updateContents(ve,m.default.sources.USER),J.quill.setSelection(ve.length()-ye.length,m.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=xe,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,J=[],ye=[];return this.matchers.forEach(function(ve){var xe=s(ve,2),W=xe[0],ee=xe[1];switch(W){case Node.TEXT_NODE:ye.push(ee);break;case Node.ELEMENT_NODE:J.push(ee);break;default:[].forEach.call(ie.container.querySelectorAll(W),function(se){se[Y]=se[Y]||[],se[Y].push(ee)});break}}),[J,ye]}}]),K}(_.default);M.DEFAULTS={matchers:[],matchVisual:!0};function O(Z,K,te){return(typeof K>"u"?"undefined":a(K))==="object"?Object.keys(K).reduce(function(ie,J){return O(ie,J,K[J])},Z):Z.reduce(function(ie,J){return J.attributes&&J.attributes[K]?ie.push(J):ie.insert(J.insert,(0,c.default)({},P({},K,te),J.attributes))},new f.default)}function z(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var K="__ql-computed-style";return Z[K]||(Z[K]=window.getComputedStyle(Z))}function U(Z,K){for(var te="",ie=Z.ops.length-1;ie>=0&&te.length<K.length;--ie){var J=Z.ops[ie];if(typeof J.insert!="string")break;te=J.insert+te}return te.slice(-1*K.length)===K}function L(Z){if(Z.childNodes.length===0)return!1;var K=z(Z);return["block","list-item"].indexOf(K.display)>-1}function $(Z,K,te){return Z.nodeType===Z.TEXT_NODE?te.reduce(function(ie,J){return J(Z,ie)},new f.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(ie,J){var ye=$(J,K,te);return J.nodeType===Z.ELEMENT_NODE&&(ye=K.reduce(function(ve,xe){return xe(J,ve)},ye),ye=(J[Y]||[]).reduce(function(ve,xe){return xe(J,ve)},ye)),ie.concat(ye)},new f.default):new f.default}function H(Z,K,te){return O(te,Z,!0)}function V(Z,K){var te=d.default.Attributor.Attribute.keys(Z),ie=d.default.Attributor.Class.keys(Z),J=d.default.Attributor.Style.keys(Z),ye={};return te.concat(ie).concat(J).forEach(function(ve){var xe=d.default.query(ve,d.default.Scope.ATTRIBUTE);xe!=null&&(ye[xe.attrName]=xe.value(Z),ye[xe.attrName])||(xe=E[ve],xe!=null&&(xe.attrName===ve||xe.keyName===ve)&&(ye[xe.attrName]=xe.value(Z)||void 0),xe=C[ve],xe!=null&&(xe.attrName===ve||xe.keyName===ve)&&(xe=C[ve],ye[xe.attrName]=xe.value(Z)||void 0))}),Object.keys(ye).length>0&&(K=O(K,ye)),K}function G(Z,K){var te=d.default.query(Z);if(te==null)return K;if(te.prototype instanceof d.default.Embed){var ie={},J=te.value(Z);J!=null&&(ie[te.blotName]=J,K=new f.default().insert(ie,te.formats(Z)))}else typeof te.formats=="function"&&(K=O(K,te.blotName,te.formats(Z)));return K}function re(Z,K){return U(K,`
`)||K.insert(`
`),K}function de(){return new f.default}function pe(Z,K){var te=d.default.query(Z);if(te==null||te.blotName!=="list-item"||!U(K,`
`))return K;for(var ie=-1,J=Z.parentNode;!J.classList.contains("ql-clipboard");)(d.default.query(J)||{}).blotName==="list"&&(ie+=1),J=J.parentNode;return ie<=0?K:K.compose(new f.default().retain(K.length()-1).retain(1,{indent:ie}))}function we(Z,K){return U(K,`
`)||(L(Z)||K.length()>0&&Z.nextSibling&&L(Z.nextSibling))&&K.insert(`
`),K}function Se(Z,K){if(L(Z)&&Z.nextElementSibling!=null&&!U(K,`

`)){var te=Z.offsetHeight+parseFloat(z(Z).marginTop)+parseFloat(z(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+te*1.5&&K.insert(`
`)}return K}function He(Z,K){var te={},ie=Z.style||{};return ie.fontStyle&&z(Z).fontStyle==="italic"&&(te.italic=!0),ie.fontWeight&&(z(Z).fontWeight.startsWith("bold")||parseInt(z(Z).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(K=O(K,te)),parseFloat(ie.textIndent||0)>0&&(K=new f.default().insert("	").concat(K)),K}function $e(Z,K){var te=Z.data;if(Z.parentNode.tagName==="O:P")return K.insert(te.trim());if(te.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return K;if(!z(Z.parentNode).whiteSpace.startsWith("pre")){var ie=function(ye,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&ye?" ":ve};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,ie.bind(ie,!0)),(Z.previousSibling==null&&L(Z.parentNode)||Z.previousSibling!=null&&L(Z.previousSibling))&&(te=te.replace(/^\s+/,ie.bind(ie,!1))),(Z.nextSibling==null&&L(Z.parentNode)||Z.nextSibling!=null&&L(Z.nextSibling))&&(te=te.replace(/\s+$/,ie.bind(ie,!1)))}return K.insert(te)}r.default=M,r.matchAttributor=V,r.matchBlot=G,r.matchNewline=we,r.matchSpacing=Se,r.matchText=$e},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(m,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,b,p){return b&&v(m.prototype,b),p&&v(m,p),m}}(),s=function v(m,b,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,b);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,b,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"optimize",value:function(p){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function k(S,P){var R=[],D=!0,B=!1,F=void 0;try{for(var Y=S[Symbol.iterator](),q;!(D=(q=Y.next()).done)&&(R.push(q.value),!(P&&R.length===P));D=!0);}catch(E){B=!0,F=E}finally{try{!D&&Y.return&&Y.return()}finally{if(B)throw F}}return R}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return k(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(S,P){for(var R=0;R<P.length;R++){var D=P[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,P,R){return P&&k(S.prototype,P),R&&k(S,R),S}}(),o=i(2),l=p(o),c=i(0),u=p(c),f=i(5),h=p(f),d=i(10),v=p(d),m=i(9),b=p(m);function p(k){return k&&k.__esModule?k:{default:k}}function g(k,S,P){return S in k?Object.defineProperty(k,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[S]=P,k}function _(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function y(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function x(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var T=(0,v.default)("quill:toolbar"),j=function(k){x(S,k);function S(P,R){_(this,S);var D=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,R));if(Array.isArray(D.options.container)){var B=document.createElement("div");I(B,D.options.container),P.container.parentNode.insertBefore(B,P.container),D.container=B}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var F;return F=T.error("Container required for toolbar",D.options),y(D,F)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(Y){D.addHandler(Y,D.options.handlers[Y])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(Y){D.attach(Y)}),D.quill.on(h.default.events.EDITOR_CHANGE,function(Y,q){Y===h.default.events.SELECTION_CHANGE&&D.update(q)}),D.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var Y=D.quill.selection.getRange(),q=a(Y,1),E=q[0];D.update(E)}),D}return s(S,[{key:"addHandler",value:function(R,D){this.handlers[R]=D}},{key:"attach",value:function(R){var D=this,B=[].find.call(R.classList,function(Y){return Y.indexOf("ql-")===0});if(B){if(B=B.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){T.warn("ignoring attaching to disabled format",B,R);return}if(u.default.query(B)==null){T.warn("ignoring attaching to nonexistent format",B,R);return}}var F=R.tagName==="SELECT"?"change":"click";R.addEventListener(F,function(Y){var q=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var E=R.options[R.selectedIndex];E.hasAttribute("selected")?q=!1:q=E.value||!1}else R.classList.contains("ql-active")?q=!1:q=R.value||!R.hasAttribute("value"),Y.preventDefault();D.quill.focus();var C=D.quill.selection.getRange(),M=a(C,1),O=M[0];if(D.handlers[B]!=null)D.handlers[B].call(D,q);else if(u.default.query(B).prototype instanceof u.default.Embed){if(q=prompt("Enter "+B),!q)return;D.quill.updateContents(new l.default().retain(O.index).delete(O.length).insert(g({},B,q)),h.default.sources.USER)}else D.quill.format(B,q,h.default.sources.USER);D.update(O)}),this.controls.push([B,R])}}},{key:"update",value:function(R){var D=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(B){var F=a(B,2),Y=F[0],q=F[1];if(q.tagName==="SELECT"){var E=void 0;if(R==null)E=null;else if(D[Y]==null)E=q.querySelector("option[selected]");else if(!Array.isArray(D[Y])){var C=D[Y];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),E=q.querySelector('option[value="'+C+'"]')}E==null?(q.value="",q.selectedIndex=-1):E.selected=!0}else if(R==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var M=D[Y]===q.getAttribute("value")||D[Y]!=null&&D[Y].toString()===q.getAttribute("value")||D[Y]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",M)}else q.classList.toggle("ql-active",D[Y]!=null)})}}]),S}(b.default);j.DEFAULTS={};function N(k,S,P){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+S),P!=null&&(R.value=P),k.appendChild(R)}function I(k,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(P){var R=document.createElement("span");R.classList.add("ql-formats"),P.forEach(function(D){if(typeof D=="string")N(R,D);else{var B=Object.keys(D)[0],F=D[B];Array.isArray(F)?A(R,B,F):N(R,B,F)}}),k.appendChild(R)})}function A(k,S,P){var R=document.createElement("select");R.classList.add("ql-"+S),P.forEach(function(D){var B=document.createElement("option");D!==!1?B.setAttribute("value",D):B.setAttribute("selected","selected"),R.appendChild(B)}),k.appendChild(R)}j.DEFAULTS={container:null,handlers:{clean:function(){var S=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(D){u.default.query(D,u.default.Scope.INLINE)!=null&&S.quill.format(D,!1)})}else this.quill.removeFormat(P,h.default.sources.USER)},direction:function(S){var P=this.quill.getFormat().align;S==="rtl"&&P==null?this.quill.format("align","right",h.default.sources.USER):!S&&P==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",S,h.default.sources.USER)},indent:function(S){var P=this.quill.getSelection(),R=this.quill.getFormat(P),D=parseInt(R.indent||0);if(S==="+1"||S==="-1"){var B=S==="+1"?1:-1;R.direction==="rtl"&&(B*=-1),this.quill.format("indent",D+B,h.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,h.default.sources.USER)},list:function(S){var P=this.quill.getSelection(),R=this.quill.getFormat(P);S==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",S,h.default.sources.USER)}}},r.default=j,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(m,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,b,p){return b&&v(m.prototype,b),p&&v(m,p),m}}(),s=function v(m,b,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,b);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,b,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(b,p){u(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),g}return a(m,[{key:"buildItem",value:function(p){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,g);var _=this.label.querySelector(".ql-color-label"),y=p&&p.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=y:_.style.fill=y)}}]),m}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(m,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,b,p){return b&&v(m.prototype,b),p&&v(m,p),m}}(),s=function v(m,b,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,b);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,b,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},o=i(28),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(b,p){u(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=p[_.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return a(m,[{key:"selectItem",value:function(p,g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),m}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function l(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}return function(c,u,f){return u&&l(c.prototype,u),f&&l(c,f),c}}();function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(c,u){var f=this;s(this,l),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),m=0;if(v.right>d.right&&(m=d.right-v.right,this.root.style.left=f+m+"px"),v.left<d.left&&(m=d.left-v.left,this.root.style.left=f+m+"px"),v.bottom>d.bottom){var b=v.bottom-v.top,p=u.bottom-u.top+b;this.root.style.top=h-p+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function A(k,S){var P=[],R=!0,D=!1,B=void 0;try{for(var F=k[Symbol.iterator](),Y;!(R=(Y=F.next()).done)&&(P.push(Y.value),!(S&&P.length===S));R=!0);}catch(q){D=!0,B=q}finally{try{!R&&F.return&&F.return()}finally{if(D)throw B}}return P}return function(k,S){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return A(k,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function A(k,S,P){k===null&&(k=Function.prototype);var R=Object.getOwnPropertyDescriptor(k,S);if(R===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:A(D,S,P)}else{if("value"in R)return R.value;var B=R.get;return B===void 0?void 0:B.call(P)}},o=function(){function A(k,S){for(var P=0;P<S.length;P++){var R=S[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,S,P){return S&&A(k.prototype,S),P&&A(k,P),k}}(),l=i(3),c=_(l),u=i(8),f=_(u),h=i(43),d=_(h),v=i(27),m=_(v),b=i(15),p=i(41),g=_(p);function _(A){return A&&A.__esModule?A:{default:A}}function y(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")}function x(A,k){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:A}function T(A,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);A.prototype=Object.create(k&&k.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(A,k):A.__proto__=k)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(A){T(k,A);function k(S,P){y(this,k),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=j);var R=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,S,P));return R.quill.container.classList.add("ql-snow"),R}return o(k,[{key:"extendToolbar",value:function(P){P.container.classList.add("ql-snow"),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),g.default),this.tooltip=new I(this.quill,this.options.bounds),P.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,D){P.handlers.link.call(P,!D.format.link)})}}]),k}(d.default);N.DEFAULTS=(0,c.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var S=this.quill.getSelection();if(S==null||S.length==0)return;var P=this.quill.getText(S);/^\S+@\S+\.\S+$/.test(P)&&P.indexOf("mailto:")!==0&&(P="mailto:"+P);var R=this.quill.theme.tooltip;R.edit("link",P)}else this.quill.format("link",!1)}}}}});var I=function(A){T(k,A);function k(S,P){y(this,k);var R=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,S,P));return R.preview=R.root.querySelector("a.ql-preview"),R}return o(k,[{key:"listen",value:function(){var P=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){P.root.classList.contains("ql-editing")?P.save():P.edit("link",P.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(P.linkRange!=null){var D=P.linkRange;P.restoreFocus(),P.quill.formatText(D,"link",!1,f.default.sources.USER),delete P.linkRange}R.preventDefault(),P.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(R,D,B){if(R!=null){if(R.length===0&&B===f.default.sources.USER){var F=P.quill.scroll.descendant(m.default,R.index),Y=a(F,2),q=Y[0],E=Y[1];if(q!=null){P.linkRange=new b.Range(R.index-E,q.length());var C=m.default.formats(q.domNode);P.preview.textContent=C,P.preview.setAttribute("href",C),P.show(),P.position(P.quill.getBounds(P.linkRange));return}}else delete P.linkRange;P.hide()}})}},{key:"show",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(h.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(29),s=J(a),o=i(36),l=i(38),c=i(64),u=i(65),f=J(u),h=i(66),d=J(h),v=i(67),m=J(v),b=i(37),p=i(26),g=i(39),_=i(40),y=i(56),x=J(y),T=i(68),j=J(T),N=i(27),I=J(N),A=i(69),k=J(A),S=i(70),P=J(S),R=i(71),D=J(R),B=i(72),F=J(B),Y=i(73),q=J(Y),E=i(13),C=J(E),M=i(74),O=J(M),z=i(75),U=J(z),L=i(57),$=J(L),H=i(41),V=J(H),G=i(28),re=J(G),de=i(59),pe=J(de),we=i(60),Se=J(we),He=i(61),$e=J(He),Z=i(108),K=J(Z),te=i(62),ie=J(te);function J(ye){return ye&&ye.__esModule?ye:{default:ye}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":C.default,"formats/header":d.default,"formats/list":m.default,"formats/bold":x.default,"formats/code":E.Code,"formats/italic":j.default,"formats/link":I.default,"formats/script":k.default,"formats/strike":P.default,"formats/underline":D.default,"formats/image":F.default,"formats/video":q.default,"formats/list/item":v.ListItem,"modules/formula":O.default,"modules/syntax":U.default,"modules/toolbar":$.default,"themes/bubble":K.default,"themes/snow":ie.default,"ui/icons":V.default,"ui/picker":re.default,"ui/icon-picker":Se.default,"ui/color-picker":pe.default,"ui/tooltip":$e.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function m(b,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,p,g){return p&&m(b.prototype,p),g&&m(b,g),b}}(),s=function m(b,p,g){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,p);if(_===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:m(y,p,g)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(g)}},o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function f(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function h(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var d=function(m){h(b,m);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"add",value:function(g,_){if(_==="+1"||_==="-1"){var y=this.value(g)||0;_=_==="+1"?y+1:y-1}return _===0?(this.remove(g),!0):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,g,_)}},{key:"canAdd",value:function(g,_){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,g,_)||s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,g,parseInt(_))}},{key:"value",value:function(g){return parseInt(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,g))||void 0}}]),b}(l.default.Attributor.Class),v=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function u(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){u(d,h);function d(){return l(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function d(v,m){for(var b=0;b<m.length;b++){var p=m[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,m,b){return m&&d(v.prototype,m),b&&d(v,b),v}}(),s=i(4),o=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function c(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function u(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function f(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var h=function(d){f(v,d);function v(){return c(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),v}(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function y(x,T){for(var j=0;j<T.length;j++){var N=T[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,T,j){return T&&y(x.prototype,T),j&&y(x,j),x}}(),s=function y(x,T,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,T);if(N===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:y(I,T,j)}else{if("value"in N)return N.value;var A=N.get;return A===void 0?void 0:A.call(j)}},o=i(0),l=d(o),c=i(4),u=d(c),f=i(25),h=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function v(y,x,T){return x in y?Object.defineProperty(y,x,{value:T,enumerable:!0,configurable:!0,writable:!0}):y[x]=T,y}function m(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function b(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function p(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g=function(y){p(x,y);function x(){return m(this,x),b(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(j,N){j===_.blotName&&!N?this.replaceWith(l.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,j,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,N){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,N),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,j,N))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,j)}}]),x}(u.default);g.blotName="list-item",g.tagName="LI";var _=function(y){p(x,y),a(x,null,[{key:"create",value:function(j){var N=j==="ordered"?"OL":"UL",I=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,N);return(j==="checked"||j==="unchecked")&&I.setAttribute("data-checked",j==="checked"),I}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(T){m(this,x);var j=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,T)),N=function(A){if(A.target.parentNode===T){var k=j.statics.formats(T),S=l.default.find(A.target);k==="checked"?S.format("list","unchecked"):k==="unchecked"&&S.format("list","checked")}};return T.addEventListener("touchstart",N),T.addEventListener("mousedown",N),j}return a(x,[{key:"format",value:function(j,N){this.children.length>0&&this.children.tail.format(j,N)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,N){if(j instanceof g)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,j,N);else{var I=N==null?this.length():N.offset(this),A=this.split(I);A.parent.insertBefore(j,A)}}},{key:"optimize",value:function(j){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,j);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var N=l.default.create(this.statics.defaultChild);j.moveChildren(N),this.appendChild(N)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,j)}}]),x}(h.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[g],r.ListItem=g,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(56),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function u(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){u(d,h);function d(){return l(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function v(m,b){for(var p=0;p<b.length;p++){var g=b[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,b,p){return b&&v(m.prototype,b),p&&v(m,p),m}}(),s=function v(m,b,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,b);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,b,p)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(p)}},o=i(6),l=c(o);function c(v){return v&&v.__esModule?v:{default:v}}function u(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var d=function(v){h(m,v);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),m}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function u(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){u(d,h);function d(){return l(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),s=o(a);function o(h){return h&&h.__esModule?h:{default:h}}function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function c(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function u(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var f=function(h){u(d,h);function d(){return l(this,d),c(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&b(p.prototype,g),_&&b(p,_),p}}(),s=function b(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:b(x,g,_)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(_)}},o=i(0),l=u(o),c=i(27);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function h(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function d(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["alt","height","width"],m=function(b){d(p,b);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"format",value:function(_,y){v.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return typeof _=="string"&&y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return v.reduce(function(y,x){return _.hasAttribute(x)&&(y[x]=_.getAttribute(x)),y},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,c.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(p,g){for(var _=0;_<g.length;_++){var y=g[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,_){return g&&b(p.prototype,g),_&&b(p,_),p}}(),s=function b(p,g,_){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:b(x,g,_)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(_)}},o=i(4),l=i(27),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function h(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function d(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["height","width"],m=function(b){d(p,b);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"format",value:function(_,y){v.indexOf(_)>-1?y?this.domNode.setAttribute(_,y):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,y)}}],[{key:"create",value:function(_){var y=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(_)),y}},{key:"formats",value:function(_){return v.reduce(function(y,x){return _.hasAttribute(x)&&(y[x]=_.getAttribute(x)),y},{})}},{key:"sanitize",value:function(_){return c.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(o.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function _(y,x){for(var T=0;T<x.length;T++){var j=x[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,T){return x&&_(y.prototype,x),T&&_(y,T),y}}(),s=function _(y,x,T){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:_(N,x,T)}else{if("value"in j)return j.value;var I=j.get;return I===void 0?void 0:I.call(T)}},o=i(35),l=d(o),c=i(5),u=d(c),f=i(9),h=d(f);function d(_){return _&&_.__esModule?_:{default:_}}function v(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function m(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function b(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){b(y,_);function y(){return v(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"create",value:function(T){var j=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",T)),j}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),y}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(_){b(y,_),a(y,null,[{key:"register",value:function(){u.default.register(p,!0)}}]);function y(){v(this,y);var x=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return y}(h.default);r.FormulaBlot=p,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function T(j,N){for(var I=0;I<N.length;I++){var A=N[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,N,I){return N&&T(j.prototype,N),I&&T(j,I),j}}(),s=function T(j,N,I){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,N);if(A===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:T(k,N,I)}else{if("value"in A)return A.value;var S=A.get;return S===void 0?void 0:S.call(I)}},o=i(0),l=m(o),c=i(5),u=m(c),f=i(9),h=m(f),d=i(13),v=m(d);function m(T){return T&&T.__esModule?T:{default:T}}function b(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}function p(T,j){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:T}function g(T,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);T.prototype=Object.create(j&&j.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(T,j):T.__proto__=j)}var _=function(T){g(j,T);function j(){return b(this,j),p(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),j}(v.default);_.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),x=function(T){g(j,T),a(j,null,[{key:"register",value:function(){u.default.register(y,!0),u.default.register(_,!0)}}]);function j(N,I){b(this,j);var A=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,N,I));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return A.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){A.highlight(),k=null},A.options.interval)}),A.highlight(),A}return a(j,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),A!=null&&this.quill.setSelection(A,u.default.sources.SILENT)}}}]),j}(h.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var j=window.hljs.highlightAuto(T);return j.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=y,r.default=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function j(N,I,A){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,I);if(k===void 0){var S=Object.getPrototypeOf(N);return S===null?void 0:j(S,I,A)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(A)}},s=function(){function j(N,I){for(var A=0;A<I.length;A++){var k=I[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,I,A){return I&&j(N.prototype,I),A&&j(N,A),N}}(),o=i(3),l=b(o),c=i(8),u=b(c),f=i(43),h=b(f),d=i(15),v=i(41),m=b(v);function b(j){return j&&j.__esModule?j:{default:j}}function p(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function g(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function _(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(j){_(N,j);function N(I,A){p(this,N),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=y);var k=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,A));return k.quill.container.classList.add("ql-bubble"),k}return s(N,[{key:"extendToolbar",value:function(A){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),m.default)}}]),N}(h.default);x.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(j){_(N,j);function N(I,A){p(this,N);var k=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,I,A));return k.quill.on(u.default.events.EDITOR_CHANGE,function(S,P,R,D){if(S===u.default.events.SELECTION_CHANGE)if(P!=null&&P.length>0&&D===u.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var B=k.quill.getLines(P.index,P.length);if(B.length===1)k.position(k.quill.getBounds(P));else{var F=B[B.length-1],Y=k.quill.getIndex(F),q=Math.min(F.length()-1,P.index+P.length-Y),E=k.quill.getBounds(new d.Range(Y,q));k.position(E)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return s(N,[{key:"listen",value:function(){var A=this;a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var k=A.quill.getSelection();k!=null&&A.position(A.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var k=a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,A),S=this.root.querySelector(".ql-tooltip-arrow");if(S.style.marginLeft="",k===0)return k;S.style.marginLeft=-1*k-S.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=T,r.default=x},function(n,r,i){n.exports=i(63)}]).default})})($l);var C_=$l.exports,I_=Ne&&Ne.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=Ne&&Ne.__assign||function(){return zr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zr.apply(this,arguments)},R_=Ne&&Ne.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r},fi=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},dt=fi(je),L_=fi(So),qn=fi(P_),Cs=fi(C_),D_=function(t){I_(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(a,s,o,l){var c,u,f,h;a==="text-change"?(u=(c=r).onEditorChangeText)===null||u===void 0||u.call(c,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):a==="selection-change"&&((h=(f=r).onEditorChangeSelection)===null||h===void 0||h.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(dt.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(dt.default.Children.count(n.children)){var i=dt.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),o=(a=n.value,a??"");this.isEqualValue(o,s)||this.setEditorContents(this.editor,o)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),R_(this.cleanProps,this.dirtyProps).some(function(l){return!qn.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!qn.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var o=this.regenerationSnapshot,a=o.delta,l=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(a),Is(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new Cs.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?qn.default(n.ops,r.ops):qn.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var a=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Is(function(){return i.setEditorSelection(n,a)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,a;!((a=(i=n)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=L_.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,a=r.preserveWhitespace,s=this.state.generation,o={key:s,ref:function(l){n.editingArea=l}};return dt.default.Children.count(i)?dt.default.cloneElement(dt.default.Children.only(i),o):a?dt.default.createElement("pre",zr({},o)):dt.default.createElement("div",zr({},o))},e.prototype.render=function(){var n;return dt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,a){var s,o;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(o=(s=this.props).onChange)===null||o===void 0||o.call(s,n,r,i,a))}},e.prototype.onEditorChangeSelection=function(n,r,i){var a,s,o,l,c,u;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,d=f&&!n;qn.default(n,f)||(this.selection=n,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,n,r,i),h?(l=(o=this.props).onFocus)===null||l===void 0||l.call(o,n,r,i):d&&((u=(c=this.props).onBlur)===null||u===void 0||u.call(c,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Cs.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(dt.default.Component);function Is(t){Promise.resolve().then(t)}var M_=D_;const $_=To(M_),q_={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},B_=["header","bold","italic","underline","strike","blockquote","list","bullet","link","image"];function ql({value:t,onChange:e}){return w.jsx("div",{className:"bg-white",children:w.jsx($_,{theme:"snow",value:t,onChange:e,modules:q_,formats:B_,className:"h-64"})})}const F_=le.object({title:le.string().min(5,"El ttulo debe tener al menos 5 caracteres"),content:le.string().min(20,"El contenido debe tener al menos 20 caracteres"),category:le.string().min(1,"Selecciona una categora")});function U_({onPostCreated:t}){var c;const{user:e}=Ft(),{register:n,handleSubmit:r,reset:i,setValue:a,formState:{errors:s,isSubmitting:o}}=Tt({resolver:Bt(F_)}),l=async u=>{if(e)try{const{error:f}=await Le.from("blog_posts").insert({title:u.title,content:u.content,category:u.category,author_id:e.id});if(f)throw f;i(),t()}catch(f){console.error("Error creating post:",f)}};return w.jsxs("form",{onSubmit:r(l),className:"space-y-4 bg-white p-6 rounded-lg shadow",children:[w.jsx(De,{label:"Ttulo",error:(c=s.title)==null?void 0:c.message,...n("title")}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contenido"}),w.jsx(ql,{value:"",onChange:u=>a("content",u)}),s.content&&w.jsx("p",{className:"text-red-600 text-sm",children:s.content.message})]}),w.jsxs("select",{...n("category"),className:"w-full rounded-lg border-gray-300",children:[w.jsx("option",{value:"",children:"Selecciona una categora"}),w.jsx("option",{value:"testimonios",children:"Testimonios"}),w.jsx("option",{value:"superacion",children:"Superacin"}),w.jsx("option",{value:"apoyo",children:"Apoyo"}),w.jsx("option",{value:"recursos",children:"Recursos"})]}),s.category&&w.jsx("p",{className:"text-red-600 text-sm",children:s.category.message}),w.jsx(Ue,{type:"submit",isLoading:o,children:"Publicar"})]})}const z_=[{id:"testimonios",label:"Testimonios"},{id:"superacion",label:"Superacin"},{id:"apoyo",label:"Apoyo"},{id:"recursos",label:"Recursos"}];function H_({selectedCategory:t,onSelectCategory:e}){return w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsx("button",{onClick:()=>e(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-purple-600 text-white"}`,children:"Todos"}),z_.map(n=>w.jsx("button",{onClick:()=>e(n.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===n.id?"bg-purple-600 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:n.label},n.id))]})}function V_({onSearch:t}){const[e,n]=Fe.useState(""),r=i=>{i.preventDefault(),t(e)};return w.jsxs("form",{onSubmit:r,className:"relative",children:[w.jsx(De,{value:e,onChange:i=>n(i.target.value),placeholder:"Buscar publicaciones...",className:"pl-10"}),w.jsx(Du,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})}function W_(){return w.jsx("div",{className:"flex justify-center items-center p-8",children:w.jsx(la,{className:"w-8 h-8 text-purple-600 animate-spin"})})}function Z_(){const{user:t}=Ft(),[e,n]=Fe.useState(null),[r,i]=Fe.useState(""),{data:a,loading:s,refetch:o}=gr("blog_posts",{select:`
      *,
      author:profiles(display_name, avatar_url),
      comments:blog_comments(count),
      likes:blog_likes(count)
    `,filter:{...e&&{category:e},...r&&{title:{ilike:`%${r}%`},content:{ilike:`%${r}%`}}},orderBy:{column:"created_at",ascending:!1}});return w.jsx("div",{className:"container mx-auto px-4 py-8",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-8",children:"Blog Comunitario"}),w.jsxs("div",{className:"mb-8 space-y-4",children:[w.jsx(V_,{onSearch:i}),w.jsx(H_,{selectedCategory:e,onSelectCategory:n})]}),t&&w.jsx("div",{className:"mb-8",children:w.jsx(U_,{onPostCreated:o})}),s?w.jsx(W_,{}):w.jsx("div",{className:"space-y-8",children:a==null?void 0:a.map(l=>w.jsx(im,{post:l,onUpdate:o},l.id))})]})})}function K_(){const{data:t,loading:e}=gr("resources"),n=r=>{switch(r){case"pdf":return w.jsx(La,{className:"w-8 h-8"});case"audio":return w.jsx($u,{className:"w-8 h-8"});case"image":return w.jsx(Mu,{className:"w-8 h-8"});default:return w.jsx(La,{className:"w-8 h-8"})}};return w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-8",children:"Recursos"}),e?w.jsx("p",{children:"Cargando recursos..."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(r=>w.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-purple-600",children:n(r.type)}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:r.title}),w.jsx("p",{className:"text-gray-600",children:r.description})]})]})},r.id))})]})}const G_="emma1122",ki="staff_authenticated";function _a(){const[t,e]=je.useState(()=>localStorage.getItem(ki)==="true"),n=Zr();return je.useEffect(()=>{t||n("/staff/login")},[t,n]),{isAuthenticated:t,login:a=>a===G_?(localStorage.setItem(ki,"true"),e(!0),!0):!1,logout:()=>{localStorage.removeItem(ki),e(!1),n("/staff/login")}}}function Y_({onUpload:t,accept:e}){const n=je.useCallback(async r=>{var a;const i=(a=r.target.files)==null?void 0:a[0];if(i)try{const s=i.name.split(".").pop(),o=`${Math.random()}.${s}`,{data:l,error:c}=await Le.storage.from("resources").upload(o,i);if(c)throw c;const{data:{publicUrl:u}}=Le.storage.from("resources").getPublicUrl(l.path);t(u)}catch(s){console.error("Error uploading file:",s),alert("Error al subir el archivo")}},[t]);return w.jsx("input",{type:"file",onChange:n,accept:e,className:`block w-full text-sm text-gray-500
        file:mr-4 file:py-2 file:px-4
        file:rounded-full file:border-0
        file:text-sm file:font-semibold
        file:bg-purple-50 file:text-purple-700
        hover:file:bg-purple-100`})}const Zn=je.forwardRef(({label:t,error:e,options:n,className:r="",...i},a)=>w.jsxs("div",{className:"space-y-1",children:[t&&w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),w.jsxs("select",{ref:a,className:`w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 ${r}`,...i,children:[w.jsx("option",{value:"",children:"Selecciona una opcin"}),n.map(({value:s,label:o})=>w.jsx("option",{value:s,children:o},s))]}),e&&w.jsx("p",{className:"text-red-600 text-sm",children:e})]}));Zn.displayName="Select";const J_=le.object({title:le.string().min(3),type:le.enum(["text","video","audio","image","document"]),content:le.string().optional(),fileUrl:le.string().url().optional(),category:le.string(),status:le.enum(["draft","published"])});function Q_({onSubmit:t,initialData:e}){const{register:n,control:r,handleSubmit:i,setValue:a}=Tt({resolver:Bt(J_),defaultValues:e}),s=o=>{a("fileUrl",o)};return w.jsxs("form",{onSubmit:i(t),className:"space-y-6",children:[w.jsx(De,{label:"Ttulo",...n("title")}),w.jsx(Zn,{label:"Tipo",...n("type"),options:[{value:"text",label:"Texto"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"image",label:"Imagen"},{value:"document",label:"Documento"}]}),w.jsx(Fu,{name:"content",control:r,render:({field:o})=>w.jsx(ql,{value:o.value||"",onChange:o.onChange})}),w.jsx(Y_,{onUpload:s,accept:".pdf,.doc,.docx,.txt,.mp3,.mp4,.jpg,.png"}),w.jsxs(Ue,{type:"submit",children:[e?"Actualizar":"Crear"," Recurso"]})]})}const yr=je.forwardRef(({label:t,error:e,className:n="",...r},i)=>w.jsxs("div",{className:"space-y-1",children:[t&&w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:t}),w.jsx("textarea",{ref:i,className:`w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 ${n}`,...r}),e&&w.jsx("p",{className:"text-red-600 text-sm",children:e})]}));yr.displayName="TextArea";const X_=le.object({title:le.string().min(3),description:le.string().min(10),date:le.string(),time:le.string(),location:le.string(),maxAttendees:le.number().min(1),imageUrl:le.string().url()});function e1({onSubmit:t,initialData:e}){const{register:n,handleSubmit:r}=Tt({resolver:Bt(X_),defaultValues:e});return w.jsxs("form",{onSubmit:r(t),className:"space-y-6",children:[w.jsx(De,{label:"Ttulo",...n("title")}),w.jsx(yr,{label:"Descripcin",...n("description")}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx(De,{label:"Fecha",type:"date",...n("date")}),w.jsx(De,{label:"Hora",type:"time",...n("time")})]}),w.jsx(De,{label:"Ubicacin",...n("location")}),w.jsx(De,{label:"Mximo de asistentes",type:"number",...n("maxAttendees",{valueAsNumber:!0})}),w.jsx(De,{label:"URL de imagen",...n("imageUrl")}),w.jsxs(Ue,{type:"submit",children:[e?"Actualizar":"Crear"," Evento"]})]})}const t1=le.object({name:le.string().min(3,"El nombre debe tener al menos 3 caracteres"),speciality:le.string().min(3,"La especialidad es requerida"),experience_years:le.number().min(0,"Los aos de experiencia son requeridos"),description:le.string().min(10,"La descripcin debe tener al menos 10 caracteres"),email:le.string().email("Email invlido"),profile_image:le.string().url("URL de imagen invlida")});function n1(){var i,a,s,o,l,c;const{register:t,handleSubmit:e,formState:{errors:n}}=Tt({resolver:Bt(t1)}),r=async u=>{try{const{error:f}=await Le.from("staff_professionals").insert(u);if(f)throw f;alert("Psiclogo registrado exitosamente")}catch(f){console.error("Error:",f),alert("Error al registrar el psiclogo")}};return w.jsxs("form",{onSubmit:e(r),className:"space-y-6",children:[w.jsx(De,{label:"Nombre",error:(i=n.name)==null?void 0:i.message,...t("name")}),w.jsx(De,{label:"Especialidad",error:(a=n.speciality)==null?void 0:a.message,...t("speciality")}),w.jsx(De,{label:"Aos de experiencia",type:"number",error:(s=n.experience_years)==null?void 0:s.message,...t("experience_years",{valueAsNumber:!0})}),w.jsx(yr,{label:"Descripcin",error:(o=n.description)==null?void 0:o.message,...t("description")}),w.jsx(De,{label:"Email",type:"email",error:(l=n.email)==null?void 0:l.message,...t("email")}),w.jsx(De,{label:"URL de imagen de perfil",error:(c=n.profile_image)==null?void 0:c.message,...t("profile_image")}),w.jsx(Ue,{type:"submit",children:"Registrar Psiclogo"})]})}function r1(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const i1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,a1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s1={};function Rs(t,e){return(s1.jsx?a1:i1).test(t)}const o1=/[ \t\n\f\r]/g;function l1(t){return typeof t=="object"?t.type==="text"?Ls(t.value):!1:Ls(t)}function Ls(t){return t.replace(o1,"")===""}class vr{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}vr.prototype.property={};vr.prototype.normal={};vr.prototype.space=null;function Bl(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new vr(n,r,e)}function Ji(t){return t.toLowerCase()}class at{constructor(e,n){this.property=e,this.attribute=n}}at.prototype.space=null;at.prototype.boolean=!1;at.prototype.booleanish=!1;at.prototype.overloadedBoolean=!1;at.prototype.number=!1;at.prototype.commaSeparated=!1;at.prototype.spaceSeparated=!1;at.prototype.commaOrSpaceSeparated=!1;at.prototype.mustUseProperty=!1;at.prototype.defined=!1;let u1=0;const me=nn(),Be=nn(),Fl=nn(),X=nn(),Ce=nn(),yn=nn(),et=nn();function nn(){return 2**++u1}const Qi=Object.freeze(Object.defineProperty({__proto__:null,boolean:me,booleanish:Be,commaOrSpaceSeparated:et,commaSeparated:yn,number:X,overloadedBoolean:Fl,spaceSeparated:Ce},Symbol.toStringTag,{value:"Module"})),Ei=Object.keys(Qi);class xa extends at{constructor(e,n,r,i){let a=-1;if(super(e,n),Ds(this,"space",i),typeof r=="number")for(;++a<Ei.length;){const s=Ei[a];Ds(this,Ei[a],(r&Qi[s])===Qi[s])}}}xa.prototype.defined=!0;function Ds(t,e,n){n&&(t[e]=n)}const c1={}.hasOwnProperty;function Cn(t){const e={},n={};let r;for(r in t.properties)if(c1.call(t.properties,r)){const i=t.properties[r],a=new xa(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Ji(r)]=r,n[Ji(a.attribute)]=r}return new vr(e,n,t.space)}const Ul=Cn({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),zl=Cn({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Hl(t,e){return e in t?t[e]:e}function Vl(t,e){return Hl(t,e.toLowerCase())}const Wl=Cn({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Vl,properties:{xmlns:null,xmlnsXLink:null}}),Zl=Cn({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Be,ariaAutoComplete:null,ariaBusy:Be,ariaChecked:Be,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:Ce,ariaCurrent:null,ariaDescribedBy:Ce,ariaDetails:null,ariaDisabled:Be,ariaDropEffect:Ce,ariaErrorMessage:null,ariaExpanded:Be,ariaFlowTo:Ce,ariaGrabbed:Be,ariaHasPopup:null,ariaHidden:Be,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ce,ariaLevel:X,ariaLive:null,ariaModal:Be,ariaMultiLine:Be,ariaMultiSelectable:Be,ariaOrientation:null,ariaOwns:Ce,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:Be,ariaReadOnly:Be,ariaRelevant:null,ariaRequired:Be,ariaRoleDescription:Ce,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:Be,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null}}),f1=Cn({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Vl,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yn,acceptCharset:Ce,accessKey:Ce,action:null,allow:null,allowFullScreen:me,allowPaymentRequest:me,allowUserMedia:me,alt:null,as:null,async:me,autoCapitalize:null,autoComplete:Ce,autoFocus:me,autoPlay:me,blocking:Ce,capture:null,charSet:null,checked:me,cite:null,className:Ce,cols:X,colSpan:null,content:null,contentEditable:Be,controls:me,controlsList:Ce,coords:X|yn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:me,defer:me,dir:null,dirName:null,disabled:me,download:Fl,draggable:Be,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:me,formTarget:null,headers:Ce,height:X,hidden:me,high:X,href:null,hrefLang:null,htmlFor:Ce,httpEquiv:Ce,id:null,imageSizes:null,imageSrcSet:null,inert:me,inputMode:null,integrity:null,is:null,isMap:me,itemId:null,itemProp:Ce,itemRef:Ce,itemScope:me,itemType:Ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:me,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:me,muted:me,name:null,nonce:null,noModule:me,noValidate:me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:me,optimum:X,pattern:null,ping:Ce,placeholder:null,playsInline:me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:me,referrerPolicy:null,rel:Ce,required:me,reversed:me,rows:X,rowSpan:X,sandbox:Ce,scope:null,scoped:me,seamless:me,selected:me,shadowRootClonable:me,shadowRootDelegatesFocus:me,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:Be,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:me,useMap:null,value:Be,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ce,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:me,declare:me,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:me,noHref:me,noShade:me,noWrap:me,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:Be,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:me,disableRemotePlayback:me,prefix:null,property:null,results:X,security:null,unselectable:null}}),d1=Cn({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Hl,properties:{about:et,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:Ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:me,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yn,g2:yn,glyphName:yn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:et,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:et,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:et,rev:et,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:et,requiredFeatures:et,requiredFonts:et,requiredFormats:et,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:et,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:et,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:et,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),h1=/^data[-\w.:]+$/i,Ms=/-[a-z]/g,p1=/[A-Z]/g;function m1(t,e){const n=Ji(e);let r=e,i=at;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&h1.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Ms,y1);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Ms.test(a)){let s=a.replace(p1,g1);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=xa}return new i(r,e)}function g1(t){return"-"+t.toLowerCase()}function y1(t){return t.charAt(1).toUpperCase()}const v1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},b1=Bl([zl,Ul,Wl,Zl,f1],"html"),wa=Bl([zl,Ul,Wl,Zl,d1],"svg");function _1(t){return t.join(" ").trim()}var Kl={},$s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,x1=/\n/g,w1=/^\s*/,k1=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,E1=/^:\s*/,O1=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,S1=/^[;\s]*/,T1=/^\s+|\s+$/g,A1=`
`,qs="/",Bs="*",Gt="",j1="comment",N1="declaration",P1=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var m=v.match(x1);m&&(n+=m.length);var b=v.lastIndexOf(A1);r=~b?v.length-b:r+v.length}function a(){var v={line:n,column:r};return function(m){return m.position=new s(v),c(),m}}function s(v){this.start=v,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(v){var m=new Error(e.source+":"+n+":"+r+": "+v);if(m.reason=v,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function l(v){var m=v.exec(t);if(m){var b=m[0];return i(b),t=t.slice(b.length),m}}function c(){l(w1)}function u(v){var m;for(v=v||[];m=f();)m!==!1&&v.push(m);return v}function f(){var v=a();if(!(qs!=t.charAt(0)||Bs!=t.charAt(1))){for(var m=2;Gt!=t.charAt(m)&&(Bs!=t.charAt(m)||qs!=t.charAt(m+1));)++m;if(m+=2,Gt===t.charAt(m-1))return o("End of comment missing");var b=t.slice(2,m-2);return r+=2,i(b),t=t.slice(m),r+=2,v({type:j1,comment:b})}}function h(){var v=a(),m=l(k1);if(m){if(f(),!l(E1))return o("property missing ':'");var b=l(O1),p=v({type:N1,property:Fs(m[0].replace($s,Gt)),value:b?Fs(b[0].replace($s,Gt)):Gt});return l(S1),p}}function d(){var v=[];u(v);for(var m;m=h();)m!==!1&&(v.push(m),u(v));return v}return c(),d()};function Fs(t){return t?t.replace(T1,Gt):Gt}var C1=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kl,"__esModule",{value:!0});var Us=Kl.default=R1,I1=C1(P1);function R1(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,I1.default)(t),i=typeof e=="function";return r.forEach(function(a){if(a.type==="declaration"){var s=a.property,o=a.value;i?e(s,o,a):o&&(n=n||{},n[s]=o)}}),n}const L1=Us.default||Us,Gl=Yl("end"),ka=Yl("start");function Yl(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function D1(t){const e=ka(t),n=Gl(t);if(e&&n)return{start:e,end:n}}function Kn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?zs(t.position):"start"in t||"end"in t?zs(t):"line"in t||"column"in t?Xi(t):""}function Xi(t){return Hs(t&&t.line)+":"+Hs(t&&t.column)}function zs(t){return Xi(t&&t.start)+"-"+Xi(t&&t.end)}function Hs(t){return t&&typeof t=="number"?t:1}class We extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Kn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}We.prototype.file="";We.prototype.name="";We.prototype.reason="";We.prototype.message="";We.prototype.stack="";We.prototype.column=void 0;We.prototype.line=void 0;We.prototype.ancestors=void 0;We.prototype.cause=void 0;We.prototype.fatal=void 0;We.prototype.place=void 0;We.prototype.ruleId=void 0;We.prototype.source=void 0;const Ea={}.hasOwnProperty,M1=new Map,$1=/[A-Z]/g,q1=/-([a-z])/g,B1=new Set(["table","tbody","thead","tfoot","tr"]),F1=new Set(["td","th"]),Jl="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function U1(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Y1(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=G1(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?wa:b1,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Ql(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function Ql(t,e,n){if(e.type==="element")return z1(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return H1(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return W1(t,e,n);if(e.type==="mdxjsEsm")return V1(t,e);if(e.type==="root")return Z1(t,e,n);if(e.type==="text")return K1(t,e)}function z1(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=wa,t.schema=i),t.ancestors.push(e);const a=eu(t,e.tagName,!1),s=J1(t,e);let o=Sa(t,e);return B1.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!l1(l):!0})),Xl(t,s,a,e),Oa(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function H1(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}dr(t,e.position)}function V1(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);dr(t,e.position)}function W1(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=wa,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:eu(t,e.name,!0),s=Q1(t,e),o=Sa(t,e);return Xl(t,s,a,e),Oa(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Z1(t,e,n){const r={};return Oa(r,Sa(t,e)),t.create(e,t.Fragment,r,n)}function K1(t,e){return e.value}function Xl(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Oa(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function G1(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function Y1(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=ka(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function J1(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Ea.call(e.properties,i)){const a=X1(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&F1.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Q1(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else dr(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else dr(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Sa(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:M1;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=Ql(t,a,s);o!==void 0&&n.push(o)}return n}function X1(t,e,n){const r=m1(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?r1(n):_1(n)),r.property==="style"){let i=typeof n=="object"?n:ex(t,String(n));return t.stylePropertyNameCase==="css"&&(i=tx(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?v1[r.property]||r.property:r.attribute,n]}}function ex(t,e){const n={};try{L1(e,r)}catch(i){if(!t.ignoreInvalidStyle){const a=i,s=new We("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Jl+"#cannot-parse-style-attribute",s}}return n;function r(i,a){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(q1,rx)),n[s]=a}}function eu(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=Rs(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=Rs(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Ea.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);dr(t)}function dr(t,e){const n=new We("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Jl+"#cannot-handle-mdx-estrees-without-createevaluater",n}function tx(t){const e={};let n;for(n in t)Ea.call(t,n)&&(e[nx(n)]=t[n]);return e}function nx(t){let e=t.replace($1,ix);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function rx(t,e){return e.toUpperCase()}function ix(t){return"-"+t.toLowerCase()}const Oi={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ax={};function sx(t,e){const n=ax,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tu(t,r,i)}function tu(t,e,n){if(ox(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Vs(t.children,e,n)}return Array.isArray(t)?Vs(t,e,n):""}function Vs(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=tu(t[i],e,n);return r.join("")}function ox(t){return!!(t&&typeof t=="object")}const Ws=document.createElement("i");function Ta(t){const e="&"+t+";";Ws.innerHTML=e;const n=Ws.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function xt(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function it(t,e){return t.length>0?(xt(t,t.length,0,e),t):e}const Zs={}.hasOwnProperty;function lx(t){const e={};let n=-1;for(;++n<t.length;)ux(e,t[n]);return e}function ux(t,e){let n;for(n in e){const i=(Zs.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){Zs.call(i,s)||(i[s]=[]);const o=a[s];cx(i[s],Array.isArray(o)?o:o?[o]:[])}}}function cx(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);xt(t,0,0,r)}function nu(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yt=Ut(/[A-Za-z]/),nt=Ut(/[\dA-Za-z]/),fx=Ut(/[#-'*+\--9=?A-Z^-~]/);function ea(t){return t!==null&&(t<32||t===127)}const ta=Ut(/\d/),dx=Ut(/[\dA-Fa-f]/),hx=Ut(/[!-/:-@[-`{-~]/);function he(t){return t!==null&&t<-2}function Je(t){return t!==null&&(t<0||t===32)}function Te(t){return t===-2||t===-1||t===32}const px=Ut(new RegExp("\\p{P}|\\p{S}","u")),mx=Ut(/\s/);function Ut(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function In(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&nt(t.charCodeAt(n+1))&&nt(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ie(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Te(l)?(t.enter(n),o(l)):e(l)}function o(l){return Te(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const gx={tokenize:yx};function yx(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ie(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return he(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const vx={tokenize:bx},Ks={tokenize:_x};function bx(t){const e=this,n=[];let r=0,i,a,s;return o;function o(_){if(r<n.length){const y=n[r];return e.containerState=y[1],t.attempt(y[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&g();const y=e.events.length;let x=y,T;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){T=e.events[x][1].end;break}p(r);let j=y;for(;j<e.events.length;)e.events[j][1].end={...T},j++;return xt(e.events,x+1,0,e.events.slice(y)),e.events.length=j,c(_)}return o(_)}function c(_){if(r===n.length){if(!i)return h(_);if(i.currentConstruct&&i.currentConstruct.concrete)return v(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ks,u,f)(_)}function u(_){return i&&g(),p(r),h(_)}function f(_){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,v(_)}function h(_){return e.containerState={},t.attempt(Ks,d,v)(_)}function d(_){return r++,n.push([e.currentConstruct,e.containerState]),h(_)}function v(_){if(_===null){i&&g(),p(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(_)}function m(_){if(_===null){b(t.exit("chunkFlow"),!0),p(0),t.consume(_);return}return he(_)?(t.consume(_),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(_),m)}function b(_,y){const x=e.sliceStream(_);if(y&&x.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(x),e.parser.lazy[_.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<s&&(!i.events[T][1].end||i.events[T][1].end.offset>s))return;const j=e.events.length;let N=j,I,A;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(I){A=e.events[N][1].end;break}I=!0}for(p(r),T=j;T<e.events.length;)e.events[T][1].end={...A},T++;xt(e.events,N+1,0,e.events.slice(j)),e.events.length=T}}function p(_){let y=n.length;for(;y-- >_;){const x=n[y];e.containerState=x[1],x[0].exit.call(e,t)}n.length=_}function g(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function _x(t,e,n){return Ie(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gs(t){if(t===null||Je(t)||mx(t))return 1;if(px(t))return 2}function Aa(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const na={name:"attention",resolveAll:xx,tokenize:wx};function xx(t,e){let n=-1,r,i,a,s,o,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};Ys(f,-l),Ys(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=it(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=it(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=it(c,Aa(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=it(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=it(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,xt(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function wx(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Gs(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),u=Gs(l),f=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(u||!f)),e(l)}}function Ys(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const kx={name:"autolink",tokenize:Ex};function Ex(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(d){return yt(d)?(t.consume(d),s):d===64?n(d):c(d)}function s(d){return d===43||d===45||d===46||nt(d)?(r=1,o(d)):c(d)}function o(d){return d===58?(t.consume(d),r=0,l):(d===43||d===45||d===46||nt(d))&&r++<32?(t.consume(d),o):(r=0,c(d))}function l(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||ea(d)?n(d):(t.consume(d),l)}function c(d){return d===64?(t.consume(d),u):fx(d)?(t.consume(d),c):n(d)}function u(d){return nt(d)?f(d):n(d)}function f(d){return d===46?(t.consume(d),r=0,u):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):h(d)}function h(d){if((d===45||nt(d))&&r++<63){const v=d===45?h:f;return t.consume(d),v}return n(d)}}const di={partial:!0,tokenize:Ox};function Ox(t,e,n){return r;function r(a){return Te(a)?Ie(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||he(a)?e(a):n(a)}}const ru={continuation:{tokenize:Tx},exit:Ax,name:"blockQuote",tokenize:Sx};function Sx(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Te(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Tx(t,e,n){const r=this;return i;function i(s){return Te(s)?Ie(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(ru,e,n)(s)}}function Ax(t){t.exit("blockQuote")}const iu={name:"characterEscape",tokenize:jx};function jx(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return hx(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const au={name:"characterReference",tokenize:Nx};function Nx(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=nt,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=dx,u):(t.enter("characterReferenceValue"),a=7,s=ta,u(f))}function u(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===nt&&!Ta(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),u):n(f)}}const Js={partial:!0,tokenize:Cx},Qs={concrete:!0,name:"codeFenced",tokenize:Px};function Px(t,e,n){const r=this,i={partial:!0,tokenize:x};let a=0,s=0,o;return l;function l(T){return c(T)}function c(T){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(T)}function u(T){return T===o?(s++,t.consume(T),u):s<3?n(T):(t.exit("codeFencedFenceSequence"),Te(T)?Ie(t,f,"whitespace")(T):f(T))}function f(T){return T===null||he(T)?(t.exit("codeFencedFence"),r.interrupt?e(T):t.check(Js,m,y)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||he(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(T)):Te(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ie(t,d,"whitespace")(T)):T===96&&T===o?n(T):(t.consume(T),h)}function d(T){return T===null||he(T)?f(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||he(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(T)):T===96&&T===o?n(T):(t.consume(T),v)}function m(T){return t.attempt(i,y,b)(T)}function b(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),p}function p(T){return a>0&&Te(T)?Ie(t,g,"linePrefix",a+1)(T):g(T)}function g(T){return T===null||he(T)?t.check(Js,m,y)(T):(t.enter("codeFlowValue"),_(T))}function _(T){return T===null||he(T)?(t.exit("codeFlowValue"),g(T)):(t.consume(T),_)}function y(T){return t.exit("codeFenced"),e(T)}function x(T,j,N){let I=0;return A;function A(D){return T.enter("lineEnding"),T.consume(D),T.exit("lineEnding"),k}function k(D){return T.enter("codeFencedFence"),Te(D)?Ie(T,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):S(D)}function S(D){return D===o?(T.enter("codeFencedFenceSequence"),P(D)):N(D)}function P(D){return D===o?(I++,T.consume(D),P):I>=s?(T.exit("codeFencedFenceSequence"),Te(D)?Ie(T,R,"whitespace")(D):R(D)):N(D)}function R(D){return D===null||he(D)?(T.exit("codeFencedFence"),j(D)):N(D)}}}function Cx(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Si={name:"codeIndented",tokenize:Rx},Ix={partial:!0,tokenize:Lx};function Rx(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ie(t,a,"linePrefix",5)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):he(c)?t.attempt(Ix,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||he(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function Lx(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):he(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Ie(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):he(s)?i(s):n(s)}}const Dx={name:"codeText",previous:$x,resolve:Mx,tokenize:qx};function Mx(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $x(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qx(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,u(f)):he(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||he(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class Bx{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Bn(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Bn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Bn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Bn(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Bn(this.left,n.reverse())}}}function Bn(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function su(t){const e={};let n=-1,r,i,a,s,o,l,c;const u=new Bx(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Fx(u,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end={...u.get(i)[1].start},o=u.slice(i,n),o.unshift(r),u.splice(i,n-i+1,o))}}return xt(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Fx(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],c={};let u,f,h=-1,d=n,v=0,m=0;const b=[m];for(;d;){for(;t.get(++i)[1]!==d;);a.push(i),d._tokenizer||(u=r.sliceStream(d),d.next||u.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,b.push(m),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):b.pop(),h=b.length;h--;){const p=o.slice(b[h],b[h+1]),g=a.pop();l.push([g,g+p.length-1]),t.splice(g,2,p)}for(l.reverse(),h=-1;++h<l.length;)c[v+l[h][0]]=v+l[h][1],v+=l[h][1]-l[h][0]-1;return c}const Ux={resolve:Hx,tokenize:Vx},zx={partial:!0,tokenize:Wx};function Hx(t){return su(t),t}function Vx(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):he(o)?t.check(zx,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Wx(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Ie(t,a,"linePrefix")}function a(s){if(s===null||he(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function ou(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(p){return p===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(p),t.exit(a),h):p===null||p===32||p===41||ea(p)?n(p):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(p))}function h(p){return p===62?(t.enter(a),t.consume(p),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===62?(t.exit("chunkString"),t.exit(o),h(p)):p===null||p===60||he(p)?n(p):(t.consume(p),p===92?v:d)}function v(p){return p===60||p===62||p===92?(t.consume(p),d):d(p)}function m(p){return!u&&(p===null||p===41||Je(p))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(p)):u<c&&p===40?(t.consume(p),u++,m):p===41?(t.consume(p),u--,m):p===null||p===32||p===40||ea(p)?n(p):(t.consume(p),p===92?b:m)}function b(p){return p===40||p===41||p===92?(t.consume(p),m):m(p)}}function lu(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(a),u}function u(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(t.exit(a),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):he(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||he(d)||o++>999?(t.exit("chunkString"),u(d)):(t.consume(d),l||(l=!Te(d)),d===92?h:f)}function h(d){return d===91||d===92||d===93?(t.consume(d),o++,f):f(d)}}function uu(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):he(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ie(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===s||h===null||he(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:u)}function f(h){return h===s||h===92?(t.consume(h),u):u(h)}}function Gn(t,e){let n;return r;function r(i){return he(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Te(i)?Ie(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Zx={name:"definition",tokenize:Gx},Kx={partial:!0,tokenize:Yx};function Gx(t,e,n){const r=this;let i;return a;function a(d){return t.enter("definition"),s(d)}function s(d){return lu.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=vn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),l):n(d)}function l(d){return Je(d)?Gn(t,c)(d):c(d)}function c(d){return ou(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function u(d){return t.attempt(Kx,f,f)(d)}function f(d){return Te(d)?Ie(t,h,"whitespace")(d):h(d)}function h(d){return d===null||he(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function Yx(t,e,n){return r;function r(o){return Je(o)?Gn(t,i)(o):n(o)}function i(o){return uu(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Te(o)?Ie(t,s,"whitespace")(o):s(o)}function s(o){return o===null||he(o)?e(o):n(o)}}const Jx={name:"hardBreakEscape",tokenize:Qx};function Qx(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return he(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Xx={name:"headingAtx",resolve:ew,tokenize:tw};function ew(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},xt(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function tw(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),a(u)}function a(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||Je(u)?(t.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||he(u)?(t.exit("atxHeading"),e(u)):Te(u)?Ie(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Je(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const nw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xs=["pre","script","style","textarea"],rw={concrete:!0,name:"htmlFlow",resolveTo:sw,tokenize:ow},iw={partial:!0,tokenize:uw},aw={partial:!0,tokenize:lw};function sw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function ow(t,e,n){const r=this;let i,a,s,o,l;return c;function c(O){return u(O)}function u(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),f}function f(O){return O===33?(t.consume(O),h):O===47?(t.consume(O),a=!0,m):O===63?(t.consume(O),i=3,r.interrupt?e:E):yt(O)?(t.consume(O),s=String.fromCharCode(O),b):n(O)}function h(O){return O===45?(t.consume(O),i=2,d):O===91?(t.consume(O),i=5,o=0,v):yt(O)?(t.consume(O),i=4,r.interrupt?e:E):n(O)}function d(O){return O===45?(t.consume(O),r.interrupt?e:E):n(O)}function v(O){const z="CDATA[";return O===z.charCodeAt(o++)?(t.consume(O),o===z.length?r.interrupt?e:S:v):n(O)}function m(O){return yt(O)?(t.consume(O),s=String.fromCharCode(O),b):n(O)}function b(O){if(O===null||O===47||O===62||Je(O)){const z=O===47,U=s.toLowerCase();return!z&&!a&&Xs.includes(U)?(i=1,r.interrupt?e(O):S(O)):nw.includes(s.toLowerCase())?(i=6,z?(t.consume(O),p):r.interrupt?e(O):S(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):a?g(O):_(O))}return O===45||nt(O)?(t.consume(O),s+=String.fromCharCode(O),b):n(O)}function p(O){return O===62?(t.consume(O),r.interrupt?e:S):n(O)}function g(O){return Te(O)?(t.consume(O),g):A(O)}function _(O){return O===47?(t.consume(O),A):O===58||O===95||yt(O)?(t.consume(O),y):Te(O)?(t.consume(O),_):A(O)}function y(O){return O===45||O===46||O===58||O===95||nt(O)?(t.consume(O),y):x(O)}function x(O){return O===61?(t.consume(O),T):Te(O)?(t.consume(O),x):_(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,j):Te(O)?(t.consume(O),T):N(O)}function j(O){return O===l?(t.consume(O),l=null,I):O===null||he(O)?n(O):(t.consume(O),j)}function N(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Je(O)?x(O):(t.consume(O),N)}function I(O){return O===47||O===62||Te(O)?_(O):n(O)}function A(O){return O===62?(t.consume(O),k):n(O)}function k(O){return O===null||he(O)?S(O):Te(O)?(t.consume(O),k):n(O)}function S(O){return O===45&&i===2?(t.consume(O),B):O===60&&i===1?(t.consume(O),F):O===62&&i===4?(t.consume(O),C):O===63&&i===3?(t.consume(O),E):O===93&&i===5?(t.consume(O),q):he(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(iw,M,P)(O)):O===null||he(O)?(t.exit("htmlFlowData"),P(O)):(t.consume(O),S)}function P(O){return t.check(aw,R,M)(O)}function R(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),D}function D(O){return O===null||he(O)?P(O):(t.enter("htmlFlowData"),S(O))}function B(O){return O===45?(t.consume(O),E):S(O)}function F(O){return O===47?(t.consume(O),s="",Y):S(O)}function Y(O){if(O===62){const z=s.toLowerCase();return Xs.includes(z)?(t.consume(O),C):S(O)}return yt(O)&&s.length<8?(t.consume(O),s+=String.fromCharCode(O),Y):S(O)}function q(O){return O===93?(t.consume(O),E):S(O)}function E(O){return O===62?(t.consume(O),C):O===45&&i===2?(t.consume(O),E):S(O)}function C(O){return O===null||he(O)?(t.exit("htmlFlowData"),M(O)):(t.consume(O),C)}function M(O){return t.exit("htmlFlow"),e(O)}}function lw(t,e,n){const r=this;return i;function i(s){return he(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function uw(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(di,e,n)}}const cw={name:"htmlText",tokenize:fw};function fw(t,e,n){const r=this;let i,a,s;return o;function o(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),x):E===63?(t.consume(E),_):yt(E)?(t.consume(E),N):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),a=0,v):yt(E)?(t.consume(E),g):n(E)}function u(E){return E===45?(t.consume(E),d):n(E)}function f(E){return E===null?n(E):E===45?(t.consume(E),h):he(E)?(s=f,F(E)):(t.consume(E),f)}function h(E){return E===45?(t.consume(E),d):f(E)}function d(E){return E===62?B(E):E===45?h(E):f(E)}function v(E){const C="CDATA[";return E===C.charCodeAt(a++)?(t.consume(E),a===C.length?m:v):n(E)}function m(E){return E===null?n(E):E===93?(t.consume(E),b):he(E)?(s=m,F(E)):(t.consume(E),m)}function b(E){return E===93?(t.consume(E),p):m(E)}function p(E){return E===62?B(E):E===93?(t.consume(E),p):m(E)}function g(E){return E===null||E===62?B(E):he(E)?(s=g,F(E)):(t.consume(E),g)}function _(E){return E===null?n(E):E===63?(t.consume(E),y):he(E)?(s=_,F(E)):(t.consume(E),_)}function y(E){return E===62?B(E):_(E)}function x(E){return yt(E)?(t.consume(E),T):n(E)}function T(E){return E===45||nt(E)?(t.consume(E),T):j(E)}function j(E){return he(E)?(s=j,F(E)):Te(E)?(t.consume(E),j):B(E)}function N(E){return E===45||nt(E)?(t.consume(E),N):E===47||E===62||Je(E)?I(E):n(E)}function I(E){return E===47?(t.consume(E),B):E===58||E===95||yt(E)?(t.consume(E),A):he(E)?(s=I,F(E)):Te(E)?(t.consume(E),I):B(E)}function A(E){return E===45||E===46||E===58||E===95||nt(E)?(t.consume(E),A):k(E)}function k(E){return E===61?(t.consume(E),S):he(E)?(s=k,F(E)):Te(E)?(t.consume(E),k):I(E)}function S(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,P):he(E)?(s=S,F(E)):Te(E)?(t.consume(E),S):(t.consume(E),R)}function P(E){return E===i?(t.consume(E),i=void 0,D):E===null?n(E):he(E)?(s=P,F(E)):(t.consume(E),P)}function R(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Je(E)?I(E):(t.consume(E),R)}function D(E){return E===47||E===62||Je(E)?I(E):n(E)}function B(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function F(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),Y}function Y(E){return Te(E)?Ie(t,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):q(E)}function q(E){return t.enter("htmlTextData"),s(E)}}const ja={name:"labelEnd",resolveAll:mw,resolveTo:gw,tokenize:yw},dw={tokenize:vw},hw={tokenize:bw},pw={tokenize:_w};function mw(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&xt(t,0,t.length,n),t}function gw(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},u={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=it(o,t.slice(a+1,a+r+3)),o=it(o,[["enter",u,e]]),o=it(o,Aa(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=it(o,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),o=it(o,t.slice(s+1)),o=it(o,[["exit",l,e]]),xt(t,a,t.length,o),t}function yw(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(vn(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(dw,u,s?u:f)(h):h===91?t.attempt(hw,u,s?c:f)(h):s?u(h):f(h)}function c(h){return t.attempt(pw,u,f)(h)}function u(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function vw(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Je(f)?Gn(t,a)(f):a(f)}function a(f){return f===41?u(f):ou(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Je(f)?Gn(t,l)(f):u(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?uu(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Je(f)?Gn(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function bw(t,e,n){const r=this;return i;function i(o){return lu.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(vn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function _w(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const xw={name:"labelStartImage",resolveAll:ja.resolveAll,tokenize:ww};function ww(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kw={name:"labelStartLink",resolveAll:ja.resolveAll,tokenize:Ew};function Ew(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Ti={name:"lineEnding",tokenize:Ow};function Ow(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ie(t,e,"linePrefix")}}const jr={name:"thematicBreak",tokenize:Sw};function Sw(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||he(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Te(c)?Ie(t,o,"whitespace")(c):o(c))}}const Ge={continuation:{tokenize:Nw},exit:Cw,name:"list",tokenize:jw},Tw={partial:!0,tokenize:Iw},Aw={partial:!0,tokenize:Pw};function jw(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(d){const v=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:ta(d)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(jr,n,c)(d):c(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(d)}return n(d)}function l(d){return ta(d)&&++s<10?(t.consume(d),l):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),c(d)):n(d)}function c(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(di,r.interrupt?n:u,t.attempt(Tw,h,f))}function u(d){return r.containerState.initialBlankLine=!0,a++,h(d)}function f(d){return Te(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function Nw(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(di,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ie(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Te(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Aw,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ie(t,t.attempt(Ge,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Pw(t,e,n){const r=this;return Ie(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function Cw(t){t.exit(this.containerState.type)}function Iw(t,e,n){const r=this;return Ie(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Te(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const eo={name:"setextUnderline",resolveTo:Rw,tokenize:Lw};function Rw(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function Lw(t,e,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Te(c)?Ie(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||he(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const Dw={tokenize:Mw};function Mw(t){const e=this,n=t.attempt(di,r,t.attempt(this.parser.constructs.flowInitial,i,Ie(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Ux,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $w={resolveAll:fu()},qw=cu("string"),Bw=cu("text");function cu(t){return{resolveAll:fu(t==="text"?Fw:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let h=-1;if(f)for(;++h<f.length;){const d=f[h];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function fu(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Fw(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const Uw={42:Ge,43:Ge,45:Ge,48:Ge,49:Ge,50:Ge,51:Ge,52:Ge,53:Ge,54:Ge,55:Ge,56:Ge,57:Ge,62:ru},zw={91:Zx},Hw={[-2]:Si,[-1]:Si,32:Si},Vw={35:Xx,42:jr,45:[eo,jr],60:rw,61:eo,95:jr,96:Qs,126:Qs},Ww={38:au,92:iu},Zw={[-5]:Ti,[-4]:Ti,[-3]:Ti,33:xw,38:au,42:na,60:[kx,cw],91:kw,92:[Jx,iu],93:ja,95:na,96:Dx},Kw={null:[na,$w]},Gw={null:[42,95]},Yw={null:[]},Jw=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gw,contentInitial:zw,disable:Yw,document:Uw,flow:Vw,flowInitial:Hw,insideSpan:Kw,string:Ww,text:Zw},Symbol.toStringTag,{value:"Module"}));function Qw(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(x),check:j(T),consume:g,enter:_,exit:y,interrupt:j(T,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:v,parser:t,previous:null,sliceSerialize:h,sliceStream:d,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(k){return s=it(s,k),b(),s[s.length-1]!==null?[]:(N(e,0),c.events=Aa(a,c.events,c),c.events)}function h(k,S){return ek(d(k),S)}function d(k){return Xw(s,k)}function v(){const{_bufferIndex:k,_index:S,line:P,column:R,offset:D}=r;return{_bufferIndex:k,_index:S,line:P,column:R,offset:D}}function m(k){i[k.line]=k.column,A()}function b(){let k;for(;r._index<s.length;){const S=s[r._index];if(typeof S=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<S.length;)p(S.charCodeAt(r._bufferIndex));else p(S)}}function p(k){u=u(k)}function g(k){he(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,A()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=k}function _(k,S){const P=S||{};return P.type=k,P.start=v(),c.events.push(["enter",P,c]),o.push(P),P}function y(k){const S=o.pop();return S.end=v(),c.events.push(["exit",S,c]),S}function x(k,S){N(k,S.from)}function T(k,S){S.restore()}function j(k,S){return P;function P(R,D,B){let F,Y,q,E;return Array.isArray(R)?M(R):"tokenize"in R?M([R]):C(R);function C(L){return $;function $(H){const V=H!==null&&L[H],G=H!==null&&L.null,re=[...Array.isArray(V)?V:V?[V]:[],...Array.isArray(G)?G:G?[G]:[]];return M(re)(H)}}function M(L){return F=L,Y=0,L.length===0?B:O(L[Y])}function O(L){return $;function $(H){return E=I(),q=L,L.partial||(c.currentConstruct=L),L.name&&c.parser.constructs.disable.null.includes(L.name)?U():L.tokenize.call(S?Object.assign(Object.create(c),S):c,l,z,U)(H)}}function z(L){return k(q,E),D}function U(L){return E.restore(),++Y<F.length?O(F[Y]):B}}}function N(k,S){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&xt(c.events,S,c.events.length-S,k.resolve(c.events.slice(S),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function I(){const k=v(),S=c.previous,P=c.currentConstruct,R=c.events.length,D=Array.from(o);return{from:R,restore:B};function B(){r=k,c.previous=S,c.currentConstruct=P,c.events.length=R,o=D,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Xw(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function ek(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function tk(t){const r={constructs:lx([Jw,...(t||{}).extensions||[]]),content:i(gx),defined:[],document:i(vx),flow:i(Dw),lazy:{},string:i(qw),text:i(Bw)};return r;function i(a){return s;function s(o){return Qw(r,a,o)}}}function nk(t){for(;!su(t););return t}const to=/[\0\t\n\r]/g;function rk(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,u,f,h,d;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(to.lastIndex=f,c=to.exec(a),h=c&&c.index!==void 0?c.index:a.length,d=a.charCodeAt(h),!c){e=a.slice(f);break}if(d===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),d){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const ik=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ak(t){return t.replace(ik,sk)}function sk(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return nu(n.slice(a?2:1),a?16:10)}return Ta(n)||t}const du={}.hasOwnProperty;function ok(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lk(n)(nk(tk(n).document().write(rk()(t,e,!0))))}function lk(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(K),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(Se),blockQuote:a(G),characterEscape:I,characterReference:I,codeFenced:a(re),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(re,s),codeText:a(de,s),codeTextData:I,data:I,codeFlowValue:I,definition:a(pe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(we),hardBreakEscape:a(He),hardBreakTrailing:a(He),htmlFlow:a($e,s),htmlFlowData:I,htmlText:a($e,s),htmlTextData:I,image:a(Z),label:s,link:a(K),listItem:a(ie),listItemValue:h,listOrdered:a(te,f),listUnordered:a(te),paragraph:a(J),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Se),strong:a(ye),thematicBreak:a(xe)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:V,autolinkProtocol:H,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:L,characterReference:$,codeFenced:l(b),codeFencedFence:m,codeFencedFenceInfo:d,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:l(p),codeText:l(D),codeTextData:A,data:A,definition:l(),definitionDestinationString:y,definitionLabelString:g,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(S),hardBreakTrailing:l(S),htmlFlow:l(P),htmlFlowData:A,htmlText:l(R),htmlTextData:A,image:l(F),label:q,labelText:Y,lineEnding:k,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:E,resourceTitleString:C,resource:M,setextHeading:l(N),setextHeadingLineSequence:j,setextHeadingText:T,strong:l(),thematicBreak:l()}};hu(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(W){let ee={type:"root",children:[]};const se={stack:[ee],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:u,data:n},ke=[];let ce=-1;for(;++ce<W.length;)if(W[ce][1].type==="listOrdered"||W[ce][1].type==="listUnordered")if(W[ce][0]==="enter")ke.push(ce);else{const qe=ke.pop();ce=i(W,qe,ce)}for(ce=-1;++ce<W.length;){const qe=e[W[ce][0]];du.call(qe,W[ce][1].type)&&qe[W[ce][1].type].call(Object.assign({sliceSerialize:W[ce][2].sliceSerialize},se),W[ce][1])}if(se.tokenStack.length>0){const qe=se.tokenStack[se.tokenStack.length-1];(qe[1]||no).call(se,void 0,qe[0])}for(ee.position={start:Nt(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:Nt(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},ce=-1;++ce<e.transforms.length;)ee=e.transforms[ce](ee)||ee;return ee}function i(W,ee,se){let ke=ee-1,ce=-1,qe=!1,zt,wt,Rn,Ln;for(;++ke<=se;){const Qe=W[ke];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?ce++:ce--,Ln=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(zt&&!Ln&&!ce&&!Rn&&(Rn=ke),Ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ln=void 0}if(!ce&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||ce===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(zt){let rn=ke;for(wt=void 0;rn--;){const kt=W[rn];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;wt&&(W[wt][1].type="lineEndingBlank",qe=!0),kt[1].type="lineEnding",wt=rn}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}Rn&&(!wt||Rn<wt)&&(zt._spread=!0),zt.end=Object.assign({},wt?W[wt][1].start:Qe[1].end),W.splice(wt||ke,0,["exit",zt,Qe[2]]),ke++,se++}if(Qe[1].type==="listItemPrefix"){const rn={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};zt=rn,W.splice(ke,0,["enter",rn,Qe[2]]),ke++,se++,Rn=void 0,Ln=!0}}}return W[ee][1]._spread=qe,se}function a(W,ee){return se;function se(ke){o.call(this,W(ke),ke),ee&&ee.call(this,ke)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(W,ee,se){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ee,se||void 0]),W.position={start:Nt(ee.start),end:void 0}}function l(W){return ee;function ee(se){W&&W.call(this,se),c.call(this,se)}}function c(W,ee){const se=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==W.type&&(ee?ee.call(this,W,ke[0]):(ke[1]||no).call(this,W,ke[0]));else throw new Error("Cannot close `"+W.type+"` ("+Kn({start:W.start,end:W.end})+"): its not open");se.position.end=Nt(W.end)}function u(){return sx(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(W){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function d(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=W}function v(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=W}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W.replace(/(\r?\n|\r)$/g,"")}function g(W){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=vn(this.sliceSerialize(W)).toLowerCase()}function _(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.title=W}function y(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.url=W}function x(W){const ee=this.stack[this.stack.length-1];if(!ee.depth){const se=this.sliceSerialize(W).length;ee.depth=se}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function j(W){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function I(W){const se=this.stack[this.stack.length-1].children;let ke=se[se.length-1];(!ke||ke.type!=="text")&&(ke=ve(),ke.position={start:Nt(W.start),end:void 0},se.push(ke)),this.stack.push(ke)}function A(W){const ee=this.stack.pop();ee.value+=this.sliceSerialize(W),ee.position.end=Nt(W.end)}function k(W){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=ee.children[ee.children.length-1];se.position.end=Nt(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ee.type)&&(I.call(this,W),A.call(this,W))}function S(){this.data.atHardBreak=!0}function P(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function R(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function D(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.value=W}function B(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ee,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function F(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ee,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function Y(W){const ee=this.sliceSerialize(W),se=this.stack[this.stack.length-2];se.label=ak(ee),se.identifier=vn(ee).toLowerCase()}function q(){const W=this.stack[this.stack.length-1],ee=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const ke=W.children;se.children=ke}else se.alt=ee}function E(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.url=W}function C(){const W=this.resume(),ee=this.stack[this.stack.length-1];ee.title=W}function M(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function z(W){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=vn(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function U(W){this.data.characterReferenceType=W.type}function L(W){const ee=this.sliceSerialize(W),se=this.data.characterReferenceType;let ke;se?(ke=nu(ee,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Ta(ee);const ce=this.stack[this.stack.length-1];ce.value+=ke}function $(W){const ee=this.stack.pop();ee.position.end=Nt(W.end)}function H(W){A.call(this,W);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(W)}function V(W){A.call(this,W);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(W)}function G(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function de(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function He(){return{type:"break"}}function $e(){return{type:"html",value:""}}function Z(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function te(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function ie(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function J(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function xe(){return{type:"thematicBreak"}}}function Nt(t){return{line:t.line,column:t.column,offset:t.offset}}function hu(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?hu(t,r):uk(t,r)}}function uk(t,e){let n;for(n in e)if(du.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function no(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Kn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Kn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Kn({start:e.start,end:e.end})+") is still open")}function ck(t){const e=this;e.parser=n;function n(r){return ok(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function fk(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function dk(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function hk(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function pk(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mk(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gk(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=In(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function yk(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vk(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pu(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function bk(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pu(t,e);const i={src:In(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function _k(t,e){const n={src:In(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function xk(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function wk(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pu(t,e);const i={href:In(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function kk(t,e){const n={href:In(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ek(t,e,n){const r=t.all(e),i=n?Ok(n):mu(e),a={},s=[];if(typeof e.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function Ok(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mu(n[r])}return e}function mu(t){const e=t.spread;return e??t.children.length>1}function Sk(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Tk(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ak(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function jk(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nk(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=ka(e.children[1]),l=Gl(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Pk(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},d=s?s[l]:void 0;d&&(h.align=d);let v={type:"element",tagName:a,properties:h,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(f,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function Ck(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ro=9,io=32;function Ik(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(ao(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(ao(e.slice(i),i>0,!1)),a.join("")}function ao(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===ro||a===io;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===ro||a===io;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Rk(t,e){const n={type:"text",value:Ik(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Lk(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Dk={blockquote:fk,break:dk,code:hk,delete:pk,emphasis:mk,footnoteReference:gk,heading:yk,html:vk,imageReference:bk,image:_k,inlineCode:xk,linkReference:wk,link:kk,listItem:Ek,list:Sk,paragraph:Tk,root:Ak,strong:jk,table:Nk,tableCell:Ck,tableRow:Pk,text:Rk,thematicBreak:Lk,toml:Sr,yaml:Sr,definition:Sr,footnoteDefinition:Sr};function Sr(){}const gu=-1,hi=0,Hr=1,Vr=2,Na=3,Pa=4,Ca=5,Ia=6,yu=7,vu=8,so=typeof self=="object"?self:globalThis,Mk=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case hi:case gu:return n(s,i);case Hr:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Vr:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case Na:return n(new Date(s),i);case Pa:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case Ca:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case Ia:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case yu:{const{name:o,message:l}=s;return n(new so[o](l),i)}case vu:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new so[a](s),i)};return r},oo=t=>Mk(new Map,t)(0),un="",{toString:$k}={},{keys:qk}=Object,Fn=t=>{const e=typeof t;if(e!=="object"||!t)return[hi,e];const n=$k.call(t).slice(8,-1);switch(n){case"Array":return[Hr,un];case"Object":return[Vr,un];case"Date":return[Na,un];case"RegExp":return[Pa,un];case"Map":return[Ca,un];case"Set":return[Ia,un]}return n.includes("Array")?[Hr,n]:n.includes("Error")?[yu,n]:[Vr,n]},Tr=([t,e])=>t===hi&&(e==="function"||e==="symbol"),Bk=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Fn(s);switch(o){case hi:{let u=s;switch(l){case"bigint":o=vu,u=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([gu],s)}return i([o,u],s)}case Hr:{if(l)return i([l,[...s]],s);const u=[],f=i([o,u],s);for(const h of s)u.push(a(h));return f}case Vr:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const h of qk(s))(t||!Tr(Fn(s[h])))&&u.push([a(h),a(s[h])]);return f}case Na:return i([o,s.toISOString()],s);case Pa:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case Ca:{const u=[],f=i([o,u],s);for(const[h,d]of s)(t||!(Tr(Fn(h))||Tr(Fn(d))))&&u.push([a(h),a(d)]);return f}case Ia:{const u=[],f=i([o,u],s);for(const h of s)(t||!Tr(Fn(h)))&&u.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},lo=(t,{json:e,lossy:n}={})=>{const r=[];return Bk(!(e||n),!!e,new Map,r)(t),r},Wr=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?oo(lo(t,e)):structuredClone(t):(t,e)=>oo(lo(t,e));function Fk(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Uk(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zk(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Fk,r=t.options.footnoteBackLabel||Uk,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),h=In(f.toLowerCase());let d=0;const v=[],m=t.footnoteCounts.get(f);for(;m!==void 0&&++d<=m;){v.length>0&&v.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,d);typeof g=="string"&&(g={type:"text",value:g}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,d),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const g=b.children[b.children.length-1];g&&g.type==="text"?g.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else u.push(...v);const p={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,p),o.push(p)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Wr(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const bu=function(t){if(t==null)return Zk;if(typeof t=="function")return pi(t);if(typeof t=="object")return Array.isArray(t)?Hk(t):Vk(t);if(typeof t=="string")return Wk(t);throw new Error("Expected function, string, or object as test")};function Hk(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=bu(t[n]);return pi(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Vk(t){const e=t;return pi(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Wk(t){return pi(e);function e(n){return n&&n.type===t}}function pi(t){return e;function e(n,r,i){return!!(Kk(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Zk(){return!0}function Kk(t){return t!==null&&typeof t=="object"&&"type"in t}const _u=[],Gk=!0,uo=!1,Yk="skip";function Jk(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=bu(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=_u,v,m,b;if((!e||a(l,c,u[u.length-1]||void 0))&&(d=Qk(n(l,u)),d[0]===uo))return d;if("children"in l&&l.children){const p=l;if(p.children&&d[0]!==Yk)for(m=(r?p.children.length:-1)+s,b=u.concat(p);m>-1&&m<p.children.length;){const g=p.children[m];if(v=o(g,m,b)(),v[0]===uo)return v;m=typeof v[1]=="number"?v[1]:m+s}}return d}}}function Qk(t){return Array.isArray(t)?t:typeof t=="number"?[Gk,t]:t==null?_u:[t]}function xu(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Jk(t,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const ra={}.hasOwnProperty,Xk={};function eE(t,e){const n=e||Xk,r=new Map,i=new Map,a=new Map,s={...Dk,...n.handlers},o={all:c,applyData:nE,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:tE,wrap:iE};return xu(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();f.has(h)||f.set(h,u)}}),o;function l(u,f){const h=u.type,d=o.handlers[h];if(ra.call(o.handlers,h)&&d)return d(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in u){const{children:m,...b}=u,p=Wr(b);return p.children=o.all(u),p}return Wr(u)}return(o.options.unknownHandler||rE)(o,u,f)}function c(u){const f=[];if("children"in u){const h=u.children;let d=-1;for(;++d<h.length;){const v=o.one(h[d],u);if(v){if(d&&h[d-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=co(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=co(m.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function tE(t,e){t.position&&(e.position=D1(t))}function nE(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Wr(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rE(t,e){const n=e.data||{},r="value"in e&&!(ra.call(n,"hProperties")||ra.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function iE(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function co(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fo(t,e){const n=eE(t,e),r=n.one(t,void 0),i=zk(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function aE(t,e){return t&&"run"in t?async function(n,r){const i=fo(n,{file:r,...e});await t.run(i,r)}:function(n,r){return fo(n,{file:r,...t||e})}}function ho(t){if(t)throw t}var Nr=Object.prototype.hasOwnProperty,wu=Object.prototype.toString,po=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,go=function(e){return typeof Array.isArray=="function"?Array.isArray(e):wu.call(e)==="[object Array]"},yo=function(e){if(!e||wu.call(e)!=="[object Object]")return!1;var n=Nr.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Nr.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Nr.call(e,i)},vo=function(e,n){po&&n.name==="__proto__"?po(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},bo=function(e,n){if(n==="__proto__")if(Nr.call(e,n)){if(mo)return mo(e,n).value}else return;return e[n]},sE=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=bo(o,n),i=bo(e,n),o!==i&&(u&&i&&(yo(i)||(a=go(i)))?(a?(a=!1,s=r&&go(r)?r:[]):s=r&&yo(r)?r:{},vo(o,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&vo(o,{name:n,newValue:i}));return o};const Ai=To(sE);function ia(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function oE(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?lE(u,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function lE(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const pt={basename:uE,dirname:cE,extname:fE,join:dE,sep:"/"};function uE(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');br(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function cE(t){if(br(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function fE(t){br(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function dE(...t){let e=-1,n;for(;++e<t.length;)br(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":hE(n)}function hE(t){br(t);const e=t.codePointAt(0)===47;let n=pE(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function pE(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function br(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const mE={cwd:gE};function gE(){return"/"}function aa(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function yE(t){if(typeof t=="string")t=new URL(t);else if(!aa(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return vE(t)}function vE(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const ji=["history","path","basename","stem","extname","dirname"];class ku{constructor(e){let n;e?aa(e)?n={path:e}:typeof e=="string"||bE(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":mE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ji.length;){const a=ji[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)ji.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pt.basename(this.path):void 0}set basename(e){Pi(e,"basename"),Ni(e,"basename"),this.path=pt.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?pt.dirname(this.path):void 0}set dirname(e){_o(this.basename,"dirname"),this.path=pt.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?pt.extname(this.path):void 0}set extname(e){if(Ni(e,"extname"),_o(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pt.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){aa(e)&&(e=yE(e)),Pi(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?pt.basename(this.path,this.extname):void 0}set stem(e){Pi(e,"stem"),Ni(e,"stem"),this.path=pt.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new We(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ni(t,e){if(t&&t.includes(pt.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pt.sep+"`")}function Pi(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _o(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function bE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _E=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},xE={}.hasOwnProperty;class Ra extends _E{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oE()}copy(){const e=new Ra;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ai(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ri("data",this.frozen),this.namespace[e]=n,this):xE.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ri("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ar(e),r=this.parser||this.Parser;return Ci("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ci("process",this.parser||this.Parser),Ii("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Ar(e),l=r.parse(o);r.run(l,o,function(u,f,h){if(u||!f||!h)return c(u);const d=f,v=r.stringify(d,h);EE(v)?h.value=v:h.result=v,c(u,h)});function c(u,f){u||!f?s(u):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Ci("processSync",this.parser||this.Parser),Ii("processSync",this.compiler||this.Compiler),this.process(e,i),wo("processSync","process",n),r;function i(a,s){n=!0,ho(a),r=s}}run(e,n,r){xo(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Ar(n);i.run(e,l,c);function c(u,f,h){const d=f||e;u?o(u):s?s(d):r(void 0,d,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),wo("runSync","run",r),i;function a(s,o){ho(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=Ar(n),i=this.compiler||this.Compiler;return Ii("stringify",i),xo(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ri("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Ai(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[d,...v]=u;const m=r[h][1];ia(m)&&ia(d)&&(d=Ai(!0,m,d)),r[h]=[c,d,...v]}}}}const wE=new Ra().freeze();function Ci(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ii(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ri(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xo(t){if(!ia(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function wo(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ar(t){return kE(t)?t:new ku(t)}function kE(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function EE(t){return typeof t=="string"||OE(t)}function OE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const SE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ko=[],Eo={allowDangerousHtml:!0},TE=/^(https?|ircs?|mailto|xmpp)$/i,AE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jE(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,s=t.disallowedElements,o=t.rehypePlugins||ko,l=t.remarkPlugins||ko,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Eo}:Eo,u=t.skipHtml,f=t.unwrapDisallowed,h=t.urlTransform||NE,d=wE().use(ck).use(l).use(aE,c).use(o),v=new ku;typeof r=="string"&&(v.value=r);for(const g of AE)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+SE+g.id,void 0);const m=d.parse(v);let b=d.runSync(m,v);return i&&(b={type:"element",tagName:"div",properties:{className:i},children:b.type==="root"?b.children:[b]}),xu(b,p),U1(b,{Fragment:w.Fragment,components:a,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function p(g,_,y){if(g.type==="raw"&&y&&typeof _=="number")return u?y.children.splice(_,1):y.children[_]={type:"text",value:g.value},_;if(g.type==="element"){let x;for(x in Oi)if(Object.hasOwn(Oi,x)&&Object.hasOwn(g.properties,x)){const T=g.properties[x],j=Oi[x];(j===null||j.includes(g.tagName))&&(g.properties[x]=h(String(T||""),x,g))}}if(g.type==="element"){let x=e?!e.includes(g.tagName):s?s.includes(g.tagName):!1;if(!x&&n&&typeof _=="number"&&(x=!n(g,_,y)),x&&y&&typeof _=="number")return f&&g.children?y.children.splice(_,1,...g.children):y.children.splice(_,1),_}}}function NE(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||TE.test(t.slice(0,e))?t:""}le.object({title:le.string().min(5,"El ttulo debe tener al menos 5 caracteres"),content:le.string().min(50,"El contenido debe tener al menos 50 caracteres"),tags:le.array(le.string()).min(1,"Agrega al menos una etiqueta"),status:le.enum(["draft","published"])});function PE(){const[t,e]=Fe.useState(!1),{register:n,handleSubmit:r,watch:i}=Tt(),a=i("content","");return w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex justify-end",children:w.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>e(!t),children:t?"Editar":"Vista previa"})}),t?w.jsx("div",{className:"prose max-w-none",children:w.jsx(jE,{children:a})}):w.jsxs("form",{className:"space-y-6",children:[w.jsx(De,{label:"Ttulo",...n("title")}),w.jsx(yr,{label:"Contenido (Markdown)",rows:15,...n("content")}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(Ue,{type:"submit",children:"Publicar"}),w.jsxs("select",{...n("status"),className:"rounded-lg border-gray-300",children:[w.jsx("option",{value:"draft",children:"Borrador"}),w.jsx("option",{value:"published",children:"Publicar"})]})]})]})]})}function CE(){const{isAuthenticated:t,logout:e}=_a();return t?w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-2xl font-bold text-purple-900",children:"Panel de Administracin"}),w.jsx("button",{onClick:e,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Cerrar Sesin"})]}),w.jsxs(wl,{defaultValue:"resources",children:[w.jsxs(kl,{children:[w.jsx(dn,{value:"resources",children:"Recursos"}),w.jsx(dn,{value:"events",children:"Eventos"}),w.jsx(dn,{value:"psychologists",children:"Psiclogos"}),w.jsx(dn,{value:"blog",children:"Blog"})]}),w.jsx(hn,{value:"resources",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin de Recursos"}),w.jsx(Q_,{onSubmit:async n=>{console.log(n)}})]})}),w.jsx(hn,{value:"events",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin de Eventos"}),w.jsx(e1,{onSubmit:async n=>{console.log(n)}})]})}),w.jsx(hn,{value:"psychologists",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin de Psiclogos"}),w.jsx(n1,{})]})}),w.jsx(hn,{value:"blog",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin del Blog"}),w.jsx(PE,{})]})})]})]}):null}function IE(){const[t,e]=je.useState(""),[n,r]=je.useState(""),{login:i}=_a(),a=Zr(),s=o=>{o.preventDefault(),i(t)?a("/staff"):r("Contrasea incorrecta")};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-purple-50 to-white",children:w.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(No,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),w.jsx("h1",{className:"text-2xl font-bold text-purple-900",children:"Acceso al Panel de Staff"}),w.jsx("p",{className:"text-purple-600 mt-2",children:"Ingresa la contrasea para acceder"})]}),n&&w.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:w.jsx("p",{className:"text-sm font-medium",children:n})}),w.jsxs("form",{onSubmit:s,className:"space-y-6",children:[w.jsx(De,{type:"password",value:t,onChange:o=>e(o.target.value),placeholder:"Contrasea",label:"Contrasea"}),w.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Acceder"})]})]})})}const RE=le.object({title:le.string().min(3,"El ttulo debe tener al menos 3 caracteres"),type:le.enum(["text","video","audio","image"]),category:le.string().min(1,"Selecciona una categora"),description:le.string().min(10,"La descripcin debe tener al menos 10 caracteres"),url:le.string().url("Ingresa una URL vlida"),status:le.enum(["visible","hidden"])});function Oo({onSubmit:t,initialData:e}){var s,o,l,c,u,f;const{register:n,handleSubmit:r,formState:{errors:i,isSubmitting:a}}=Tt({resolver:Bt(RE),defaultValues:e});return w.jsxs("form",{onSubmit:r(t),className:"space-y-6",children:[w.jsx(De,{label:"Ttulo",error:(s=i.title)==null?void 0:s.message,...n("title")}),w.jsx(Zn,{label:"Tipo de recurso",error:(o=i.type)==null?void 0:o.message,options:[{value:"text",label:"Texto"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"image",label:"Imagen"}],...n("type")}),w.jsx(Zn,{label:"Categora",error:(l=i.category)==null?void 0:l.message,options:[{value:"meditation",label:"Meditacin"},{value:"therapy",label:"Terapia"},{value:"support",label:"Apoyo"}],...n("category")}),w.jsx(yr,{label:"Descripcin",error:(c=i.description)==null?void 0:c.message,...n("description")}),w.jsx(De,{label:"URL del recurso",error:(u=i.url)==null?void 0:u.message,...n("url")}),w.jsx(Zn,{label:"Estado",error:(f=i.status)==null?void 0:f.message,options:[{value:"visible",label:"Visible"},{value:"hidden",label:"Oculto"}],...n("status")}),w.jsx(Ue,{type:"submit",isLoading:a,children:e?"Actualizar Recurso":"Crear Recurso"})]})}function LE(){const{isAuthenticated:t}=_a(),[e,n]=Fe.useState(!1),[r,i]=Fe.useState(null),{data:a,refetch:s}=gr("resources");if(!t)return null;const o=async u=>{try{const{error:f}=await Le.from("resources").insert(u);if(f)throw f;n(!1),s()}catch(f){console.error("Error creating resource:",f)}},l=async u=>{if(r)try{const{error:f}=await Le.from("resources").update(u).eq("id",r.id);if(f)throw f;i(null),s()}catch(f){console.error("Error updating resource:",f)}},c=async u=>{if(confirm("Ests seguro de que deseas eliminar este recurso?"))try{const{error:f}=await Le.from("resources").delete().eq("id",u);if(f)throw f;s()}catch(f){console.error("Error deleting resource:",f)}};return w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-2xl font-bold text-purple-900",children:"Gestin de Recursos"}),w.jsxs(Ue,{onClick:()=>n(!0),children:[w.jsx(qu,{className:"w-4 h-4 mr-2"}),"Nuevo Recurso"]})]}),e&&w.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Crear Nuevo Recurso"}),w.jsx(Oo,{onSubmit:o})]}),r&&w.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Editar Recurso"}),w.jsx(Oo,{onSubmit:l,initialData:r})]}),w.jsx("div",{className:"grid gap-6",children:a==null?void 0:a.map(u=>w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:u.title}),w.jsx("p",{className:"text-gray-600",children:u.description}),w.jsxs("div",{className:"mt-2 space-x-2",children:[w.jsx("span",{className:"inline-block px-2 py-1 text-sm bg-purple-100 text-purple-800 rounded",children:u.type}),w.jsx("span",{className:"inline-block px-2 py-1 text-sm bg-purple-100 text-purple-800 rounded",children:u.category}),w.jsx("span",{className:`inline-block px-2 py-1 text-sm rounded ${u.status==="visible"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Ue,{variant:"secondary",onClick:()=>i(u),children:w.jsx(ua,{className:"w-4 h-4"})}),w.jsx(Ue,{variant:"danger",onClick:()=>c(u.id),children:w.jsx(Po,{className:"w-4 h-4"})})]})]},u.id))})]})}const DE="gruposisumx@gmail.com",ME=le.object({problem_description:le.string().min(10,"Por favor describe tu situacin"),preferred_contact_time:le.string().min(1,"Selecciona un horario"),contact_info:le.object({phone:le.string().min(10,"Ingresa un telfono vlido"),email:le.string().email("Ingresa un email vlido")})});function $E({isOpen:t,onClose:e,professionalId:n,professionalName:r}){var c,u;const{user:i}=Ft(),{register:a,handleSubmit:s,formState:{errors:o}}=Tt({resolver:Bt(ME)}),l=async(f,h=!1)=>{if(i)try{const{error:d}=await Le.from("contact_requests").insert({user_id:i.id,professional_id:n,...f,is_emergency:h,contact_email:DE});if(d)throw d;e()}catch(d){console.error("Error al enviar solicitud:",d)}};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h2",{className:"text-2xl font-bold text-purple-900",children:["Contactar a ",r]}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:w.jsx(sa,{className:"w-6 h-6"})})]}),w.jsx("form",{onSubmit:s(f=>l(f,!1)),children:w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe tu problema"}),w.jsx("textarea",{...a("problem_description"),className:"w-full rounded-lg border-gray-300 shadow-sm",rows:4}),o.problem_description&&w.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.problem_description.message})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"En qu horario te podemos contactar?"}),w.jsxs("select",{...a("preferred_contact_time"),className:"w-full rounded-lg border-gray-300 shadow-sm",children:[w.jsx("option",{value:"",children:"Selecciona un horario"}),w.jsx("option",{value:"morning",children:"Maana (9:00 - 12:00)"}),w.jsx("option",{value:"afternoon",children:"Tarde (12:00 - 17:00)"}),w.jsx("option",{value:"evening",children:"Noche (17:00 - 20:00)"})]}),o.preferred_contact_time&&w.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.preferred_contact_time.message})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Djanos tus datos"}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),w.jsx("input",{type:"tel",...a("contact_info.phone"),className:"w-full rounded-lg border-gray-300 shadow-sm"}),((c=o.contact_info)==null?void 0:c.phone)&&w.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.contact_info.phone.message})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),w.jsx("input",{type:"email",...a("contact_info.email"),className:"w-full rounded-lg border-gray-300 shadow-sm"}),((u=o.contact_info)==null?void 0:u.email)&&w.jsx("p",{className:"text-red-600 text-sm mt-1",children:o.contact_info.email.message})]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Enviar"}),w.jsx("button",{type:"button",onClick:()=>l({problem_description:"EMERGENCIA",preferred_contact_time:"immediate",contact_info:{phone:(i==null?void 0:i.phone)||"",email:(i==null?void 0:i.email)||""}},!0),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Tengo una emergencia"})]})]})})]})}):null}function qE({professional:t}){const[e,n]=Fe.useState(!1);return w.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[w.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-64 object-cover"}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:t.name}),w.jsx("p",{className:"text-gray-600 mb-4",children:t.bio}),w.jsx("div",{className:"mb-4",children:w.jsxs("p",{className:"text-purple-700 font-semibold",children:[t.years_experience," aos de experiencia"]})}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Especialidades:"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map(r=>w.jsx("span",{className:"bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full",children:r},r))})]}),w.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center justify-center gap-2 bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:[w.jsx(Bu,{className:"w-5 h-5"}),"Contactar"]})]}),w.jsx($E,{isOpen:e,onClose:()=>n(!1),professionalId:t.id,professionalName:t.name})]})}function BE(){const[t,e]=Fe.useState([]),[n,r]=Fe.useState(!0);return Fe.useEffect(()=>{async function i(){try{const{data:a,error:s}=await Le.from("professionals").select("*");if(s)throw s;e(a||[])}catch(a){console.error("Error fetching professionals:",a)}finally{r(!1)}}i()},[]),n?w.jsx("div",{children:"Cargando..."}):w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-8 text-center",children:"Nuestro Equipo de Profesionales"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(i=>w.jsx(qE,{professional:i},i.id))})]})}const FE=()=>(je.useEffect(()=>{const t=document.createElement("script");return t.src="https://bots.easy-peasy.ai/bot/54229d4e-1440-4c42-805f-ad39b1b2e1a8",t.async=!0,t.defer=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),w.jsx("div",{id:"chatbot-container"}));function UE(){return w.jsx(ad,{children:w.jsx(Su,{children:w.jsxs("div",{className:"flex flex-col min-h-screen",children:[w.jsx(sd,{}),w.jsx("main",{className:"flex-grow",children:w.jsxs(Tu,{children:[w.jsx(ft,{path:"/",element:w.jsx(ld,{})}),w.jsx(ft,{path:"/login",element:w.jsx(mh,{})}),w.jsx(ft,{path:"/auth/callback",element:w.jsx(gh,{})}),w.jsx(ft,{path:"/perfil",element:w.jsx(rm,{})}),w.jsx(ft,{path:"/blog",element:w.jsx(Z_,{})}),w.jsx(ft,{path:"/recursos",element:w.jsx(K_,{})}),w.jsx(ft,{path:"/staff",element:w.jsx(CE,{})}),w.jsx(ft,{path:"/staff/login",element:w.jsx(IE,{})}),w.jsx(ft,{path:"/staff/resources",element:w.jsx(LE,{})}),w.jsx(ft,{path:"/profesionales",element:w.jsx(BE,{})})]})}),w.jsx(od,{}),w.jsx(FE,{})," "]})})})}id().then(t=>{t||console.error("Failed to initialize Supabase"),Ro(document.getElementById("root")).render(w.jsx(je.StrictMode,{children:w.jsx(UE,{})}))});
//# sourceMappingURL=index-CmUQfZTi.js.map
